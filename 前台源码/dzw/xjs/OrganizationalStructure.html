<!DOCTYPE html>
<html>

<head>
	<meta charset="UTF-8">
	<title>组织架构</title>
	<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css" />
	<link rel="stylesheet" type="text/css" href="css/aaa.css" />
	<!-- 最新版本的 Bootstrap 核心 CSS 文件 -->
	<link rel="stylesheet" href="https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css"
		integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

	<!-- 可选的 Bootstrap 主题文件（一般不用引入） -->
	<link rel="stylesheet" href="https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap-theme.min.css"
		integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">

	<!-- <link rel="stylesheet" href="css/bootstrap.min.css"> -->
	<link rel="stylesheet" type="text/css" href="../yf/css/font-awesome.css" />
	<link rel="stylesheet" href="../yf/css/public-y.css">
	<link rel="stylesheet" href="../yf/css/car_contact.css">
	<!-- 引入样式 -->
	<link rel="stylesheet" href="../yf/package/lib/style.css">
	<style type="text/css">
		.headDiv {
			background-color: ghostwhite;
			width: 100%;
			height: 80px;
		}

		.clear1 {
			display: block;
			content: '';
			clear: both;
		}

		.headDiv_left {
			font-size: 26px;
			margin: 20px 30px;
			height: 40px;
			line-height: 40px;
			float: left;
		}

		.headDiv_right {
			float: right;
			height: 40px;
			line-height: 40px;
			margin: 20px 30px;
		}

		.search {
			width: 450px;
			height: 40px;
			line-height: 40px;
			outline: none;
		}

		.btn {
			height: 40px;
			line-height: 40px;
			text-align: center;
			padding: 0px 12px;
			margin-left: 10px;
			/*width: 80px;*/
		}

		.buttonMenus {
			margin-top: 20px;
			margin-left: 10px;
			background-color: whitesmoke;
		}

		.bodyDiv {
			width: 100%;
			height: 100%;
			background-color: ghostwhite
		}

		.table {
			margin-top: 20px;
			table-layout: fixed;
		}

		.table2 {
			width: 60%;
		}

		.table th {
			color: white;
			background-color: deepskyblue;
			border: 1px solid black;
			width: 100px;
			text-align: center;
		}

		.table td {
			border: 1px solid gray;
			width: 100px;
			text-align: center;
		}

		.table tr {
			margin-top: 10px;
		}

		ul li {
			list-style: none;
		}

		.row {
			width: 100%;
			height: 100%;
		}

		body {
			background-color: ghostwhite;
			width: 100%;
			height: 100%;
			margin: 0px;
			padding: 0px;
		}

		.addEployDivHeadButton {
			height: 40px;
			line-height: 40px;
		}

		.row {
			width: 90%;
			height: 100%;
		}

		#addEployDiv {
			/*border: 1px solid red;width: 90%;height:auto;margin: 20px auto;display: none;*/
		}

		#updateEployDiv {
			/*border: 1px solid red;width: 90%;height:auto;margin: 20px auto;display: none;*/
		}

		#eployRole {
			/*border: 1px solid red;width: 80%;margin: 20px auto;height: auto;display: none;*/
		}

		.roleDivHeadButton {
			height: 40px;
			line-height: 40px;
			margin-top: 20px;
		}

		#selBy {
			/*	border: 1px solid red;width: 80%;height: auto;margin: 20px auto;display: none;*/
		}

		.zdButtonDiv {
			margin-top: 20px;
		}

		.zdprimary {
			margin-left: 20px;
		}
		html,body{
			height: 100%;
			width: 100%;
		}
		.modal-dialog {
			width: 90%;
		}

		.modal-dialog1 {
			-webkit-transform: translate(0, 0);
			-ms-transform: translate(0, 0);
			-o-transform: translate(0, 0);
			transform: translate(0, 0);
			width: 70%;
			margin: 20px auto;
		}

		.bg {
			background-color: lightyellow;
		}
		#ctx{
			width: 100%;
			height: 100%;
		}
	</style>
</head>

<body>
	<div id="ctx">
		<div class="clear1 headDiv">
			<div class="headDiv_left">组织架构</div>
			<div class="headDiv_right">
				<input type="text" class="search" placeholder="匹配工号/姓名/手机" id="searchtext" />
				<vxe-button type="button"  @click="selByNamePhone" style="background-color: rgb(248, 248, 255);">
					<span class="glyphicon glyphicon-search" aria-hidden="true"></span>
					搜索
				</vxe-button>
				<vxe-button  style="background-color: rgb(248, 248, 255);">
					<span class="glyphicon glyphicon-off" aria-hidden="true"></span>
					关闭
				</vxe-button>
			</div>
		</div>
		<div class="bodyDiv">
			<div class="buttonMenus">
				<vxe-button  @click="addEploy" style="background-color: rgb(245, 245, 245);">
					<span class="glyphicon glyphicon-plus" aria-hidden="true" v-perms="'zzjg:add'"></span>
					增加员工
				</vxe-button>
				<vxe-button  @click="updateEploy" style="background-color: rgb(245, 245, 245);">
					<span class="glyphicon glyphicon-pencil" aria-hidden="true" v-perms="'zzjg:update'"></span>
					修改
				</vxe-button>
				<vxe-button  @click="remove" style="background-color: rgb(245, 245, 245);">
					<span class="glyphicon glyphicon-trash" aria-hidden="true" v-perms="'zzjg:delete'"></span>
					删除
				</vxe-button>
				<vxe-button  @click="openSel" style="background-color: rgb(245, 245, 245);">
					<span class="glyphicon glyphicon-search" aria-hidden="true" v-perms="'zzjg:select'"></span>
					查询
				</vxe-button>
				<vxe-button  @click="clearPwd" style="background-color: rgb(245, 245, 245);">
					<span class="glyphicon glyphicon-refresh" aria-hidden="true"></span>
					置空密码
				</vxe-button>
				<vxe-button  @click="daoChu" style="background-color: rgb(245, 245, 245);">
					<span class="glyphicon glyphicon-floppy-save" aria-hidden="true"></span>
					导出
				</vxe-button>
				<vxe-button  @click="daoRu" style="background-color: rgb(245, 245, 245);">
					<span class="glyphicon glyphicon-floppy-open" aria-hidden="true"></span>
					导入
				</vxe-button>
				<vxe-button  @click="role" style="background-color: rgb(245, 245, 245);">
					<span class="glyphicon glyphicon-user" aria-hidden="true"></span>
					员工角色
				</vxe-button>
				<vxe-button  @click="openZd" style="background-color: rgb(245, 245, 245);">
					<span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
					字段设置
				</vxe-button>
				<vxe-button  @click="openNewStore" style="background-color: rgb(245, 245, 245);">
					<span class="glyphicon glyphicon-plus" aria-hidden="true" v-perms="'zzjg:add'"></span>
					新增门店
				</vxe-button>
				<vxe-button  @click="openUpdateStore" style="background-color: rgb(245, 245, 245);">
					<span class="glyphicon glyphicon-pencil" aria-hidden="true" v-perms="'zzjg:update'"></span>
					修改门店
				</vxe-button>
				<vxe-button  @click="remoceStore" style="background-color: rgb(245, 245, 245);">
					<span class="glyphicon glyphicon-trash" aria-hidden="true" v-perms="'zzjg:delete'"></span>
					删除门店
				</vxe-button>
			</div>
			<div style="display:flex;;height: 100%;background-color: #fff;">
				<div style="width: 30%;height: 100%;background-color: #fff;">
					 <!-- 左侧树形 -->
					 <vxe-table border="none"
					 resizable
					 :show-header="false"
					 ref="xTree"
					 :tree-config="{children: 'list'}"
					 :data="clasM"
					 @cell-click="cellClickEvent1"
					 highlight-hover-row
					 highlight-current-row
					 @toggle-tree-expand="toggleExpandChangeEvent" style="height: 100%;background-color: #fff;">
					 <vxe-table-column field="storeName" tree-node ></vxe-table-column>
				   </vxe-table>
				</div>
				<div style="width: 70%;height: 100%;background: #fff;">
					<template>
						<div style="height: 100%;">
							<vxe-grid border stripe height="100%" :columns="tableColumn1" :data="employList"
							highlight-hover-row
							highlight-current-row
							@cell-click="cellClickEvent2" class="mytable-scrollbar" style="height:100%;background:#fff;">
							</vxe-grid>
						</div>
					</template>
				</div>
			</div>
		</div>
		<!--员工卡片用于增加 -->
		<div class="modal" data-backdrop="static" id="addEployDiv">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header" id="addHead">
						<h3 class="col-lg-offset-1 col-lg-4">员工卡片</h3>
						<div class="text-right addEployDivHeadButton">
							<vxe-button  @click="insertEploy">
								<span class="glyphicon glyphicon-floppy-saved" aria-hidden="true"></span>
								保存
							</vxe-button>
							<vxe-button  @click="addPrint">
								<span class="glyphicon glyphicon-print" aria-hidden="true"></span>
								打印
							</vxe-button>
							<vxe-button >
								<span class="glyphicon glyphicon-qrcode" aria-hidden="true"></span>
								实名验证
							</vxe-button>
							<vxe-button  @click="closeAddEploy">
								<span class="glyphicon glyphicon-off" aria-hidden="true"></span>
								关闭
							</vxe-button>
						</div>
					</div>
					<div class="modal-body">
						<form class="form-inline">
							<ul style="display:flex;">
								<li><a href="#tab1" data-toggle="tab">基本资料</a></li>
								<li><a href="#tab2" data-toggle="tab">其他信息</a></li>
							</ul>
							<div class="tab-content">
								<div class="tab-pane fade in active" id="tab1">
									<table border="0" cellspacing="0" cellpadding="0" width="100%" height="auto">
										<tr>
											<td colspan="4">
												<div class="form-group">
													<label for="eId" class="control-label">员工编号</label>
													<input type="text"         class="form-control"
														v-model="addEmploy.eId" readonly="readonly" />
												</div>
											</td>
											<td colspan="4">
												<div class="form-group">
													<label for="eName" class="control-label">员工姓名</label>
													<input type="text"         class="form-control"
														v-model="addEmploy.eName" />
												</div>
											</td>
											<td colspan="4">
												<div class="form-group">
													<label for="sex" class="control-label">性别:</label>
													<select      class="form-control"
														v-model="addEmploy.sexId">
														<option v-for="item in sexList" :value="item.sexId">
															{{item.sexName}}</option>
													</select>
													<a class="btn" @click="openSexDiv">
														<span class="glyphicon glyphicon-open"
															aria-hidden="true"></span>
													</a>
												</div>
											</td>
										</tr>
										<tr>
											<td colspan="6">
												<div class="form-group">
													<label for="store" class="control-label">所在门店</label>
													<select     class="form-control" v-model="addEmploy.mId"
														@change="getDepartmentList(addEmploy.mId)">
														<option   ></option>
														<option v-for="item in storeList" :value="item.storeId">
															{{item.storeName}}</option>
													</select>
												</div>
											</td>
											<td colspan="6">
												<div class="form-group">
													<label for="depart" class="control-label">所在部门:</label>
													<select  class="form-control"    
														v-model="addEmploy.dId">
														<option   ></option>
														<option v-for="item in departList" :value="item.dId">
															{{item.dName}}</option>
													</select>
													<!--<a class="btn" @click="opendepartDiv">进入</a>-->
												</div>
											</td>
										</tr>
										<tr>
											<td colspan="4">
												<div class="form-group">
													<label for="login" class="control-label">登陆账号</label>
													<input type="text"        class="form-control"
														v-model="addEmploy.login" />
												</div>
											</td>
											<td colspan="4">
												<div class="form-group">
													<label class="control-label" for="job">岗位</label>
													<select  class="form-control"    
														v-model="addEmploy.jId">
														<option v-for="item in jobList" :value="item.jobId">
															{{item.jobName}}</option>
													</select>
												</div>
											</td>
											<td colspan="4">
												<div class="form-group">
													<label class="control-label" for="heath">身体状态</label>
													<input type="text"         class="form-control"
														v-model="addEmploy.health" />
												</div>
											</td>
										</tr>
										<tr>
											<td colspan="4">
												<div class="form-group">
													<label for="height" class="control-label">身高</label>
													<input type="text"         class="form-control"
														v-model="addEmploy.height" />
												</div>
											</td>
											<td colspan="4">
												<div class="form-group">
													<label for="nplace" class="control-label">籍贯</label>
													<select      class="form-control"
														v-model="addEmploy.nplaceId">
														<option v-for="item in nplaceList" :value="item.nplaceId">
															{{item.nplaceName}}</option>
													</select>
													<a class="btn" @click="openNplaceDiv">
														<span class="glyphicon glyphicon-open"
															aria-hidden="true"></span>
													</a>
												</div>
											</td>
											<td colspan="4">
												<div class="form-group">
													<label for="national" class="control-label">民族</label>
													<select      class="form-control"
														v-model="addEmploy.nationalId">
														<option v-for="item in nationalList" :value="item.nationId">
															{{item.nationalName}}</option>
													</select>
													<a class="btn" @click="openNationalDiv">
														<span class="glyphicon glyphicon-open"
															aria-hidden="true"></span>

													</a>
												</div>
											</td>
										</tr>
										<tr>
											<td colspan="4">
												<div class="form-group">
													<label for="marry" class="control-label">婚姻状态</label>
													<select      class="form-control"
														v-model="addEmploy.marryId">
														<option   ></option>
														<option v-for="item in marryList" :value="item.maryyId">
															{{item.marryName}}</option>
													</select>
												</div>
											</td>
											<td colspan="4">
												<div class="form-group">
													<label for="education" class="control-label">学历</label>
													<select  class="form-control" id="education"
														v-model="addEmploy.educationId">
														<option v-for="item in educationList" :value="item.educationId">
															{{item.educationName}}</option>
													</select>
													<a class="btn" @click="openEducationDiv">
														<span class="glyphicon glyphicon-open"
															aria-hidden="true"></span>

													</a>
												</div>
											</td>
											<td colspan="4">
												<div class="form-group">
													<label for="school" class="control-label">毕业学校</label>
													<select  class="form-control" id="education"
														v-model="addEmploy.schoolId">
														<option v-for="item in schoolList" :value="item.schoolId">
															{{item.schoolName}}</option>
													</select>
													<a class="btn" @click="openSchoolDiv">
														<span class="glyphicon glyphicon-open"
															aria-hidden="true"></span>

													</a>
												</div>
											</td>
										</tr>
										<tr>
											<td colspan="3">
												<div class="form-group">
													<label class="control-label" for="major">专业</label>
													<select  class="form-control"    
														v-model="addEmploy.majorId">
														<option v-for="item in majorList" :value="item.majorId">
															{{item.majorName}}</option>
													</select>
													<a class="btn" @click="openMajorDiv">
														<span class="glyphicon glyphicon-open"
															aria-hidden="true"></span>

													</a>
												</div>
											</td>
											<td colspan="3">
												<div class="form-group">
													<label for="PQ" class="control-label">专业资格</label>
													<select  class="form-control"    
														v-model="addEmploy.PQId">
														<option v-for="item in PQList" :value="item.PQId">
															{{item.PQName}}</option>
													</select>
													<a class="btn" @click="openPQDiv">
														<span class="glyphicon glyphicon-open"
															aria-hidden="true"></span>

													</a>
												</div>
											</td>
											<td colspan="3">
												<div class="form-group">
													<label class="control-label" for="attr">属性</label>
													<select  class="form-control"    
														v-model="addEmploy.attId">
														<option v-for="item in natureList" :value="item.attId">
															{{item.attName}}</option>
													</select>
												</div>
											</td>
											<td colspan="3">
												<div class="form-group">
													<label for="degree" class="control-label">学位</label>
													<select  class="form-control"    
														v-model="addEmploy.degreeId">
														<option v-for="item in degreeList" :value="item.degreeId">
															{{item.degreeName}}</option>
													</select>
													<a class="btn" @click="openDegreeDiv">
														<span class="glyphicon glyphicon-open"
															aria-hidden="true"></span>

													</a>
												</div>
											</td>
										</tr>
										<tr>
											<td colspan="4">
												<div class="form-group">
													<label for="establish" class="control-label">编制</label>
													<input type="text"        class="form-control"
														v-model="addEmploy.establish" />
												</div>
											</td>
											<td colspan="4">
												<div class="form-group">
													<label for="cardId" class="control-label">身份证号</label>
													<input type="text"        class="form-control"
														v-model="addEmploy.cardId" />
												</div>
											</td>
											<td colspan="4">
												<div class="form-group">
													<label for="hAddress" class="control-label">户口地址</label>
													<input type="text"        class="form-control"
														v-model="addEmploy.hAddress" />
												</div>
											</td>
										</tr>
										<tr>
											<td colspan="4">
												<div class="form-group">
													<label for="nAddress" class="control-label">现住地址</label>
													<input type="text"        class="form-control"
														v-model="addEmploy.nAddress" />
												</div>
											</td>
											<td colspan="4">
												<div class="form-group">
													<label for="tel" class="control-label">联系电话</label>
													<input type="text"        class="form-control"
														v-model="addEmploy.tel" />
												</div>
											</td>
											<td colspan="4">
												<div class="form-group">
													<label for="phone" class="control-label">手机</label>
													<input type="text"        class="form-control"
														v-model="addEmploy.phone" />
												</div>
											</td>
										</tr>
										<tr>
											<td colspan="4">
												<div class="form-group">
													<label for="email" class="control-label">Email</label>
													<input type="text"      class="form-control"
														v-model="addEmploy.email" />
												</div>
											</td>
											<td colspan="4">
												<div class="form-group">
													<label class="control-label" for="bank">开户银行</label>
													<select  class="form-control"    
														v-model="addEmploy.bankId">
														<option v-for="item in bankList" :value="item.bankId">
															{{item.bankName}}</option>
													</select>
													<a class="btn" @click="openBankDiv">
														<span class="glyphicon glyphicon-open"
															aria-hidden="true"></span>

													</a>
												</div>
											</td>
											<td colspan="4">
												<div class="form-group">
													<label for="bankAccount" class="control-label">银行账号</label>
													<input type="text"        class="form-control"
														v-model="addEmploy.bankAccount" />
												</div>
											</td>
										</tr>
										<tr>
											<td colspan="6">
												<div class="form-group">
													<label for="contacts" class="control-label">紧急联系人</label>
													<input type="text"        class="form-control"
														v-model="addEmploy.contacts" />
												</div>
											</td>
											<td colspan="6">
												<div class="form-group">
													<label for="cphone" class="control-label">联系电话</label>
													<input type="text"        class="form-control"
														v-model="addEmploy.cphone" />
												</div>
											</td>
										</tr>
										<tr>
											<td colspan="3">
												<div class="form-group">
													<label for="entryDate" class="control-label">入职日期</label>
													<input type="date"        
														class="form-control" v-model="addEmploy.entryDate" />
												</div>
											</td>
											<td colspan="3">
												<div class="form-group">
													<label for="proDate" class="control-label">试用日期</label>
													<input type="date"        
														class="form-control" v-model="addEmploy.proDate" />
												</div>
											</td>
											<td colspan="3">
												<div class="form-group">
													<label for="birth" class="control-label">生日</label>
													<input type="date"         class="form-control"
														v-model="addEmploy.birth" />
												</div>
											</td>
											<td colspan="3">
												<div class="form-group">
													<label for="pactBegin" class="control-label">合同开始</label>
													<input type="date"        
														class="form-control" v-model="addEmploy.pactBegin" />
												</div>
											</td>
										</tr>
										<tr>
											<td colspan="3">
												<div class="form-group">
													<label for="pactEnd" class="control-label">合同结束</label>
													<input type="date"        
														class="form-control" v-model="addEmploy.pactEnd" />
												</div>
											</td>
											<td colspan="3">
												<div class="form-group">
													<label for="kzId" class="control-label">卡自编号</label>
													<input type="text"         class="form-control"
														v-model="addEmploy.kzId" />
												</div>
											</td>
											<td colspan="3">
												<div class="form-group">
													<label for="knId" class="control-label">卡内部号</label>
													<input type="text"         class="form-control"
														v-model="addEmploy.knId" />
												</div>
											</td>
											<td colspan="3">
												<div class="form-group">
													<label for="referrer" class="control-label">推荐人</label>
													<input type="text"        
														class="form-control" v-model="addEmploy.referrer" />
												</div>
											</td>
										</tr>
										<tr>
											<td colspan="3">
												<div class="form-group">
													<label for="billDiscount" class="control-label">整单折扣率</label>
													<input type="text"        
														class="form-control" v-model="addEmploy.billDiscount" />
												</div>
											</td>
											<td colspan="3">
												<div class="form-group">
													<label for="hourDiscount " class="control-label">工时折扣率</label>
													<input type="text"        
														class="form-control" v-model="addEmploy.hourDiscount" />
												</div>
											</td>
											<td colspan="3">
												<div class="form-group">
													<label for="shopDiscount" class="control-label">商品折扣率</label>
													<input type="text"        
														class="form-control" v-model="addEmploy.shopDiscount" />
												</div>
											</td>
											<td colspan="3">
												<div class="form-group">
													<label for="relief" class="control-label">减免权</label>
													<input type="text"         class="form-control"
														v-model="addEmploy.relief" />
												</div>
											</td>
										</tr>
									</table>
								</div>
								<!--其他信息-->
								<div class="tab-pane fade in" id="tab2">
									<table border="0" cellspacing="0" cellpadding="0" width="100%" height="auto">
										<tr>
											<td colspan="6">
												<div class="form-group">
													<label for="resume" class="control-label">工作简历</label>
													<textarea  rows="" cols=""     class="form-control"
														v-model="addEmploy.resume"></textarea>
												</div>
											</td>
											<td colspan="6">
												<div class="form-group">
													<label for="educationBackground" class="control-label">教育经历</label>
													<textarea  rows="" cols=""    
														class="form-control"
														v-model="addEmploy.educationBackground"></textarea>
												</div>
											</td>

										</tr>
										<tr>
											<td colspan="6">
												<div class="form-group">
													<label for="family" class="control-label">家庭成员</label>
													<textarea  rows="" cols=""     class="form-control"
														v-model="addEmploy.family"></textarea>
												</div>
											</td>
											<td colspan="6">
												<div class="form-group">
													<label for="jiangFa" class="control-label">奖罚记录</label>
													<textarea  rows="" cols=""     class="form-control"
														v-model="addEmploy.jiangFa"></textarea>
												</div>
											</td>
										</tr>
										<tr>
											<td colspan="6">
												<div class="form-group">
													<label for="hire" class="control-label">聘用意见</label>
													<textarea  rows="" cols=""     class="form-control"
														v-model="addEmploy.hire"></textarea>
												</div>
											</td>
										</tr>
									</table>
								</div>
							</div>
						</form>
					</div>
					<div class="modal-footer"></div>
				</div>
			</div>
		</div>
		<!--修改员工div-->
		<div class="modal" data-backdrop="static" id="updateEployDiv">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header" id="updateHead">
						<h3 class="col-lg-offset-1 col-lg-4">员工卡片</h3>
						<div class="text-right addEployDivHeadButton">
							<vxe-button  @click="xiuEploy">
								<span class="glyphicon glyphicon-floppy-saved" aria-hidden="true"></span>
								保存
							</vxe-button>
							<vxe-button  @click="updatePrint">
								<span class="glyphicon glyphicon-print" aria-hidden="true"></span>
								打印
							</vxe-button>
							<vxe-button >
								<span class="glyphicon glyphicon-qrcode" aria-hidden="true"></span>
								实名验证
							</vxe-button>
							<vxe-button  @click="closeUpdateEploy">
								<span class="glyphicon glyphicon-off" aria-hidden="true"></span>
								关闭
							</vxe-button>
						</div>
					</div>
					<div class="modal-body">
						<form class="form-inline">
							<ul  style="display:flex;" 	>
								<li><a href="#tab3" data-toggle="tab">基本资料</a></li>
								<li><a href="#tab4" data-toggle="tab">其他信息</a></li>
							</ul>
							<div class="tab-content">
								<div class="tab-pane fade in active" id="tab3">
									<table border="0" cellspacing="0" cellpadding="0" width="100%" height="auto">
										<tr>
											<td colspan="4">
												<div class="form-group">
													<label for="eId" class="control-label">员工编号</label>
													<input type="text"      value="11" class="form-control"
														v-model="updateEmploy.eId" readonly="readonly" />
												</div>
											</td>
											<td colspan="4">
												<div class="form-group">
													<label for="eName" class="control-label">员工姓名</label>
													<input type="text"      value="等比"
														class="form-control" v-model="updateEmploy.eName" />
												</div>
											</td>
											<td colspan="4">
												<div class="form-group">
													<label for="sex" class="control-label">性别:</label>
													<select      class="form-control"
														v-model="updateEmploy.sexId">
														<option v-for="item in sexList" :value="item.sexId">
															{{item.sexName}}</option>
													</select>
													<a class="btn" @click="openSexDiv">
														<span class="glyphicon glyphicon-open"
															aria-hidden="true"></span>

													</a>
												</div>
											</td>
										</tr>
										<tr>
											<td colspan="6">
												<div class="form-group">
													<label for="store" class="control-label">所在门店</label>
													<select     class="form-control" v-model="updateEmploy.mId"
														@change="getDepartmentList(updateEmploy.mId)">
														<option   ></option>
														<option v-for="item in storeList" :value="item.storeId">
															{{item.storeName}}</option>
													</select>
												</div>
											</td>
											<td colspan="6">
												<div class="form-group">
													<label for="depart" class="control-label">所在部门:</label>
													<select  class="form-control"    
														v-model="updateEmploy.dId">
														<option   ></option>
														<option v-for="item in departList" :value="item.dId">
															{{item.dName}}</option>
													</select>
													<!--<a class="btn" @click="opendepartDiv">进入</a>-->
												</div>
											</td>
										</tr>
										<tr>
											<td colspan="4">
												<div class="form-group">
													<label for="login" class="control-label">登陆账号</label>
													<input type="text"        class="form-control"
														v-model="updateEmploy.login" />
												</div>
											</td>
											<td colspan="4">
												<div class="form-group">
													<label class="control-label" for="job">岗位</label>
													<select  class="form-control"    
														v-model="updateEmploy.jId">
														<option v-for="item in jobList" :value="item.jobId">
															{{item.jobName}}</option>
													</select>
												</div>
											</td>
											<td colspan="4">
												<div class="form-group">
													<label class="control-label" for="heath">身体状态</label>
													<input type="text"         class="form-control"
														v-model="updateEmploy.health" />
												</div>
											</td>
										</tr>
										<tr>
											<td colspan="4">
												<div class="form-group">
													<label for="height" class="control-label">身高</label>
													<input type="text"         class="form-control"
														v-model="updateEmploy.height" />
												</div>
											</td>
											<td colspan="4">
												<div class="form-group">
													<label for="nplace" class="control-label">籍贯</label>
													<select  class="form-control"    
														v-model="updateEmploy.nplaceId">
														<option v-for="item in nplaceList" :value="item.nplaceId">
															{{item.nplaceName}}</option>
													</select>
													<a class="btn" @click="openNplaceDiv">
														<span class="glyphicon glyphicon-open"
															aria-hidden="true"></span>
													</a>
												</div>
											</td>
											<td colspan="4">
												<div class="form-group">
													<label for="national" class="control-label">民族</label>
													<select class="form-control"    
														v-model="updateEmploy.nationalId">
														<option v-for="item in nationalList" :value="item.nationalId">
															{{item.nationalName}}</option>
													</select>
													<a class="btn" @click="openNationalDiv">
														<span class="glyphicon glyphicon-open"
															aria-hidden="true"></span>
													</a>
												</div>
											</td>
										</tr>
										<tr>
											<td colspan="4">
												<div class="form-group">
													<label for="marry" class="control-label">婚姻状态</label>
													<select  class="form-control"    
														v-model="updateEmploy.marryId">
														<option v-for="item in marryList" :value="item.marryId">
															{{item.marryName}}</option>
													</select>
												</div>
											</td>
											<td colspan="4">
												<div class="form-group">
													<label for="educartion" class="control-label">学历</label>
													<select  class="form-control" id="education"
														v-model="updateEmploy.educationId">
														<option v-for="item in educationList" :value="item.educationId">
															{{item.educationName}}</option>
													</select>
													<a class="btn" @click="openEducationDiv">
														<span class="glyphicon glyphicon-open"
															aria-hidden="true"></span>
													</a>
												</div>
											</td>
											<td colspan="4">
												<div class="form-group">
													<label for="school" class="control-label">毕业学校</label>
													<select  class="form-control" id="school"
														v-model="updateEmploy.schoolId">
														<option v-for="item in schoolList" :value="item.schoolId">
															{{item.schoolName}}</option>
													</select>
													<a class="btn" @click="openSchoolDiv">
														<span class="glyphicon glyphicon-open"
															aria-hidden="true"></span>
													</a>
												</div>
											</td>
										</tr>
										<tr>
											<td colspan="3">
												<div class="form-group">
													<label class="control-label" for="major">专业</label>
													<select  class="form-control"    
														v-model="updateEmploy.majorId">
														<option v-for="item in majorList" :value="item.majorId">
															{{item.majorName}}</option>
													</select>
													<a class="btn" @click="openMajorDiv">
														<span class="glyphicon glyphicon-open"
															aria-hidden="true"></span>
													</a>
												</div>
											</td>
											<td colspan="3">
												<div class="form-group">
													<label for="PQ" class="control-label">专业资格</label>
													<select  class="form-control"    
														v-model="updateEmploy.PQId">
														<option v-for="item in PQList" :value="item.PQId">
															{{item.PQName}}</option>
													</select>
													<a class="btn" @click="openPQDiv">
														<span class="glyphicon glyphicon-open"
															aria-hidden="true"></span>
													</a>
												</div>
											</td>
											<td colspan="3">
												<div class="form-group">
													<label class="control-label" for="attr">属性</label>
													<select  class="form-control"    
														v-model="updateEmploy.attId">
														<option v-for="item in natureList" :value="item.attId">
															{{item.attName}}</option>
													</select>
												</div>
											</td>
											<td colspan="3">
												<div class="form-group">
													<label for="degree" class="control-label">学位</label>
													<select  class="form-control"    
														v-model="updateEmploy.degreeId">
														<option v-for="item in degreeList" :value="item.degreeId">
															{{item.degreeName}}</option>
													</select>
													<a class="btn" @click="openDegreeDiv">
														<span class="glyphicon glyphicon-open"
															aria-hidden="true"></span>
													</a>
												</div>
											</td>
										</tr>
										<tr>
											<td colspan="4">
												<div class="form-group">
													<label for="establish" class="control-label">编制</label>
													<input type="text"        class="form-control"
														v-model="updateEmploy.establish" />
												</div>
											</td>
											<td colspan="4">
												<div class="form-group">
													<label for="cardId" class="control-label">身份证号</label>
													<input type="text"        class="form-control"
														v-model="updateEmploy.cardId" />
												</div>
											</td>
											<td colspan="4">
												<div class="form-group">
													<label for="hAddress" class="control-label">户口地址</label>
													<input type="text"        class="form-control"
														v-model="updateEmploy.hAddress" />
												</div>
											</td>
										</tr>
										<tr>
											<td colspan="4">
												<div class="form-group">
													<label for="nAddress" class="control-label">现住地址</label>
													<input type="text"        class="form-control"
														v-model="updateEmploy.nAddress" />
												</div>
											</td>
											<td colspan="4">
												<div class="form-group">
													<label for="tel" class="control-label">联系电话</label>
													<input type="text"        class="form-control"
														v-model="updateEmploy.tel" />
												</div>
											</td>
											<td colspan="4">
												<div class="form-group">
													<label for="phone" class="control-label">手机</label>
													<input type="text"        class="form-control"
														v-model="updateEmploy.phone" />
												</div>
											</td>
										</tr>
										<tr>
											<td colspan="4">
												<div class="form-group">
													<label for="email" class="control-label">Email</label>
													<input type="text"        class="form-control"
														v-model="updateEmploy.email" />
												</div>
											</td>
											<td colspan="4">
												<div class="form-group">
													<label class="control-label" for="bank">开户银行</label>
													<select  class="form-control"    
														v-model="updateEmploy.bankId">
														<option v-for="item in bankList" :value="item.bankId">
															{{item.bankName}}</option>
													</select>
													<a class="btn" @click="openBankDiv">
														<span class="glyphicon glyphicon-open"
															aria-hidden="true"></span>
													</a>
												</div>
											</td>
											<td colspan="4">
												<div class="form-group">
													<label for="bankAccount" class="control-label">银行账号</label>
													<input type="text"        class="form-control"
														v-model="updateEmploy.bankAccount" />
												</div>
											</td>
										</tr>
										<tr>
											<td colspan="6">
												<div class="form-group">
													<label for="contacts" class="control-label">紧急联系人</label>
													<input type="text"        class="form-control"
														v-model="updateEmploy.contacts" />
												</div>
											</td>
											<td colspan="6">
												<div class="form-group">
													<label for="cphone" class="control-label">联系电话</label>
													<input type="text"      class="form-control"
														v-model="updateEmploy.cphone" />
												</div>
											</td>
										</tr>
										<tr>
											<td colspan="3">
												<div class="form-group">
													<label for="entryDate" class="control-label">入职日期</label>
													<input type="date"      
														class="form-control" v-model="updateEmploy.entryDate" />
												</div>
											</td>
											<td colspan="3">
												<div class="form-group">
													<label for="proDate" class="control-label">试用日期</label>
													<input type="date"      
														class="form-control" v-model="updateEmploy.proDate" />
												</div>
											</td>
											<td colspan="3">
												<div class="form-group">
													<label for="birth" class="control-label">生日</label>
													<input type="date"       class="form-control"
														v-model="updateEmploy.birth" />
												</div>
											</td>
											<td colspan="3">
												<div class="form-group">
													<label for="pactBegin" class="control-label">合同开始</label>
													<input type="date"      
														class="form-control" v-model="updateEmploy.pactBegin" />
												</div>
											</td>
										</tr>
										<tr>
											<td colspan="3">
												<div class="form-group">
													<label for="pactEnd" class="control-label">合同结束</label>
													<input type="date"      
														class="form-control" v-model="updateEmploy.pactEnd" />
												</div>
											</td>
											<td colspan="3">
												<div class="form-group">
													<label for="kzId" class="control-label">卡自编号</label>
													<input type="text"      class="form-control"
														v-model="updateEmploy.kzId" />
												</div>
											</td>
											<td colspan="3">
												<div class="form-group">
													<label for="knId" class="control-label">卡内部号</label>
													<input type="text"       class="form-control"
														v-model="updateEmploy.knId" />
												</div>
											</td>
											<td colspan="3">
												<div class="form-group">
													<label for="referrer" class="control-label">推荐人</label>
													<input type="text"      
														class="form-control" v-model="updateEmploy.referrer" />
												</div>
											</td>
										</tr>
										<tr>
											<td colspan="3">
												<div class="form-group">
													<label for="billDiscount" class="control-label">整单折扣率</label>
													<input type="text"      
														class="form-control" v-model="updateEmploy.billDiscount" />
												</div>
											</td>
											<td colspan="3">
												<div class="form-group">
													<label for="hourDiscount " class="control-label">工时折扣率</label>
													<input type="text"      
														class="form-control" v-model="updateEmploy.hourDiscount" />
												</div>
											</td>
											<td colspan="3">
												<div class="form-group">
													<label for="shopDiscount" class="control-label">商品折扣率</label>
													<input type="text"      
														class="form-control" v-model="updateEmploy.shopDiscount" />
												</div>
											</td>
											<td colspan="3">
												<div class="form-group">
													<label for="relief" class="control-label">减免权</label>
													<input type="text"       class="form-control"
														v-model="updateEmploy.relief" />
												</div>
											</td>
										</tr>
									</table>
								</div>
								<!--其他信息-->
								<div class="tab-pane fade in" id="tab4">
									<table border="0" cellspacing="0" cellpadding="0" width="100%" height="auto">
										<tr>
											<td colspan="6">
												<div class="form-group">
													<label for="resume" class="control-label">工作简历</label>
													<textarea  rows="" cols=""     class="form-control"
														v-model="updateEmploy.resume"></textarea>
												</div>
											</td>
											<td colspan="6">
												<div class="form-group">
													<label for="educationBackground" class="control-label">教育经历</label>
													<textarea  rows="" cols=""    
														class="form-control"
														v-model="updateEmploy.educationBackground"></textarea>
												</div>
											</td>

										</tr>
										<tr>
											<td colspan="6">
												<div class="form-group">
													<label for="family" class="control-label">家庭成员</label>
													<textarea  rows="" cols=""     class="form-control"
														v-model="updateEmploy.family"></textarea>
												</div>
											</td>
											<td colspan="6">
												<div class="form-group">
													<label for="jiangFa" class="control-label">奖罚记录</label>
													<textarea  rows="" cols=""     class="form-control"
														v-model="updateEmploy.jiangFa"></textarea>
												</div>
											</td>
										</tr>
										<tr>
											<td colspan="6">
												<div class="form-group">
													<label for="hire" class="control-label">聘用意见</label>
													<textarea  rows="" cols=""     class="form-control"
														v-model="updateEmploy.hire"></textarea>
												</div>
											</td>
										</tr>
									</table>
								</div>
							</div>
						</form>
					</div>
					<div class="modal-footer"></div>
				</div>
			</div>
		</div>
		<!--员工角色-->
		<div class="modal" data-backdrop="static" id="eployRole">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<h3 class="col-lg-offset-1 col-lg-4">员工角色</h3>
						<div class="text-right addEployDivHeadButton">
							<vxe-button  @click="getSelectEvent">
								<span class="glyphicon glyphicon-ok" aria-hidden="true"></span>
								保存
							</vxe-button>
							<vxe-button  @click="closeRole">
								<span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
								关闭
							</vxe-button>
						</div>
					</div>
					<div class="modal-body">
						<div class="text-right roleDivHeadButton">
							<vxe-button  @click="$refs.xRoleTable.setAllCheckboxRow(true)">
								<span class="glyphicon glyphicon-sort-by-attributes" aria-hidden="true"></span>
								全部选择
							</vxe-button>
							<vxe-button  @click="$refs.xRoleTable.setAllCheckboxRow()">
								<span class="glyphicon glyphicon-sort-by-attributes-alt" aria-hidden="true"></span>
								全部取消
							</vxe-button>
						</div>
						<!--角色table-->
						<div>
							<vxe-table
							border
							ref="xRoleTable"
							:data="postitionList"
							@checkbox-all="selectAllEvent"
							auto-resize="true"
							row-id="postitionId"
							@checkbox-change="selectChangeEvent">
							<vxe-table-column field="postitionName" title="角色名称"></vxe-table-column>
							<vxe-table-column type="checkbox" title="包含" ></vxe-table-column>
							</vxe-table>
						</div>
					</div>
					<div class="modal-footer"></div>
				</div>
			</div>
		</div>
		<!--员工查询 -->
		<div class="modal" data-backdrop="static" id="selBy">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<h3 class="col-lg-offset-1 col-lg-4">员工查询</h3>
						<div class="text-right">
							<vxe-button  @click="sel">
								<span class="glyphicon glyphicon-ok" aria-hidden="true"></span>
								确定
							</vxe-button>
							<vxe-button  @click="closeSelBy">
								<span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
								关闭
							</vxe-button>
						</div>
					</div>
					<div class="modal-body">
						<table border="0" cellspacing="0" cellpadding="0" width="100%" height="auto">
							<tr>
								<td colspan="4">
									<div class="form-group">
										<label class="control-label">员工编号</label>
										<input type="text" class="form-control"
											v-model="employQuery.eId" />
									</div>
								</td>
								<td colspan="4">
									<div class="form-group">
										<label class="control-label">员工姓名</label>
										<input type="text"  class="form-control"
											v-model="employQuery.eName" />
									</div>
								</td>
								<td colspan="4">
									<div class="form-group">
										<label for="" class="control-label">性别</label>
										<select class="form-control" v-model="employQuery.sexId">
											<option   ></option>
											<option v-for="item in sexList" :value="item.sexId">{{item.sexName}}
											</option>
										</select>
									</div>
								</td>
							</tr>
							<tr>
								<td colspan="6">
									<div class="form-group">
										<label class="control-label">岗位</label>
										<select class="form-control" v-model="employQuery.jId">
											<option   ></option>
											<option v-for="item in jobList" :value="item.jobId">{{item.jobName}}
											</option>
										</select>
									</div>
								</td>
								<td colspan="6">
									<div class="form-group">
										<label class="control-label">部门</label>
										<input type="text"    readonly="readonly"
											class="form-control" v-model="employQuery.dId" @click="opendepartDiv" />
									</div>
								</td>
							</tr>
							<tr>
								<td colspan="4">
									<div class="form-group">
										<label class="control-label">身体状态</label>
										<input type="text"  class="form-control"
											v-model="employQuery.health" />
									</div>
								</td>
								<td colspan="4">
									<div class="form-group">
										<label class="control-label">身高</label>
										<input type="text"  class="form-control"
											v-model="employQuery.height" />
									</div>
								</td>
								<td colspan="4">
									<div class="form-group">
										<label class="control-label">籍贯</label>
										<select class="form-control" v-model="employQuery.nplaceId">
											<option   ></option>
											<option v-for="item in nplaceList" :value="item.nplaceId">
												{{item.nplaceName}}</option>
										</select>
									</div>
								</td>
							</tr>
							<tr>
								<td colspan="4">
									<div class="form-group">
										<label class="control-label">民族</label>
										<select class="form-control" v-model="employQuery.nationalId">
											<option   ></option>
											<option v-for="item in nationalList" :value="item.nationalId">
												{{item.nationalName}}</option>
										</select>
									</div>
								</td>
								<td colspan="4">
									<div class="form-group">
										<label class="control-label">婚姻状态</label>
										<select class="form-control" v-model="employQuery.marryId">
											<option   ></option>
											<option v-for="item in marryList" :value="item.marryId">{{item.marryName}}
											</option>
										</select>
									</div>
								</td>
								<td colspan="4">
									<div class="form-group">
										<label class="control-label">学历</label>
										<select class="form-control" v-model="employQuery.educationId">
											<option   ></option>
											<option v-for="item in educationList" :value="item.educationId">
												{{item.educationName}}</option>
										</select>
									</div>
								</td>
							</tr>
							<tr>
								<td colspan="4">
									<div class="form-group">
										<label class="control-label">毕业学校</label>
										<select class="form-control" v-model="employQuery.schoolId">
											<option   ></option>
											<option v-for="item in schoolList" :value="item.schoolId">
												{{item.schoolName}}</option>
										</select>
									</div>
								</td>
								<td colspan="4">
									<div class="form-group">
										<label class="control-label">专业</label>
										<select class="form-control" v-model="employQuery.majorId">
											<option   ></option>
											<option v-for="item in majorList" :value="item.majorId">{{item.majorName}}
											</option>
										</select>
									</div>
								</td>
								<td colspan="4">
									<div>
										<label class="control-label">专业资格</label>
										<select class="form-control" v-model="employQuery.PQId">
											<option   ></option>
											<option v-for="item in PQList" :value="item.PQId">{{item.PQName}}</option>
										</select>
									</div>
								</td>
							</tr>
							<tr>
								<td colspan="4">
									<div class="form-group">
										<label class="control-label">生日</label>
										<input type="date"  class="form-control"
											v-model="employQuery.birth" />
									</div>
								</td>
								<td colspan="4">
									<div class="form-group">
										<label class="control-label">学位</label>
										<select class="form-control" v-model="employQuery.degreeId">
											<option   ></option>
											<option v-for="item in degreeList" :value="item.degreeId">
												{{item.degreeName}}</option>
										</select>
									</div>
								</td>
								<td colspan="4">
									<div class="form-group">
										<label class="control-label">编制</label>
										<input type="text"  class="form-control"
											v-model="employQuery.establish" />
									</div>
								</td>
							</tr>
							<tr>
								<td colspan="6">
									<div class="form-group">
										<label class="control-label">身份证号</label>
										<input type="text"  class="form-control"
											v-model="employQuery.cardId" />
									</div>
								</td>
								<td colspan="6">
									<div class="form-group">
										<label class="control-label">入职日期从</label>
										<input type="date"  class="form-control"
											v-model="employQuery.entryDateStart" />
										<label class="control-label">至</label>
										<input type="date"  class="form-control"
											v-model="employQuery.entryDateEnd" />
									</div>
								</td>
							</tr>
							<tr>
								<td colspan="6">
									<div class="form-group">
										<label class="control-label">试用日期从</label>
										<input type="date"  class="form-control"
											v-model="employQuery.proDateStart" />
										<label class="control-label">至</label>
										<input type="date"  class="form-control"
											v-model="employQuery.proDateEnd" />
									</div>
								</td>
								<td colspan="6">
									<div class="form-group">
										<label class="control-label">属性</label>
										<select class="form-control" v-model="employQuery.attId">
											<option   ></option>
											<option v-for="item in natureList" :value="item.attId">{{item.attName}}
											</option>
										</select>
									</div>
								</td>
							</tr>
							<tr>
								<td colspan="6">
									<div class="form-group">
										<label class="control-label">合同开始从</label>
										<input type="date"  class="form-control"
											v-model="employQuery.pactBegin" />
										<label class="control-label">至</label>
										<input type="date"  class="form-control"
											v-model="employQuery.pactEnd" />
									</div>
								</td>
							</tr>
						</table>
					</div>
					<div class="modal-footer"></div>
				</div>
			</div>
		</div>
		<!--字段设置-->
		<div class="modal" data-backdrop="static" id="showZd">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<h3 class="col-lg-offset-1 col-lg-3">字段设置</h3>
						<div class="text-right">
							<vxe-button  @click="closeZd">
								<span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
								关闭
							</vxe-button>
						</div>
					</div>
					<div class="modal-body">
						<div class="zdButtonDiv">
							<vxe-button  @click="primaryZd()">
								<span class="glyphicon glyphicon-ok" aria-hidden="true"></span>
								确定
							</vxe-button>
							<vxe-button  @click="changeZd(true)">
								<span class="glyphicon glyphicon-sort-by-attributes" aria-hidden="true"></span>
								全部选择
							</vxe-button>
							<vxe-button  @click="changeZd(false)">
								<span class="glyphicon glyphicon-sort-by-attributes-alt" aria-hidden="true"></span>
								全部取消
							</vxe-button>
						</div>
						<div>
							<!-- <table border="" cellspacing="" cellpadding="" class="table">
								<tr>
									<th>显示</th>
									<th>字段</th>
									<th>字段名称</th>
									<th>序号</th>
									<th>显示宽度</th>
								</tr>
								<tr v-for="item in zdList">
									<td>
										<input type="checkbox"  :value="item.id" v-model="zdChecks" />
									</td>
									<td>{{item.zd}}</td>
									<td>{{item.zdName}}</td>
									<td>{{item.id}}</td>
									<td>100</td>
								</tr>
							</table> -->
						</div>
					</div>
					<div class="modal-footer"></div>
				</div>
			</div>
		</div>
		<!-- 性别框-->
		<div class="modal" data-backdrop="static" id="sexDiv">
			<div class="modal-dialog1">
				<div class="modal-content">
					<div class="modal-header">
						<h3 class="col-lg-4">请选择内容设置</h3>
						<div class="text-right">
							<vxe-button  @click="closeSexDiv">
								<span class="glyphicon glyphicon-off" aria-hidden="true"></span>
								关闭
							</vxe-button>
						</div>
					</div>
					<div class="modal-body">
						<div class="text-right sexModel_centernDiv">
							<vxe-button  @click="addSexList">
								<span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
								修改
							</vxe-button>
							<vxe-button  @click="saveSexList">
								<span class="glyphicon glyphicon-floppy-saved" aria-hidden="true"></span>
								保存
							</vxe-button>
						</div>
						<div>
							<vxe-table
							border
							show-overflow
							ref="xSexTable"
							highlight-hover-row 
							highlight-current-row
							@cell-click="getSexCell"
							auto-resize="true"
							:data="sexList"
							:edit-config="{trigger: 'click', mode: 'cell', icon: 'fa fa-pencil', showStatus: true}">
							<vxe-table-column type="seq" width="" title="序号"></vxe-table-column>
							<vxe-table-column field="sexName" title="性别" sortable :edit-render="{name: 'input'}"></vxe-table-column>
						  </vxe-table>
						</div>
					</div>
					<div class="modal-footer">
						<div class="text-right">
							<vxe-button  @click="sexOk">
								<span class="glyphicon glyphicon-ok" aria-hidden="true"></span>
								选择
							</vxe-button>
						</div>
					</div>
				</div>
			</div>
		</div>
		<!-- 部门框-->
		<div class="modal" data-backdrop="static" id="departDiv">
			<div class="modal-dialog1">
				<div class="modal-content">
					<div class="modal-header">
						<h3 class="col-lg-4">部门选择</h3>
						<div class="text-right">
							<vxe-button  @click="savedepartList">
								<span class="glyphicon glyphicon-ok" aria-hidden="true"></span>
								选择
							</vxe-button>
							<vxe-button  @click="closedepartDiv">
								<span class="glyphicon glyphicon-off" aria-hidden="true"></span>
								关闭
							</vxe-button>
						</div>
					</div>
					<div class="modal-body">
						<div>
							<select  class="form-control" v-model="selStoorId"
								@change="getDepartmentList(selStoorId)">
								<option :value="item.storeId" v-for="item in storeList">
									{{item.storeId}}-{{item.storeName}}</option>
								<!--<option   >0001-成高</option>
			            			<option   >0002-成高1</option>-->
							</select>
						</div>
						<div>
							<vxe-table
								border
								highlight-hover-row
								highlight-current-row
								:data="departList"
								@cell-click="getBumenCell"
								auto-resize="true"
								@current-change="currentChangeEvent">
								<vxe-table-column field="dId" title="部门编码"></vxe-table-column>
								<vxe-table-column field="dName" title="部门名称"></vxe-table-column>
								<vxe-table-column field="departmentType.tName" title="部门分类"></vxe-table-column>
								</vxe-table>
							<!-- <table border="" cellspacing="" cellpadding="" class="table table2">
								<tr>
									<th></th>
									<th>部门编码</th>
									<th>部门名称</th>
									<th>部门分类</th>
								</tr>
								<tr v-for="(item,index) in departList" :class='{bg:index==isactive}' @click="fn(index)">
									<td @click="chooseDepartmentTr(item)"></td>
									<td @click="chooseDepartmentTr(item)">{{item.dId}}</td>
									<td @click="chooseDepartmentTr(item)">{{item.dName}}</td>
									<td @click="chooseDepartmentTr(item)">{{item.departmentType.tName}}</td>
								</tr>
							</table> -->
						</div>
					</div>
					<div class="modal-footer"></div>
				</div>
			</div>
		</div>
		<!-- 民族框-->
		<div class="modal" data-backdrop="static" id="nationalDiv">
			<div class="modal-dialog1">
				<div class="modal-content">
					<div class="modal-header">
						<h3 class="col-lg-4">请选择内容设置</h3>
						<div class="text-right">
							<vxe-button  @click="closeNationalDiv">
								<span class="glyphicon glyphicon-off" aria-hidden="true"></span>
								关闭
							</vxe-button>
						</div>
					</div>
					<div class="modal-body">
						<div class="text-right sexModel_centernDiv">
							<vxe-button  @click="addNationalList">
								<span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
								修改
							</vxe-button>
							<vxe-button  @click="saveNationList">
								<span class="glyphicon glyphicon-floppy-saved" aria-hidden="true"></span>
								保存
							</vxe-button>
						</div>
						<div>
							<vxe-table
								border
								show-overflow
								ref="xNationalTable"
								highlight-hover-row 
								highlight-current-row
								@cell-click="getNationalCell"
								auto-resize="true"
								:data="nationalList"
								:edit-config="{trigger: 'click', mode: 'cell', icon: 'fa fa-pencil', showStatus: true}">
								<vxe-table-column type="seq" width="" title="序号"></vxe-table-column>
								<vxe-table-column field="nationalName" title="民族" sortable :edit-render="{name: 'input'}"></vxe-table-column>
						  	</vxe-table>
						</div>
					</div>
					<div class="modal-footer">
						<div class="text-right">
							<vxe-button  @click="nationalOk">
								<span class="glyphicon glyphicon-ok" aria-hidden="true"></span>
								选择
							</vxe-button>
						</div>
					</div>
				</div>
			</div>
		</div>
		<!-- 籍贯框-->
		<div class="modal" data-backdrop="static" id="nplaceDiv">
			<div class="modal-dialog1">
				<div class="modal-content">
					<div class="modal-header">
						<h3 class="col-lg-4">请选择内容设置</h3>
						<div class="text-right">
							<vxe-button  @click="closeNplaceDiv">
								<span class="glyphicon glyphicon-off" aria-hidden="true"></span>
								关闭
							</vxe-button>
						</div>
					</div>
					<div class="modal-body">
						<div class="text-right sexModel_centernDiv">
							<vxe-button  @click="addNplaceList">
								<span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
								修改
							</vxe-button>
							<vxe-button  @click="saveNplaceList">
								<span class="glyphicon glyphicon-floppy-saved" aria-hidden="true"></span>
								保存
							</vxe-button>
						</div>
						<div>
							<vxe-table
							border
							show-overflow
							ref="xNplaceTable"
							highlight-hover-row 
							highlight-current-row
							@cell-click="getNplaceCell"
							:data="nplaceList"
							auto-resize="true"
							:edit-config="{trigger: 'click', mode: 'cell', icon: 'fa fa-pencil', showStatus: true}">
							<vxe-table-column type="seq" width="" title="序号"></vxe-table-column>
							<vxe-table-column field="nplaceName" title="籍贯" sortable :edit-render="{name: 'input'}"></vxe-table-column>
							</vxe-table>
						</div>
					</div>
					<div class="modal-footer">
						<div class="text-right">
							<vxe-button  @click="nplaceOk">
								<span class="glyphicon glyphicon-ok" aria-hidden="true"></span>
								选择
							</vxe-button>
						</div>
					</div>
				</div>
			</div>
		</div>
		<!-- 学历框-->
		<div class="modal" data-backdrop="static" id="educationDiv">
			<div class="modal-dialog1">
				<div class="modal-content">
					<div class="modal-header">
						<h3 class="col-lg-4">请选择内容设置</h3>
						<div class="text-right">
							<vxe-button  @click="closeEducationDiv">
								<span class="glyphicon glyphicon-off" aria-hidden="true"></span>
								关闭
							</vxe-button>
						</div>
					</div>
					<div class="modal-body">
						<div class="text-right sexModel_centernDiv">
							<vxe-button  @click="addEducationList">
								<span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
								修改
							</vxe-button>
							<vxe-button  @click="saveEducationList">
								<span class="glyphicon glyphicon-floppy-saved" aria-hidden="true"></span>
								保存
							</vxe-button>
						</div>
						<div>
							<vxe-table
							border
							show-overflow
							ref="xEducationTable"
							highlight-hover-row 
							highlight-current-row
							@cell-click="getEducationCell"
							:data="educationList"
							auto-resize="true"
							:edit-config="{trigger: 'click', mode: 'cell', icon: 'fa fa-pencil', showStatus: true}">
							<vxe-table-column type="seq" width="" title="序号"></vxe-table-column>
							<vxe-table-column field="educationName" title="学历" sortable :edit-render="{name: 'input'}"></vxe-table-column>
							</vxe-table>
						</div>
					</div>
					<div class="modal-footer">
						<div class="text-right">
							<vxe-button  @click="educationOk">
								<span class="glyphicon glyphicon-ok" aria-hidden="true"></span>
								选择
							</vxe-button>
						</div>
					</div>
				</div>
			</div>
		</div>
		<!-- 学校框-->
		<div class="modal" data-backdrop="static" id="schoolDiv">
			<div class="modal-dialog1">
				<div class="modal-content">
					<div class="modal-header">
						<h3 class="col-lg-4">请选择内容设置</h3>
						<div class="text-right">
							<vxe-button  @click="closeSchoolDiv">
								<span class="glyphicon glyphicon-off" aria-hidden="true"></span>
								关闭
							</vxe-button>
						</div>
					</div>
					<div class="modal-body">
						<div class="text-right sexModel_centernDiv">
							<vxe-button  @click="addSchoolList">
								<span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
								修改
							</vxe-button>
							<vxe-button  @click="saveSchoolList">
								<span class="glyphicon glyphicon-floppy-saved" aria-hidden="true"></span>
								保存
							</vxe-button>
						</div>
						<div>
							<vxe-table
							border
							show-overflow
							ref="xSchoolTable"
							highlight-hover-row 
							highlight-current-row
							@cell-click="getSchoolCell"
							:data="schoolList"
							auto-resize="true"
							:edit-config="{trigger: 'click', mode: 'cell', icon: 'fa fa-pencil', showStatus: true}">
							<vxe-table-column type="seq" width="" title="序号"></vxe-table-column>
							<vxe-table-column field="schoolName" title="学校" sortable :edit-render="{name: 'input'}"></vxe-table-column>
							</vxe-table>
						</div>
					</div>
					<div class="modal-footer">
						<div class="text-right">
							<vxe-button  @click="schoolOk">
								<span class="glyphicon glyphicon-ok" aria-hidden="true"></span>
								选择
							</vxe-button>
						</div>
					</div>
				</div>
			</div>
		</div>
		<!-- 专业框-->
		<div class="modal" data-backdrop="static" id="majorDiv">
			<div class="modal-dialog1">
				<div class="modal-content">
					<div class="modal-header">
						<h3 class="col-lg-4">请选择内容设置</h3>
						<div class="text-right">
							<vxe-button  @click="closeMajorDiv">
								<span class="glyphicon glyphicon-off" aria-hidden="true"></span>
								关闭
							</vxe-button>
						</div>
					</div>
					<div class="modal-body">
						<div class="text-right sexModel_centernDiv">
							<vxe-button  @click="addMajorList">
								<span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
								修改
							</vxe-button>
							<vxe-button  @click="saveMajorList">
								<span class="glyphicon glyphicon-floppy-saved" aria-hidden="true"></span>
								保存
							</vxe-button>
						</div>
						<div>
							<vxe-table
							border
							show-overflow
							ref="xMajorTable"
							highlight-hover-row 
							highlight-current-row
							@cell-click="getMajorCell"
							:data="majorList"
							auto-resize="true"
							:edit-config="{trigger: 'click', mode: 'cell', icon: 'fa fa-pencil', showStatus: true}">
							<vxe-table-column type="seq" width="" title="序号"></vxe-table-column>
							<vxe-table-column field="majorName" title="专业" sortable :edit-render="{name: 'input'}"></vxe-table-column>
							</vxe-table>
						</div>
					</div>
					<div class="modal-footer">
						<div class="text-right">
							<vxe-button  @click="majorOk">
								<span class="glyphicon glyphicon-ok" aria-hidden="true"></span>
								选择
							</vxe-button>
						</div>
					</div>
				</div>
			</div>
		</div>
		<!-- 专业资格框-->
		<div class="modal" data-backdrop="static" id="PQDiv">
			<div class="modal-dialog1">
				<div class="modal-content">
					<div class="modal-header">
						<h3 class="col-lg-4">请选择内容设置</h3>
						<div class="text-right">
							<vxe-button  @click="closePQDiv">
								<span class="glyphicon glyphicon-off" aria-hidden="true"></span>
								关闭
							</vxe-button>
						</div>
					</div>
					<div class="modal-body">
						<div class="text-right sexModel_centernDiv">
							<vxe-button  @click="addPQList">
								<span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
								修改
							</vxe-button>
							<vxe-button  @click="savePQList">
								<span class="glyphicon glyphicon-floppy-saved" aria-hidden="true"></span>
								保存
							</vxe-button>
						</div>
						<div>
							<vxe-table
							border
							show-overflow
							ref="xPQTable"
							highlight-hover-row 
							highlight-current-row
							@cell-click="getPQCell"
							:data="PQList"
							auto-resize="true"
							:edit-config="{trigger: 'click', mode: 'cell', icon: 'fa fa-pencil', showStatus: true}">
							<vxe-table-column type="seq" width="" title="序号"></vxe-table-column>
							<vxe-table-column field="PQName" title="专业资格" sortable :edit-render="{name: 'input'}"></vxe-table-column>
							</vxe-table>
						</div>
					</div>
					<div class="modal-footer">
						<div class="text-right">
							<vxe-button  @click="PQOk">
								<span class="glyphicon glyphicon-ok" aria-hidden="true"></span>
								选择
							</vxe-button>
						</div>
					</div>
				</div>
			</div>
		</div>
		<!-- 学位框-->
		<div class="modal" data-backdrop="static" id="degreeDiv">
			<div class="modal-dialog1">
				<div class="modal-content">
					<div class="modal-header">
						<h3 class="col-lg-4">请选择内容设置</h3>
						<div class="text-right">
							<vxe-button  @click="closeDegreeDiv">
								<span class="glyphicon glyphicon-off" aria-hidden="true"></span>
								关闭
							</vxe-button>
						</div>
					</div>
					<div class="modal-body">
						<div class="text-right sexModel_centernDiv">
							<vxe-button  @click="addDegreeList">
								<span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
								修改
							</vxe-button>
							<vxe-button  @click="saveDegreeList">
								<span class="glyphicon glyphicon-floppy-saved" aria-hidden="true"></span>
								保存
							</vxe-button>
						</div>
						<div>
							<vxe-table
							border
							show-overflow
							ref="xDegreeTable"
							highlight-hover-row 
							highlight-current-row
							@cell-click="getDegreeCell"
							:data="degreeList"
							auto-resize="true"
							:edit-config="{trigger: 'click', mode: 'cell', icon: 'fa fa-pencil', showStatus: true}">
							<vxe-table-column type="seq" width="" title="序号"></vxe-table-column>
							<vxe-table-column field="degreeName" title="学位" sortable :edit-render="{name: 'input'}"></vxe-table-column>
							</vxe-table>
						</div>
					</div>
					<div class="modal-footer">
						<div class="text-right">
							<vxe-button  @click="degreeOk">
								<span class="glyphicon glyphicon-ok" aria-hidden="true"></span>
								选择
							</vxe-button>
						</div>
					</div>
				</div>
			</div>
		</div>
		<!-- 银行框-->
		<div class="modal" data-backdrop="static" id="bankDiv">
			<div class="modal-dialog1">
				<div class="modal-content">
					<div class="modal-header">
						<h3 class="col-lg-4">请选择内容设置</h3>
						<div class="text-right">
							<vxe-button  @click="closeBankDiv">
								<span class="glyphicon glyphicon-off" aria-hidden="true"></span>
								关闭
							</vxe-button>
						</div>
					</div>
					<div class="modal-body">
						<div class="text-right sexModel_centernDiv">
							<vxe-button  @click="addBankList">
								<span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
								修改
							</vxe-button>
							<vxe-button  @click="saveBankList">
								<span class="glyphicon glyphicon-floppy-saved" aria-hidden="true"></span>
								保存
							</vxe-button>
						</div>
						<div>
							<vxe-table
							border
							show-overflow
							ref="xBankTable"
							highlight-hover-row 
							highlight-current-row
							auto-resize="true"
							@cell-click="getBankCell"
							:data="bankList"
							:edit-config="{trigger: 'click', mode: 'cell', icon: 'fa fa-pencil', showStatus: true}">
							<vxe-table-column type="seq" width="" title="序号"></vxe-table-column>
							<vxe-table-column field="bankName" title="银行名称" sortable :edit-render="{name: 'input'}"></vxe-table-column>
							</vxe-table>
						</div>
					</div>
					<div class="modal-footer">
						<div class="text-right">
							<vxe-button  @click="bankOk">
								<span class="glyphicon glyphicon-ok" aria-hidden="true"></span>
								选择
							</vxe-button>
						</div>
					</div>
				</div>
			</div>
		</div>
		<!--新增门店div-->
		<div class="modal" data-backdrop="static" id="addStore">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<h3 class="col-lg-3">门店编辑</h3>
						<div class="text-right">
							<vxe-button  @click="newStore">
								<span class="glyphicon glyphicon-floppy-saved" aria-hidden="true"></span>
								保存
							</vxe-button>
							<vxe-button  @click="closeNewStore">
								<span class="glyphicon glyphicon-floppy-remove" aria-hidden="true"></span>
								关闭
							</vxe-button>
						</div>
					</div>
					<div class="modal-body">
						<div>
							<table border="0" cellspacing="0" cellpadding="0" width="100%" height="auto">
								<tr>
									<td colspan="6">
										<div class="form-group">
											<label class="control-label">门店编号</label>
											<input type="text" class="form-control"
												readonly="readonly" v-model="addStore.storeId" />
										</div>
									</td>
									<td colspan="6">
										<div class="form-group">
											<label class="control-label">门店名称</label>
											<input type="text"  class="form-control"
												v-model="addStore.storeName" />
										</div>
									</td>
								</tr>
								<tr>
									<td colspan="6">
										<div class="form-group">
											<label class="control-label">父门店</label>
											<select class="form-control" v-model="addStore.pstoreId">
												<option value="0">无</option>
												<option v-for="item in storeList" :value="item.storeId">
													{{item.storeName}}</option>
											</select>
										</div>
									</td>
								</tr>
							</table>
						</div>
					</div>
					<div class="modal-footer"></div>
				</div>
			</div>
		</div>
		<!--修改门店div-->
		<div class="modal" data-backdrop="static" id="updateStore">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<h3 class="col-lg-3">门店编辑</h3>
						<div class="text-right">
							<vxe-button  @click="saveStore">
								<span class="glyphicon glyphicon-floppy-saved" aria-hidden="true"></span>
								保存
							</vxe-button>
							<vxe-button  @click="closeUpdateStore">
								<span class="glyphicon glyphicon-floppy-remove" aria-hidden="true"></span>
								关闭
							</vxe-button>
						</div>
					</div>
					<div class="modal-body">
						<div>
							<table border="0" cellspacing="0" cellpadding="0" width="100%" height="auto">
								<tr>
									<td colspan="6">
										<div class="form-group">
											<label class="control-label">门店编号</label>
											<input type="text" value="0001" class="form-control"
												readonly="readonly" v-model="updateStore.storeId" />
										</div>
									</td>
									<td colspan="6">
										<div class="form-group">
											<label class="control-label">门店名称</label>
											<input type="text"   value="成高" class="form-control"
												v-model="updateStore.storeName" />
										</div>
									</td>
								</tr>
								<tr>
									<td colspan="6">
										<div class="form-group">
											<label class="control-label">父门店</label>
											<select class="form-control" v-model="updateStore.pstoreId">
												<option value="0">无</option>
												<option v-for="item in storeList" :value="item.storeId">
													{{item.storeName}}</option>
											</select>
										</div>
									</td>
								</tr>
							</table>
						</div>
					</div>
					<div class="modal-footer"></div>
				</div>
			</div>
		</div>
	</div>
</body>
<script type="text/javascript" src="js/vue.js"></script>
<script type="text/javascript" src="js/jquery-1.12.4.js"></script>
<script src="https://cdn.jsdelivr.net/npm/vue"></script>
<script src="https://cdn.jsdelivr.net/npm/xe-utils"></script>
<script src="https://cdn.jsdelivr.net/npm/vxe-table@3.1.4"></script>
<script type="text/javascript" src="js/bootstrap.min.js"></script>
<!-- <script src="js/vue-perms.js"></script> -->
<script>
	var Main = {
		data(){
			return{
				tableColumn1: [
				{ field: 'store.storeName', title: '机构', sortable: true, showOverflow: true, width: 150, visible: true, formatter: 'formatNull' },
				{ field: 'department.dId', title: '部门代码', sortable: true, showOverflow: true, width: 150, visible: true, formatter: 'formatNull' },
				{ field: 'department.dName', title: '部门代码', sortable: true, showOverflow: true, width: 150, visible: true, formatter: 'formatNull' },
				{ field: 'eId', title: '工号', sortable: true, showOverflow: true, width: 150, visible: true, formatter: 'formatNull' },
				{ field: 'eName', title: '姓名', sortable: true, showOverflow: true, width: 150, visible: true, formatter: 'formatNull' },
				{ field: 'sex.sexName', title: '性别', sortable: true, showOverflow: true, width: 150, visible: true, formatter: 'formatNull' },
				{ field: 'job.jobName', title: '岗位名称', sortable: true, showOverflow: true, width: 150, visible: true, formatter: 'formatNull' },
				{ field: 'health', title: '身体状态', sortable: true, showOverflow: true, width: 150, visible: true, formatter: 'formatNull' },
				{ field: 'height', title: '身高', sortable: true, showOverflow: true, width: 150, visible: true, formatter: 'formatNull' },
				{ field: 'nativeplace.nplaceName', title: '籍贯', sortable: true, showOverflow: true, width: 150, visible: true, formatter: 'formatNull' },
				{ field: 'national.nationalName', title: '民族', sortable: true, showOverflow: true, width: 150, visible: true, formatter: 'formatNull' },
				{ field: 'marry.marryName', title: '婚姻状态', sortable: true, showOverflow: true, width: 150, visible: true, formatter: 'formatNull' },
				{ field: 'education.educationName', title: '学历', sortable: true, showOverflow: true, width: 150, visible: true, formatter: 'formatNull' },
				{ field: 'school.schoolName', title: '毕业学校', sortable: true, showOverflow: true, width: 150, visible: true, formatter: 'formatNull' },
				{ field: 'major.majorName', title: '专业', sortable: true, showOverflow: true, width: 150, visible: true, formatter: 'formatNull' },
				{ field: 'pq.PQName', title: '专业资格', sortable: true, showOverflow: true, width: 150, visible: true, formatter: 'formatNull' },
				{ field: 'degree.degreeName', title: '学位', sortable: true, showOverflow: true, width: 150, visible: true, formatter: 'formatNull' },
				{ field: 'establish', title: '编制', sortable: true, showOverflow: true, width: 150, visible: true, formatter: 'formatNull' },
				{ field: 'cardId', title: '身份证号', sortable: true, showOverflow: true, width: 150, visible: true, formatter: 'formatNull' },
				{ field: 'hAddress', title: '户口地址', sortable: true, showOverflow: true, width: 150, visible: true, formatter: 'formatNull' }
			],
			//多条件查询员工查询对象
			employQuery: {},
			//员工信息list
			employList: [
				{
					eId: "",
					national: {
						nationalId: 0,
						nationalName: ""
					},
					bank: {
						bankId: 0,
						bankName: ""
					},
					degree: {
						degreeId: 0,
						degreeName: ""
					},
					department: {
						/*dId:0,
						/*dName:""*/
					},
					education: {
						educationId: 0,
						educationName: ""
					},
					job: {
						jobId: "",
						jobName: ""
					},
					major: {
						majorId: 0,
						majorName: ""
					},
					marry: {
						marryId: 0,
						marryName: ""
					},
					nativeplace: {
						nplaceId: 0,
						nplaceName: ""
					},
					nature: {
						attId: 0,
						attName: ""
					},
					pq: {
						PQId: 0,
						PQName: ""
					},
					school: {
						schoolId: 0,
						schoolName: ""
					},
					sex: {
						sexId: 0,
						sexName: ""
					},
					store: {
						storeId: "",
						storeName: ""
					}
				}],
			clasM: {},
			//左侧树状模拟数据
			gongsi1: [{
				storeName: "北京卡修",
				list: {}
			}],
			jobIscheck: false,
			jobChecks: [],
			//职位虚拟数据
			jobList: [],
			zdIsCheck: false,
			zdChecks: [],
			//字段虚拟数据
			zdList: [{
				id: 1,
				zd: "d1",
				zdName: "小小小"
			}, {
				id: 2,
				zd: "d2",
				zdName: "大大大"
			}],
			//性别框虚拟数据
			sexList: [],
			//部门框虚拟数据
			departList: [],
			//民族框虚拟数据
			nationalList: [],
			//籍贯框虚拟数据
			nplaceList: [],
			//学历框虚拟数据
			educationList: [],
			//学校框虚拟数据
			schoolList: [],
			//专业框虚拟数据
			majorList: [],
			//专业资格框虚拟数据
			PQList: [],
			//学位框虚拟数据
			degreeList: [],
			//银行虚拟数据
			bankList: [],
			//婚姻状态数据
			marryList: [],
			//属性数据
			natureList: [],
			//新增的员工
			addEmploy: {
				eId: "",
				nationalId: 0
			},
			//修改的员工
			updateEmploy: {},
			//进行修改或者删除的员工
			updateOrRemoveEmployId: "",
			//进行操作的性别行
			updateOrAddSex: {},
			//进行操作的民族行
			updateOrAddNational: {},
			//进行操作的籍贯行
			updateOrAddNplace: {},
			//进行操作的学历行
			updateOrAddEducation: {},
			//进行操作的学校行
			updateOrAddSchool: {},
			//进行操作的专业行
			updateOrAddMajor: {},
			//进行操作的专业资格行
			updateOrAddPq: {},
			//进行操作的学位行
			updateOrAddDegree: {},
			//进行操作的开户银行行
			updateOrAddBank: {},
			//进行操作的部门行
			updateOrAddDepartment: {},
			//进行操作的门店
			updateOrAddStore: {},
			//table的第一行默认有样式
			isactive: 0,
			//门店数据
			storeList: [],
			//新增性别框标识
			sexAdd: false,
			//新增籍贯标识
			nplaceAdd: false,
			//新增民族标识
			nationalAdd: false,
			//新增学历标识
			educationAdd: false,
			//新增学校标识
			schoolAdd: false,
			//新增专业标识
			majorAdd: false,
			//新增专业资格标识
			pqAdd: false,
			//新增学位标识
			degreeAdd: false,
			//新增开户银行标识
			bankAdd: false,
			//新增门店对象
			addStore: {},
			//修改门店对象
			updateStore: {},
			//用于部门根据门店查询所使用的storeId
			selStoorId: "",
			//职务list,用于角色管理
			postitionList: [],
			//某员工职务list
			ePostitionList: []
			}
		},
		mounted() {

		},
		methods: {
			//选中部门行
			getBumenCell({row}){
					console.log(row);
					this.updateOrAddDepartment=JSON.parse(JSON.stringify(row));
				},
			//角色选择如果全中则是全选
			selectAllEvent({ checked, records }){
					/* console.log(checked?'所有勾选事件':'所有取消事件',records); */
				},
				//
			selectChangeEvent({ checked, records }){
					/* console.log(checked?'勾选事件':'取消事件',records); */
			 },
			//获取性别框选中的性别进行填充
			getSexCell({row}){
				this.updateOrAddSex=JSON.parse(JSON.stringify(row));
			},
			//获取民族框中选中的民族进行填充
			getNationalCell({row}){
				this.updateOrAddNational=JSON.parse(JSON.stringify(row));
			},
			//获取籍贯框选中的籍贯进行填充
			getNplaceCell({row}){
				this.updateOrAddNplace=JSON.parse(JSON.stringify(row));
			},
			//获取学历框选中的学历进行填充
			getEducationCell({row}){
				this.updateOrAddEducation=JSON.parse(JSON.stringify(row));
			},
			//获取学校框选中的学校进行填充
			getSchoolCell({row}){
				this.updateOrAddSchool=JSON.parse(JSON.stringify(row));
			},
			//获取专业框选中的专业进行填充
			getMajorCell({row}){
				this.updateOrAddMajor=JSON.parse(JSON.stringify(row));
			},
			//获取专业资格框选中的专业资格进行填充
			getPQCell({row}){
				this.updateOrAddPq=JSON.parse(JSON.stringify(row));
			},
			//获取学位框选中的学位进行填充
			getDegreeCell({row}){
				this.updateOrAddDegree=JSON.parse(JSOn.stringify(row));
			},
			//获取银行框选中的银行进行填充
			getBankCell({row}){
				this.updateOrAddBank=JSON.parse(JSON.stringify(row));
			},
			//获取员工角色修改数组
			getSelectEvent () {
             	 let selectRecords = this.$refs.xRoleTable.getCheckboxRecords()
				  /* console.log(selectRecords); */
				  selectRecords.forEach(item=>{
					  this.jobChecks.push(item.postitionId);
				  })
				  this.updateRole();
				  $("#eployRole").modal("hide");
          	},
			//高亮行
			currentChangeEvent({row}){
				console.log('行选择事件');
			},
			//获取选中的门店
			cellClickEvent1({row}){
			    /* alert("获取了"); */
				console.log(row);
				this.updateOrAddStore=JSON.parse(JSON.stringify(row));
				console.log(this.updateOrAddStore);
				this.selTableByStoreId(this.updateOrAddStore.storeId);
			},
			//获取选中的员工
			cellClickEvent2({row}){
				/* console.log(row); */
				var updateOrAddEmploy=JSON.parse(JSON.stringify(row));
				console.log(updateOrAddEmploy);
				this.updateOrRemoveEmployId=updateOrAddEmploy.eId;
			},
			//节点
			toggleExpandChangeEvent ({ row, expanded }) {
              /* console.log('节点展开事件' + expanded) */
            },
            getTreeExpansionEvent () {
              let treeExpandRecords = this.$refs.xTree.getTreeExpandRecords()
              this.$XModal.alert(treeExpandRecords.length)
            },
			//初始化
			find() {
				this.selEmployeeList();
				this.selStoreBySelf();
				this.clasM = this.gongsi1;
				console.log(this.clasM);
				this.setUpdateOrRemoveEmployId();
				this.selAllPostition();
			},
			//查询所有的职务
			selAllPostition() {
				let that = this;
				$.ajax({
					url: "http://127.0.0.1:8080/postition",
					type: "get",
					xhrFields: {
						withCredentials: true
					},
					crossDomain: true,
					async: false,
					dataType: "json",
					success: function (result) {
						that.postitionList = result;
					}
				});
			},
			//根据员工id查询该员工的职务
			selPostitionByEid(eId) {
				/*alert(eId);*/
				this.jobChecks = [];
				let that = this;
				$.ajax({
					url: "http://127.0.0.1:8080/staffpostition/selByEid/" + eId,
					type: "get",
					xhrFields: {
						withCredentials: true
					},
					crossDomain: true,
					async: false,
					dataType: "json",
					success: function (result) {
						// console.log(result);
						let tempArr=[];
						that.ePostitionList = result;
						that.ePostitionList.forEach(item => {
							that.postitionList.forEach((itemp,index)=>{
								if(item.postitonId ==itemp.postitionId){
									tempArr.push(itemp)
								}
							})
						});
						that.$refs.xRoleTable.clearCheckboxRow();
						that.$refs.xRoleTable.setCheckboxRow(tempArr, true)
						console.log(that.postitionList);
					}
				});
			},
			//根据门店进行员工筛选
			selTableByStoreId(sId) {
				let that = this;
				$.ajax({
					url: "http://127.0.0.1:8080/employees/selByMid/" + sId,
					type: "get",
					xhrFields: {
						withCredentials: true
					},
					crossDomain: true,
					async: false,
					dataType: "json",
					success: function (result) {
						that.employList = result;
					}
				});
			},
			//查询所有的门店(自查)
			selStoreBySelf() {
				let that = this;
				$.ajax({
					url: "http://127.0.0.1:8080/store/selMyself",
					type: "get",
					xhrFields: {
						withCredentials: true
					},
					crossDomain: true,
					async: false,
					dataType: "json",
					success: function (result) {
						that.gongsi1 = result;
						console.log(that.gongsi1);
					}
				});
			},
			//查询所有员工
			selEmployeeList() {
				let that = this;
				$.ajax({
					url: "http://127.0.0.1:8080/employees/selAllEmployees",
					type: "get",
					xhrFields: {
						withCredentials: true
					},
					crossDomain: true,
					dataType: "json",
					success: function (result) {
						that.employList = result;
						console.log(that.employList);
					}
				});
			},
			//搜索框匹配
			selByNamePhone() {
				var parse = $("#searchtext").val()
				if (parse.trim() == null || parse.trim() == "") {
					parse = "我是空查询";
				}
				let that = this;
				$.ajax({
					url: "http://127.0.0.1:8080/employees/selByParse/" + parse,
					type: "get",
					dataType: "json",
					xhrFields: {
						withCredentials: true
					},
					crossDomain: true,
					success: function (result) {
						that.employList = result;
					}
				});
			},
			daoRu() {
				window.location.href = "http://127.0.0.1:8080/employees/downLoadImportExcel";
				/*alert("导入成功");*/
			},
			daoChu() {
				var emList = [];
				this.employList.forEach(item => {
					emList.push(item.eId);
				});
				var eIdList = emList.toString();
				window.location.href = "http://127.0.0.1:8080/employees/downLoadExportExcel?eIdList=" + eIdList;
				/*alert("导出成功");*/
			},
			//删除员工
			remove() {
				if(this.updateOrRemoveEmployId==null||this.updateOrRemoveEmployId==''||this.updateOrRemoveEmployId==undefined){
					alert("请先选择员工");
					return;
				}
				var flag = confirm("是否将该员工所有资料清除");
				if (flag) {
					let that = this;
					$.ajax({
						url: "http://127.0.0.1:8080/employees/remove/" + that.updateOrRemoveEmployId,
						type: "delete",
						xhrFields: {
							withCredentials: true
						},
						async:false,
						success: function (result) {
							if (result) {
								alert("成功");
							} else {
								alert("失败");
							}
						}
					});
				}
				this.find();
				/* location.reload(); */
			},
			//设置修改和删除和置空的默认eId
			setUpdateOrRemoveEmployId() {
				/* this.updateOrRemoveEmployId=this.employList[0].eId; */
			},
			//设置sexList默认选择
			setSexListFirst() {
				this.updateOrAddSex = this.sexList[0];
			},
			//设置nationalList默认选择
			setNationalListFirst() {
				this.updateOrAddNational = this.nationalList[0];
			},
			//设置nplaceList默认选择
			setNplaceListFirst() {
				this.updateOrAddNplace = this.nplaceList[0];
			},
			//设置EducationList默认选择
			setEducationListFirst() {
				this.updateOrAddEducation = this.educationList[0];
			},
			//设置SchoolList默认选择
			setSchoolListFirst() {
				this.updateOrAddSchool = this.schoolList[0];
			},
			//设置MajorList默认选择
			setMajorListFirst() {
				this.updateOrAddMajor = this.majorList[0];
			},
			//设置PQList默认选择
			setPQListFirst() {
				this.updateOrAddPq = this.PQList[0];
			},
			setDegreeListFirst() {
				this.updateOrAddDegree = this.majorList[0];
			},
			setBankListFirst() {
				this.updateOrAddBank = this.bankList[0];
			},
			setGongSiFirst() {
				this.updateOrAddStore = this.gongsi1[0];
			},
			clearPwd() {
				if(this.updateOrRemoveEmployId==null||this.updateOrRemoveEmployId==''||this.updateOrRemoveEmployId==undefined){
					alert("请先选择员工");
					return;
				}
				var flag1 = confirm("是否将该员工密码置空?");
				if (flag1) {
					if (this.updateOrRemoveEmployId == undefined || this.updateOrRemoveEmployId == null || this.updateOrRemoveEmployId == "") {
						this.setUpdateOrRemoveEmployId();
					}
					let that = this;
					$.ajax({
						url: "http://127.0.0.1:8080/employees/clearPwd/" + that.updateOrRemoveEmployId,
						type: "put",
						xhrFields: {
							withCredentials: true
						},
						success: function (result) {
							if (result) {
								alert("成功");
							} else {
								alert("失败");
							}
						}
					});
				}
				this.setUpdateOrRemoveEmployId();
			},
			//选择table某列将数据传入，用于获取员工信息
			chooseTableTr(item) {
				this.updateOrRemoveEmployId = item.eId;
				console.log(this.updateOrRemoveEmployId);
			},
			chooseSexTr(item) {
				this.updateOrAddSex = item;
				console.log(this.updateOrAddSex);
			},
			chooseDepartmentTr(item) {
				this.updateOrAddDepartment = item;
			},
			chooseNationalTr(item) {
				this.updateOrAddNational = item;
				console.log(this.updateOrAddNational);
			},
			chooseNplaceTr(item) {
				this.updateOrAddNplace = item;
			},
			chooseEducationTr(item) {
				this.updateOrAddEducation = item;
			},
			chooseSchoolTr(item) {
				this.updateOrAddSchool = item;
			},
			chooseMajorTr(item) {
				this.updateOrAddMajor = item;
			},
			choosePQTr(item) {
				this.updateOrAddPq = item;
			},
			chooseDegreeTr(item) {
				this.updateOrAddDegree = item;
			},
			chooseBankTr(item) {
				this.updateOrAddBank = item;
			},
			chooseStoreTr(item) {
				console.log(item);
				this.updateOrAddStore = item;
			},
			//点击tr背景变色
			fn(index) {
				//点击切换 变量的值 赋值为 index
				this.isactive = index;
			},
			//打开员工新增模态框
			addEploy() {
				this.getNplaceList();
				this.getNationalList();
				this.getMarryList();
				this.getEducationList();
				this.getSchoolList();
				this.getMajorList()
				this.getPQList();
				this.getNatureList();
				this.getDegreeList();
				this.getBankList();
				this.getSexList();
				this.getJobList();
				this.getEid();
				this.getStoreList();
				$("#addEployDiv").modal("show");
			},
			//获取籍贯数据
			getNplaceList() {
				let that = this;
				$.ajax({
					url: "http://127.0.0.1:8080/nativeplace",
					type: "get",
					dataType: "json",
					xhrFields: {
						withCredentials: true
					},
					crossDomain: true,
					async: false,
					success: function (result) {
						console.log(result);
						that.nplaceList = result;
					}
				});
			},
			//获取民族数据
			getNationalList() {
				let that = this;
				$.ajax({
					url: "http://127.0.0.1:8080/national",
					type: "get",
					dataType: "json",
					xhrFields: {
						withCredentials: true
					},
					async: false,
					crossDomain: true,
					success: function (result) {
						console.log(result);
						that.nationalList = result;
					}
				});
			},
			//获取婚姻状态数据
			getMarryList() {
				let that = this;
				$.ajax({
					url: "http://127.0.0.1:8080/marry",
					type: "get",
					dataType: "json",
					xhrFields: {
						withCredentials: true
					},
					async: false,
					crossDomain: true,
					success: function (result) {
						that.marryList = result;
					}
				});
			},
			//获取学历数据
			getEducationList() {
				let that = this;
				$.ajax({
					url: "http://127.0.0.1:8080/education",
					type: "get",
					dataType: "json",
					xhrFields: {
						withCredentials: true
					},
					async: false,
					crossDomain: true,
					success: function (result) {
						that.educationList = result;
					}
				});
			},
			//获取毕业学校数据
			getSchoolList() {
				let that = this;
				$.ajax({
					url: "http://127.0.0.1:8080/school",
					type: "get",
					dataType: "json",
					xhrFields: {
						withCredentials: true
					},
					crossDomain: true,
					async: false,
					success: function (result) {
						that.schoolList = result;
					}
				});
			},
			//获取专业数据
			getMajorList() {
				let that = this;
				$.ajax({
					url: "http://127.0.0.1:8080/major",
					type: "get",
					dataType: "json",
					xhrFields: {
						withCredentials: true
					},
					crossDomain: true,
					async: false,
					success: function (result) {
						that.majorList = result;
					}
				});
			},
			//获取专业资格数据
			getPQList() {
				let that = this;
				$.ajax({
					url: "http://127.0.0.1:8080/pq",
					type: "get",
					dataType: "json",
					xhrFields: {
						withCredentials: true
					},
					crossDomain: true,
					async: false,
					success: function (result) {
						console.log(result);
						that.PQList = result;
					}
				});
			},
			//获取属性数据
			getNatureList() {
				let that = this;
				$.ajax({
					url: "http://127.0.0.1:8080/nature",
					type: "get",
					dataType: "json",
					xhrFields: {
						withCredentials: true
					},
					crossDomain: true,
					success: function (result) {
						that.natureList = result;
					}
				});
			},
			//获取学位数据
			getDegreeList() {
				let that = this;
				$.ajax({
					url: "http://127.0.0.1:8080/degree",
					type: "get",
					dataType: "json",
					xhrFields: {
						withCredentials: true
					},
					crossDomain: true,
					success: function (result) {
						that.degreeList = result;
					}
				});
			},
			//获取开户银行数据
			getBankList() {
				let that = this;
				$.ajax({
					url: "http://127.0.0.1:8080/bank",
					type: "get",
					dataType: "json",
					xhrFields: {
						withCredentials: true
					},
					crossDomain: true,
					success: function (result) {
						that.bankList = result;
					}
				});
			},
			//获取性别数据
			getSexList() {
				let that = this;
				$.ajax({
					url: "http://127.0.0.1:8080/sex",
					type: "get",
					dataType: "json",
					xhrFields: {
						withCredentials: true
					},
					crossDomain: true,
					success: function (result) {
						that.sexList = result;
					}
				});
			},
			//获取职位数据
			getJobList() {
				let that = this;
				$.ajax({
					url: "http://127.0.0.1:8080/job",
					type: "get",
					dataType: "json",
					xhrFields: {
						withCredentials: true
					},
					crossDomain: true,
					success: function (result) {
						that.jobList = result;
					}
				});
			},
			//获取所有门店
			getStoreList() {
				let that = this;
				$.ajax({
					url: "http://127.0.0.1:8080/store",
					type: "get",
					dataType: "json",
					xhrFields: {
						withCredentials: true
					},
					crossDomain: true,
					success: function (result) {
						console.log(result);
						that.storeList = result;
					}
				});
			},
			//获取当前门店的部门
			getDepartmentList(mId) {
				let that = this;
				$.ajax({
					url: "http://127.0.0.1:8080/department/findBySid/" + mId,
					type: "get",
					dataType: "json",
					xhrFields: {
						withCredentials: true
					},
					crossDomain: true,
					async: false,
					success: function (result) {
						console.log(result);
						that.departList = result;
					}
				});
			},
			//获取所有部门
			getAllDepartmentList() {
				let that = this;
				$.ajax({
					url: "http://127.0.0.1:8080/department/findAllDepartment",
					type: "get",
					xhrFields: {
						withCredentials: true
					},
					crossDomain: true,
					async: false,
					dataType: "json",
					success: function (result) {
						console.log(result);
						that.departList = result;
					}
				});
			},
			//获取新增员工编号
			getEid() {
				let that = this;
				$.ajax({
					url: "http://127.0.0.1:8080/employees/findEid",
					type: "get",
					success: function (result) {
						that.addEmploy.eId = result;
					}
				});
			},
			//添加员工方法
			insertEploy() {
				let that = this;
				if (this.addEmploy.eName == null || this.addEmploy.eName == "") {
					alert("姓名不能为空!");
					return;
				}
				if (this.addEmploy.sexId == null || this.addEmploy.sexId == "") {
					alert("性别不能为空!");
					return;
				}
				if (this.addEmploy.mId == null || this.updateEmploy.mId == "") {
					alert("门店不能为空!");
					return;
				}
				if (this.addEmploy.dId == null || this.updateEmploy.dId == "") {
					alert("部门不能为空!");
					return;
				}
				console.log("进入新增");
				var json = JSON.stringify(that.addEmploy);
				console.log(json);
				$.ajax({
					url: "http://127.0.0.1:8080/employees/add",
					type: "post",
					data: json,
					xhrFields: {
						withCredentials: true
					},
					async:false,
					crossDomain: true,
					contentType: "application/json;charset=utf-8",
					success: function (result) {
						alert(result);
					}
				});
				$("#addEployDiv").modal("hide");
				this.find();
			},
			//修改员工方法
			xiuEploy() {
				let that = this;
				if (this.updateEmploy.eName == null || this.updateEmploy.eName == "") {
					alert("姓名不能为空!");
					return;
				}
				if (this.updateEmploy.sexId == null || this.updateEmploy.sexId == "") {
					alert("性别不能为空!");
					return;
				}
				if (this.updateEmploy.mId == null || this.updateEmploy.mId == "") {
					alert("门店不能为空!");
					return;
				}
				if (this.updateEmploy.dId == null || this.updateEmploy.dId == "") {
					alert("部门不能为空!");
					return;
				}
				var json = JSON.stringify(that.updateEmploy);
				console.log(json);
				$.ajax({
					url: "http://127.0.0.1:8080/employees/update",
					type: "put",
					data: json,
					xhrFields: {
						withCredentials: true
					},
					async:false,
					crossDomain: true,
					contentType: "application/json;charset=utf-8",
					success: function (result) {
						alert(result);
					}
				});
				$("#updateEployDiv").modal("hide");
				this.find();
				/* location.reload(); */
			},
			//关闭新增员工模态框
			closeAddEploy() {
				$("#addEployDiv").modal("hide");
				this.find();
			},
			//根据员工编号进行信息查询
			selUpdateEployById() {
				let that = this;
				$.ajax({
					url: "http://127.0.0.1:8080/employees/findById/" + this.updateOrRemoveEmployId,
					type: "get",
					async: false,
					xhrFields: {
						withCredentials: true
					},
					dataType: "json",
					success: function (result) {
						console.log(result);
						that.updateEmploy = result;
					}
				});
			},
			//打开修改员工模态框
			updateEploy() {
				if(this.updateOrRemoveEmployId==null||this.updateOrRemoveEmployId==''||this.updateOrRemoveEmployId==undefined){
					alert("请先选择员工");
					return;
				}
				this.getNplaceList();
				this.getNationalList();
				this.getMarryList();
				this.getEducationList();
				this.getSchoolList();
				this.getMajorList()
				this.getPQList();
				this.getNatureList();
				this.getDegreeList();
				this.getBankList();
				this.getSexList();
				this.getJobList();
				this.selUpdateEployById();
				this.getStoreList();
				$("#updateEployDiv").modal("show");
			},
			//关闭修改员工模态框
			closeUpdateEploy() {
				$("#updateEployDiv").modal("hide");
				this.find();
			},
			//打开角色管理
			role() {
				var eId = this.updateOrRemoveEmployId;
				if (eId == "" || eId == null||eId==undefined) {
					alert("请先选择员工");
					return;
				}
				this.selAllPostition();
				this.selPostitionByEid(eId);
				$("#eployRole").modal("show");
			},
			//关闭角色管理
			closeRole() {
				$("#eployRole").modal("hide");
				this.find();
			},
			//打开条件查询
			openSel() {
				this.getNplaceList();
				this.getNationalList();
				this.getMarryList();
				this.getEducationList();
				this.getSchoolList();
				this.getMajorList()
				this.getPQList();
				this.getNatureList();
				this.getDegreeList();
				this.getBankList();
				this.getSexList();
				this.getJobList();
				$("#selBy").modal("show");
			},
			//关闭条件查询
			closeSelBy() {
				$("#selBy").modal("hide");
				this.find();
			},
			sel() {
				/*alert("正在进行条件查询");*/
				let that = this;
				var json = JSON.stringify(that.employQuery);
				console.log(json);
				$.ajax({
					url: "http://127.0.0.1:8080/employees/selByManyConditions",
					type: "post",
					data: json,
					xhrFields: {
						withCredentials: true
					},
					crossDomain: true,
					async: false,
					dataType: "json",
					contentType: "application/json;charset=utf-8",
					success: function (result) {
						console.log(result);
						that.employList = result;
					}
				});
				$("#selBy").modal("hide");
				this.find();
			},
			//修改员工角色
			updateRole() {
				var eId = this.updateOrRemoveEmployId;
				if (eId == "" || eId == null||eId==undefined) {
					alert("请先选择员工");
					return;
				}
				var json = JSON.stringify(this.jobChecks);
				$.ajax({
					url: "http://127.0.0.1:8080/staffpostition/updateStaffPostition/" + eId,
					type: "put",
					data: json,
					xhrFields: {
						withCredentials: true
					},
					crossDomain: true,
					dataType: "json",
					async: false,
					contentType: "application/json;charset=utf-8",
					success: function (result) {
						if (result) {
							alert("成功");
						} else {
							alert("失败");
						}
					}
				});
				alert("修改员工角色成功");
				$("#eployRole").modal("hide");
			},
			//角色管理全部选择与取消
			changeRole(a) {
				if (!a) {
					alert("取消全选");
					this.jobChecks = [];
				} else {
					alert("全选");
					/* this.jobChecks=[]; */
					this.selAllPostition();
					console.log(this.postitionList);
					this.jobChecks = this.postitionList.map(item => item.postitionId);
				}
			},
			//字段显示全部选择与取消
			changeZd(b) {
				if (!b) {
					alert("取消全选");
					this.zdChecks = [];
				} else {
					alert("全选");
					this.zdChecks = this.zdList.map(item => item.id);
				}
			},
			closeZd() {
				$("#showZd").modal("hide");
			},
			openZd() {
				alert("功能开发中");
				return;
				$("#showZd").modal("show");
			},
			primaryZd() {
				alert("设置字段成功");
				$("#showZd").modal("hide");
			},
			//打开性别框子
			openSexDiv() {
				this.getSexList();
				this.setSexListFirst();
				this.sexAdd = false;
				$("#sexDiv").modal("show");
			},
			closeSexDiv() {
				this.updateOrAddSex = {}
				this.getSexList();
				$("#sexDiv").modal("hide");
			},
			//新增性别框一个td
			addSexList() {
				if (!this.sexAdd) {
					this.sexList.push({});
					this.sexAdd = true;
				}
			},
			//对性别框的修改进行保存
			saveSexList() {
				let that = this;
				var json = JSON.stringify(that.sexList);
				console.log(json);
				$.ajax({
					url: "http://127.0.0.1:8080/sex/saveOrUpdate",
					type: "put",
					async: false,
					data: json,
					xhrFields: {
						withCredentials: true
					},
					crossDomain: true,
					contentType: "application/json;charset=utf-8",
					success: function (result) {
						console.log(result);
					}
				});
				/*alert("保存成功");*/
				this.getSexList();
				this.sexAdd = false;
				/*this. setSexListFirst();*/
			},
			sexOk() {
				this.addEmploy.sexId = this.updateOrAddSex.sexId;
				this.updateEmploy.sexId = this.updateOrAddSex.sexId;
				alert(this.addEmploy.sexId);
				alert("正在将选择的性别填入");
				$("#sexDiv").modal("hide");
				console.log(this.addEmploy);
				this.getSexList();
				/*this.addEploy();
						this.updateEploy();*/
			},
			//打开部门框子
			opendepartDiv() {
				this.getAllDepartmentList();
				this.getStoreList();
				$("#departDiv").modal("show");
			},
			closedepartDiv() {
				$("#departDiv").modal("hide");
			},
			//将选择的部门填入
			savedepartList() {
				if (this.updateOrAddDepartment == null || this.updateOrAddDepartment == ""||this.updateOrAddDepartment==undefined) {
					alert("请先选择部门");
					return;
				}
				this.employQuery = {};
				this.employQuery.dId = this.updateOrAddDepartment.dId;
				alert("正在将选择的部门填入");
				$("#departDiv").modal("hide");
			},
			//打开民族模态框
			openNationalDiv() {
				this.getNationalList();
				this.setNationalListFirst();
				this.nationalAdd = false;
				$("#nationalDiv").modal("show");
			},
			//关闭民族模态框
			closeNationalDiv() {
				this.getNationalList();
				$("#nationalDiv").modal("hide");
			},
			//新增民族框一个td
			addNationalList() {
				if (!this.nationalAdd) {
					this.nationalList.push({});
					this.nationalAdd = true;
				}
			},
			//对民族框的修改进行保存
			saveNationList() {
				let that = this;
				var json = JSON.stringify(that.nationalList);
				console.log(json);
				$.ajax({
					url: "http://127.0.0.1:8080/national/saveOrUpdate",
					type: "put",
					async: false,
					data: json,
					xhrFields: {
						withCredentials: true
					},
					crossDomain: true,
					contentType: "application/json;charset=utf-8",
					success: function (result) {
						console.log(result);
					}
				});
				alert("保存成功");
				this.getNationalList();
				this.nationalAdd = false;
				this.setNationalListFirst();
			},
			nationalOk() {
				console.log(this.updateOrAddNational.nationalId);
				this.addEmploy.nationalId = this.updateOrAddNational.nationalId;
				this.updateEmploy.nationalId = this.updateOrAddNational.nationalId;
				this.getNationalList();
				console.log(this.addEmploy);
				alert("正在将选择的民族填入");
				$("#nationalDiv").modal("hide");
			},
			//籍贯
			openNplaceDiv() {
				this.nplaceAdd = false;
				this.getNplaceList();
				this.setNplaceListFirst();
				$("#nplaceDiv").modal("show");
			},
			closeNplaceDiv() {
				this.getNplaceList();
				$("#nplaceDiv").modal("hide");
			},
			//新增籍贯框一个td
			addNplaceList() {
				if (!this.nplaceAdd) {
					this.nplaceList.push({});
					this.nplaceAdd = true;
				}

			},
			//对籍贯框的修改进行保存
			saveNplaceList() {
				let that = this;
				var json = JSON.stringify(that.nplaceList);
				console.log(json);
				$.ajax({
					url: "http://127.0.0.1:8080/nativeplace/saveOrUpdate",
					type: "put",
					async: false,
					data: json,
					xhrFields: {
						withCredentials: true
					},
					crossDomain: true,
					contentType: "application/json;charset=utf-8",
					success: function (result) {
						console.log(result);
					}
				});
				alert("保存成功");
				this.getNplaceList();
				this.nplaceList = false;
			},
			nplaceOk() {
				this.addEmploy.nplaceId = this.updateOrAddNplace.nplaceId;
				this.updateEmploy.nplaceId = this.updateOrAddNplace.nplaceId;
				alert("正在将选择的籍贯填入");
				$("#nplaceDiv").modal("hide");
				this.getNplaceList();
			},
			//学历
			openEducationDiv() {
				this.getEducationList();
				this.setEducationListFirst();
				this.educationAdd = false;
				$("#educationDiv").modal("show");
			},
			closeEducationDiv() {
				this.getEducationList();
				$("#educationDiv").modal("hide");
			},
			//新增学历框一个td
			addEducationList() {
				if (!this.educationAdd) {
					this.educationList.push({});
					this.educationAdd = true;
				}

			},
			//对学历框的修改进行保存
			saveEducationList() {
				let that = this;
				var json = JSON.stringify(that.educationList);
				console.log(json);
				$.ajax({
					url: "http://127.0.0.1:8080/education/saveOrUpdate",
					type: "put",
					async: false,
					data: json,
					xhrFields: {
						withCredentials: true
					},
					crossDomain: true,
					contentType: "application/json;charset=utf-8",
					success: function (result) {
						console.log(result);
					}
				});
				alert("保存成功");
				this.getEducationList();
				this.educationAdd = false;
			},
			educationOk() {
				this.addEmploy.educationId = this.updateOrAddEducation.educationId;
				this.updateEmploy.educationId = this.updateOrAddEducation.educationId;
				this.getEducationList();
				alert("正在将选择的学历填入");
				$("#educationDiv").modal("hide");
			},
			//学校
			openSchoolDiv() {
				this.setSchoolListFirst();
				this.schoolAdd = false;
				this.getSchoolList();
				$("#schoolDiv").modal("show");
			},
			closeSchoolDiv() {
				this.getSchoolList();
				$("#schoolDiv").modal("hide");
			},
			//新增学校框一个td
			addSchoolList() {
				if (!this.schoolAdd) {
					this.schoolList.push({});
					this.schoolAdd = true;
				}

			},
			//对学校框的修改进行保存
			saveSchoolList() {
				let that = this;
				var json = JSON.stringify(that.schoolList);
				console.log(json);
				$.ajax({
					url: "http://127.0.0.1:8080/school/saveOrUpdate",
					type: "put",
					async: false,
					data: json,
					xhrFields: {
						withCredentials: true
					},
					crossDomain: true,
					contentType: "application/json;charset=utf-8",
					success: function (result) {
						console.log(result);
					}
				});
				alert("保存成功");
				this.getSchoolList();
				this.schoolAdd = false;
			},
			schoolOk() {
				this.addEmploy.schoolId = this.updateOrAddSchool.schoolId;
				this.updateEmploy.schoolId = this.updateOrAddSchool.schoolId;
				this.getSchoolList();
				alert("正在将选择的学校填入");
				$("#schoolDiv").modal("hide");
			},
			//专业
			openMajorDiv() {
				this.majorAdd = false;
				this.setMajorListFirst();
				this.getMajorList();
				$("#majorDiv").modal("show");
			},
			closeMajorDiv() {
				this.getMajorList();
				$("#majorDiv").modal("hide");
			},
			//新增专业框一个td
			addMajorList() {
				if (!this.majorAdd) {
					this.majorList.push({});
					this.majorAdd = true;
				}
			},
			//对专业框的修改进行保存
			saveMajorList() {
				let that = this;
				var json = JSON.stringify(that.majorList);
				console.log(json);
				$.ajax({
					url: "http://127.0.0.1:8080/major/saveOrUpdate",
					type: "put",
					async: false,
					data: json,
					xhrFields: {
						withCredentials: true
					},
					crossDomain: true,
					contentType: "application/json;charset=utf-8",
					success: function (result) {
						console.log(result);
					}
				});
				alert("保存成功");
				this.getMajorList();
				this.majorAdd = false;
			},
			majorOk() {
				this.addEmploy.majorId = this.updateOrAddMajor.majorId;
				this.updateEmploy.majorId = this.updateOrAddMajor.majorId;
				this.getMajorList();
				alert("正在将选择的专业填入");
				$("#majorDiv").modal("hide");
			},
			//专业资格
			openPQDiv() {
				this.setPQListFirst();
				this.pqAdd = false;
				this.getPQList();
				$("#PQDiv").modal("show");
			},
			closePQDiv() {
				this.getPQList();
				$("#PQDiv").modal("hide");
			},
			//新增专业资格框一个td
			addPQList() {
				if (!this.pqAdd) {
					this.PQList.push({});
					this.pqAdd = true;
				}
			},
			//对专业资格框的修改进行保存
			savePQList() {
				let that = this;
				var json = JSON.stringify(that.PQList);
				console.log(json);
				$.ajax({
					url: "http://127.0.0.1:8080/pq/saveOrUpdate",
					type: "put",
					async: false,
					data: json,
					xhrFields: {
						withCredentials: true
					},
					crossDomain: true,
					contentType: "application/json;charset=utf-8",
					success: function (result) {
						console.log(result);
					}
				});
				alert("保存成功");
				this.getPQList();
				this.pqAdd = false;
			},
			PQOk() {
				this.addEmploy.PQId = this.updateOrAddPq.PQId;
				this.updateEmploy.PQId = this.updateOrAddPq.PQId;
				this.getPQList();
				alert("正在将选择的专业资格填入");
				$("#PQDiv").modal("hide");
			},
			//学位
			openDegreeDiv() {
				/*this.setDegreeListFirst();*/
				this.degreeAdd = false;
				this.getDegreeList();
				$("#degreeDiv").modal("show");
			},
			closeDegreeDiv() {
				this.getDegreeList();
				$("#degreeDiv").modal("hide");
			},
			//新增学位框一个td
			addDegreeList() {
				if (!this.degreeAdd) {
					this.degreeList.push({});
					this.degreeAdd = true;
				}
			},
			//对学位框的修改进行保存
			saveDegreeList() {
				let that = this;
				var json = JSON.stringify(that.degreeList);
				console.log(json);
				$.ajax({
					url: "http://127.0.0.1:8080/degree/saveOrUpdate",
					type: "put",
					async: false,
					data: json,
					xhrFields: {
						withCredentials: true
					},
					crossDomain: true,
					contentType: "application/json;charset=utf-8",
					success: function (result) {
						console.log(result);
					}
				});
				alert("保存成功");
				this.getDegreeList();
				this.degreeAdd = false;
			},
			degreeOk() {
				this.addEmploy.degreeId = this.updateOrAddDegree.degreeId;
				this.updateEmploy.degreeId = this.updateOrAddDegree.degreeId;
				this.getDegreeList();
				alert("正在将选择的学位填入");
				$("#degreeDiv").modal("hide");
			},
			//银行
			openBankDiv() {
				this.setBankListFirst();
				this.bankAdd = false;
				this.getBankList();
				$("#bankDiv").modal("show");
			},
			closeBankDiv() {
				this.getBankList();
				$("#bankDiv").modal("hide");
			},
			//新增银行框一个td
			addBankList() {
				if (!this.bankAdd) {
					this.bankList.push({});
					this.bankAdd = true;
				}
			},
			//对银行框的修改进行保存
			saveBankList() {
				let that = this;
				var json = JSON.stringify(that.bankList);
				console.log(json);
				$.ajax({
					url: "http://127.0.0.1:8080/bank/saveOrUpdate",
					type: "put",
					async: false,
					data: json,
					xhrFields: {
						withCredentials: true
					},
					crossDomain: true,
					contentType: "application/json;charset=utf-8",
					success: function (result) {
						console.log(result);
					}
				});
				alert("保存成功");
				this.getBankList();
				this.bankAdd = false;
			},
			bankOk() {
				alert("正在将选择的银行填入");
				$("#bankDiv").modal("hide");
				this.addEmploy.bankId = this.updateOrAddBank.bankId;
				this.updateEmploy.bankId = this.updateOrAddBank.bankId;
				this.getBankList();
			},
			//打开新增门店
			openNewStore() {
				this.getStoreList();
				$("#addStore").modal("show");
			},
			//关闭新增门店
			closeNewStore() {
				$("#addStore").modal("hide");
			},
			//新增门店
			newStore() {
				let that = this;
				var json = JSON.stringify(that.addStore);
				console.log(json);
				$.ajax({
					url: "http://127.0.0.1:8080/store",
					type: "post",
					async: false,
					data: json,
					xhrFields: {
						withCredentials: true
					},
					crossDomain: true,
					contentType: "application/json;charset=utf-8",
					success: function (result) {
						console.log(result);
					}
				});
				/*alert("新增门店成功");*/
				$("#addStore").modal("hide");
				this.find();
			},
			//根据选择的门店进行查询
			selUpdateStoreByMid() {
				var mId = this.updateOrAddStore.storeId;
				if (mId == null || mId == "") {
					alert("请先选择门店");
					return;
				}
				let that = this;
				$.ajax({
					url: "http://127.0.0.1:8080/store/selById/" + mId,
					type: "get",
					async: false,
					xhrFields: {
						withCredentials: true
					},
					crossDomain: true,
					success: function (result) {
						that.updateStore = result;
					}
				});
			},
			//打开修改门店
			openUpdateStore() {
				var mId = this.updateOrAddStore.storeId;
				if (mId == null || mId == ""||mId==undefined) {
					alert("请先选择门店");
					return;
				}
				this.selUpdateStoreByMid();
				$("#updateStore").modal("show");
			},
			closeUpdateStore() {
				$("#updateStore").modal("hide");
			},
			//对修改的门店进行更新
			saveStore() {
				let that = this;
				var json = JSON.stringify(that.updateStore);
				console.log(json);
				$.ajax({
					url: "http://127.0.0.1:8080/store",
					type: "put",
					async: false,
					data: json,
					xhrFields: {
						withCredentials: true
					},
					crossDomain: true,
					contentType: "application/json;charset=utf-8",
					success: function (result) {
						console.log(result);
					}
				});
				alert("修改门店成功");
				$("#updateStore").modal("hide");
				this.find();
			},
			remoceStore() {
				var mId = this.updateOrAddStore.storeId;
				if (mId == null || mId == ""||mId==undefined) {
					alert("请先选择门店");
					return;
				}
				var flag2 = confirm("你确定要删除该门店?可能会造成信息丢失");
				if (flag2) {
					var mId = this.updateOrAddStore.storeId;
					if (mId == null || mId == "") {
						alert("请先选择门店");
						return;
					}
					$.ajax({
						url: "http://127.0.0.1:8080/store/remove/" + mId,
						type: "delete",
						xhrFields: {
							withCredentials: true
						},
						crossDomain: true,
						success: function (result) {
							console.log(result);
						}
					});
					alert("删除门店成功");
				}
				this.find();
			},
			addPrint() {
				window.location.href = "addPrint.html";
			},
			updatePrint() {
				window.location.href = "updatePrint.html";
			}
		},
		created() {
			this.find();
		}
	};
	var Ctor = Vue.extend(Main);
	new Ctor().$mount('#ctx');

	VXETable.formats.mixin({
		// 格式化性别
		formatSex({ cellValue }) {
			return cellValue ? (cellValue === '1' ? '男' : '女') : ''
		},
		formatCarStatus({ cellValue }) {
			if (cellValue === 0) {
				return "接车";
			} else if (cellValue === 1) {
				return "作业中"
			} else if (cellValue === 2) {
				return "完工"
			} else {
				return "-"
			}
		},
		formatNull({ cellValue }) {
			return cellValue ? cellValue : '-'
		},
		// 格式化下拉选项
		formatSelect({ cellValue }, list) {
			const item = list.find(item => item.value === cellValue)
			return item ? item.label : ''
		},
		// 格式化日期，默认 yyyy-MM-dd HH:mm:ss
		formatDate({ cellValue }, format) {
			return XEUtils.toDateString(cellValue, format || 'yyyy-MM-dd HH:mm:ss')
		},
		// 四舍五入金额，每隔3位逗号分隔，默认2位数
		formatAmount({ cellValue }, digits = 2) {
			return XEUtils.commafy(XEUtils.toNumber(cellValue), { digits })
		},
		// 格式化银行卡，默认每4位空格隔开
		formatBankcard({ cellValue }) {
			return XEUtils.commafy(XEUtils.toString(cellValue), { spaceNumber: 4, separator: ' ' })
		},
		// 四舍五入,默认两位数
		formatFixedNumber({ cellValue }, digits = 2) {
			return XEUtils.toFixed(XEUtils.round(cellValue, digits), digits)
		},
		// 向下舍入,默认两位数
		formatCutNumber({ cellValue }, digits = 2) {
			return XEUtils.toFixed(XEUtils.floor(cellValue, digits), digits)
		},
		// 转换 moment 类型为字符串
		toMomentString({ cellValue }, format) {
			return cellValue ? cellValue.format(format) : ''
		}
	})
</script>

</html>