<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>供货单位</title>
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/font-awesome.css">
    <link rel="stylesheet" href="css/supplier.css">
    <link rel="stylesheet" href="css/public-y.css">
    <!-- 引入样式 -->
    <link rel="stylesheet" href="package/lib/style.css">
</head>

<body class="hea-div">
    <div class="container-fluid" style="height: 100%;">
        <div class="row" style="height: 100%;padding: 0px 0px !important;">
            <div style=" border: 0px solid red; padding: 0px 0px !important;" class="col-sm-12">
                <div class="col-sm-12 clearfix nav-div" style="border: 0px solid rebeccapurple;">
                    <h3 class="clearfix" style="margin-top: 10px;">供货单位
                        <button class="btn btn-default pull-right btnexit" type="button">关闭</button>
                        <div class="pull-right" style="margin-right: 10px !important;">
                            <form class="form-inline">
                                <div class="form-group">
                                    <input type="text" class="form-control" style="width: 300px;"
                                        placeholder="匹配编码/名称/名称简写">
                                </div>
                                <button type="button" class="btn btn-warning selbtn">搜索</button>
                            </form>
                        </div>
                    </h3>
                </div>
            </div>
            <div class="col-sm-12 flexdiv" style="border: 0px solid red;">
                <div>
                    <vxe-toolbar>
                        <template v-slot:buttons>
                            <div class="dropdown" style="display: inline-block;">
                                <vxe-button data-toggle="dropdown" id="dropdownMenu1" class="dropdown-toggle"
                                    aria-expanded="true">分类编辑
                                    <span class="caret"></span>
                                </vxe-button>
                                <ul class="dropdown-menu nav-li" role="menu" aria-labelledby="dropdownMenu1">
                                    <li role="presentation">
                                        <!-- <vxe-button icon="glyphicon glyphicon-plus" data-toggle="modal"
                                            data-target="#myModal">
                                            增加同级分类
                                        </vxe-button> -->
                                        <a role="menuitem" tabindex="-1" @click="show_insRegionCity">增加同级</a>
                                    </li>
                                    <li role="presentation">
                                        <!-- <vxe-button icon="glyphicon glyphicon-plus" data-toggle="modal"
                                            data-target="#myModal">
                                            增加子级分类
                                        </vxe-button> -->
                                        <a role="menuitem" tabindex="-1" @click="show_insRegionCityChildren">增加子级</a>
                                    </li>
                                    <li role="presentation">
                                        <!-- <vxe-button @click="getCurrentEvent" icon="glyphicon glyphicon-edit"
                                            data-toggle="modal" data-target="#myModal2">修改分类
                                        </vxe-button> -->
                                        <a role="menuitem" tabindex="-1" @click="show_updRegionCity">修改分类</a>
                                    </li>

                                </ul>
                            </div>
                            <vxe-button icon="glyphicon glyphicon-remove-circle" @click="deleteTreeNode">删除分类
                            </vxe-button>
                        </template>
                    </vxe-toolbar>
                </div>
                <div>
                    <vxe-toolbar>
                        <template v-slot:buttons>
                            <vxe-button icon="glyphicon glyphicon-search" data-toggle="modal" data-target="#myModel8">查询
                            </vxe-button>
                            <vxe-button icon="glyphicon glyphicon-plus" data-toggle="modal" data-target="#myModel6">
                                增加
                            </vxe-button>
                            <vxe-button @click="getCurrentEvent" icon="glyphicon glyphicon-edit" data-toggle="modal"
                                data-target="#myModel7">修改
                            </vxe-button>
                            <vxe-button icon="glyphicon glyphicon-remove-circle" data-toggle="modal" class="btn-danger"
                                data-target="#myModal9">删除</vxe-button>
                            <vxe-button icon="glyphicon glyphicon-export">导出</vxe-button>
                            <vxe-button icon="glyphicon glyphicon-picture" data-toggle="modal" data-target="#myModel9">
                                照片</vxe-button>
                            <vxe-button icon="
                            glyphicon glyphicon-user" data-toggle="modal" data-target="#myModel11">联系人</vxe-button>
                            <vxe-button icon="fa fa-cog" data-toggle="modal" data-target="#myModel10">字段设置
                            </vxe-button>
                            <!-- <vxe-button @click="$refs.xTable.setCurrentRow(tableData[1])">设置第二行选中</vxe-button> -->
                            <!-- <vxe-button @click="$refs.xTable.clearCurrentRow()">取消选中</vxe-button> -->
                        </template>
                    </vxe-toolbar>
                </div>
            </div>
            <div class="col-sm-12 treefont" style="height: 81%; border: 0px solid red; padding-right: 0px;">
                <div v-show="treeVisble" class="col-sm-2"
                    style=" height: 100%;border: 0px solid red; font-size: 16px; padding-right: 0px;">
                    <!-- <div class="col-sm-12">
                        <div id="treeview12" class=""></div> 
                    </div> -->
                    <!-- 左侧tree -->
                    <template>
                        <vxe-grid round resizable show-overflow class="mytable-scrollbar" height="100%"
                            row-id="regionId" highlight-hover-row ref="xTree" highlight-current-row :show-header="false"
                            :tree-config="{reserve:'true'}" @current-change="currentChangeEvent"
                            :tree-config="{children: 'children'}" :data="treeData" :columns="treeColumn">
                            <!-- 使用自定义插槽来定义显示内容 -->
                            <template v-slot:user-slot="{ row }">
                                <span>{{ row.regionId+'-'+row.regionName }}</span>
                            </template>
                        </vxe-grid>
                        </vxe-grid>
                    </template>
                </div>
                <div :class="[treeVisble?'col-sm-10 btn-flex':'col-sm-12 btn-flex']"
                    style="height: 100%;border: 0px solid red; padding: 0px !important; ">
                    <div class="anniu"><button class="btn btn-left" @click="switchTo">
                            <i v-if="treeVisble" class="fa fa-caret-left"></i>
                            <i v-else class="fa fa-caret-right"></i>
                        </button>
                    </div>
                    <div style="height: 100%; width: 99%; padding: 0px;">
                        <div style="height: 57%;">
                            <!-- <button v-slot:buttons type="button" @click="getCurrentEvent"> 你好</button> -->
                            <template>
                                <vxe-grid border stripe highlight-hover-row highlight-current-row resizable ref="xTable"
                                    class="mytable-scrollbar" auto-resize height="100%" :data="tableData"
                                    :columns="tableColumn" @current-change="currentChangeEvent" round
                                    show-header-overflow show-overflow>
                                </vxe-grid>
                            </template>
                        </div>
                        <div style="height: 38%;">
                            <h5 class="context2"><span>&nbsp;&nbsp;&nbsp;&nbsp;联系人</span></h5>
                            <!-- <button v-slot:buttons type="button" @click="getCurrentEvent"> 你好</button> -->
                            <template>
                                <vxe-grid border stripe highlight-hover-row highlight-current-row resizable
                                    ref="xTable2" class="mytable-scrollbar" auto-resize height="100%" :data="tableData"
                                    :columns="tableColumn2" @current-change="currentChangeEvent" round
                                    show-header-overflow show-overflow>
                                </vxe-grid>
                            </template>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-sm-12 countn" style=" height: 4.6%; border: 0px solid red;">
                &nbsp;&nbsp;&nbsp;&nbsp;总数据：<span>999</span></div>
            <!-- 模态框  -->
            <!-- 增加分类 -->
            <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                                    aria-hidden="true">&times;</span></button>
                            <h4 class="modal-title" id="myModalLabel">厂商分类</h4>
                        </div>
                        <div class="modal-body" style="padding: 15px 30px;">
                            <form class="form-horizontal">
                                <div class="form-group">
                                    <label for="inputEmail3" class="col-sm-3 control-label"><span
                                            class="span1">*</span>&nbsp;分类编码</label>
                                    <div class="col-sm-7">
                                        <input type="text" class="form-control"
                                            onkeyup="this.value=this.value.replace(/[, ]/g,'')"
                                            v-model="regionCity.regionId">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="inputPassword3" class="col-sm-3 control-label"><span
                                            class="span1">*</span>&nbsp;分类名称</label>
                                    <div class="col-sm-7">
                                        <input type="text" class="form-control"
                                            onkeyup="this.value=this.value.replace(/[, ]/g,'')"
                                            v-model="regionCity.regionName">
                                    </div>
                                </div>
                            </form>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-info abtn"
                                style="padding-left: 25px; padding-right: 25px;" data-dismiss="modal">取消</button>
                            <button type="button" class="btn  btn-success abtn"
                                style="padding-left: 25px; padding-right: 25px;" @click="insRegionCity">保存</button>
                        </div>
                    </div>
                </div>
            </div>
            <!-- 修改分类 -->
            <div class="modal fade" id="myModal2" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                                    aria-hidden="true">&times;</span></button>
                            <h4 class="modal-title" id="myModalLabel2">厂商分类</h4>
                        </div>
                        <div class="modal-body" style="padding: 15px 30px;">
                            <form class="form-horizontal">
                                <div class="form-group">
                                    <label for="inputEmail3" class="col-sm-3 control-label"><span
                                            class="span1">*</span>&nbsp;分类编码</label>
                                    <div class="col-sm-7">
                                        <input type="text" class="form-control"
                                            onkeyup="this.value=this.value.replace(/[, ]/g,'')"
                                            v-model="regionCity.regionId">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="inputPassword3" class="col-sm-3 control-label"><span
                                            class="span1">*</span>&nbsp;分类名称</label>
                                    <div class="col-sm-7">
                                        <input type="text" class="form-control"
                                            onkeyup="this.value=this.value.replace(/[, ]/g,'')"
                                            v-model="regionCity.regionName">
                                    </div>
                                </div>
                            </form>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-info abtn"
                                style="padding-left: 25px; padding-right: 25px;" data-dismiss="modal">取消</button>
                            <button type="button" class="btn  btn-success abtn"
                                style="padding-left: 25px; padding-right: 25px;" @click="updRegionCity">保存</button>
                        </div>
                    </div>
                </div>
            </div>
            <!-- 删除分类 -->
            <div class="modal fade" id="myModal3" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                                    aria-hidden="true">&times;</span></button>
                            <h4 class="modal-title" id="myModalLabel3">卡修智慧系统</h4>
                        </div>
                        <div class="modal-body">
                            <h5>确定要删除此分类吗？</h5>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn " data-dismiss="modal">否</button>
                            <button type="button" class="btn btn-primary" @click="deletebtn">是</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Modal -->
            <div class="modal fade bs-example-modal-sm" id="myModalalert" tabindex="-1" role="dialog"
                aria-labelledby="mySmallModalLabel">
                <div class="modal-dialog modal-sm" role="document">
                    <div class="modal-content">

                        <div class="modal-body">
                            <h5><i class="fa fa-times" style="color: red;"></i> 存在子节点，不能删除！！！</h5>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ====== 供货商资料增加 ====== -->
            <div class="modal fade bs-example-modal-lg" tabindex="-1" id="myModel6" role="dialog"
                aria-labelledby="myLargeModalLabel">
                <div class="modal-dialog modal-lg" role="document" style="width: 1000px;">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                                    aria-hidden="true">&times;</span></button>
                            <h4 class="modal-title clearfix" id="myModalLabel5">供货单位编辑
                                <button type="button" class="btn btn-success pull-right"
                                    style="padding-left: 25px; padding-right: 25px; margin-right: 30px;"><span
                                        class="glyphicon glyphicon-ok"></span> 保存</button>
                            </h4>
                        </div>
                        <div class="modal-body row">
                            <div class="coml-sm-12" style="padding: 0px 20px 0px 30px;">
                                <form class="form-horizontal fordiv1">
                                    <div class="col-sm-12">
                                        <!-- = -->
                                        <div class="form-fiex col-sm-12">
                                            <div class="form-group col-sm-3" style="margin-right: 15px;">
                                                <label for="inputEmail1" class="col-sm-4 control-label">厂商代码</label>
                                                <div class="col-sm-7">
                                                    <input type="text" class="form-control" disabled>
                                                </div>
                                            </div>
                                            <div class="form-group col-sm-3" style="margin-right: 15px;">
                                                <label for="inputEmail1" class="col-sm-4 control-label">厂商名称</label>
                                                <div class="col-sm-7">
                                                    <input type="text" class="form-control">
                                                </div>
                                            </div>
                                            <div class="form-group col-sm-6">
                                                <label for="inputEmail1" class="col-sm-4 control-label"><span
                                                        class="span1">*</span>&nbsp;地址</label>
                                                <div class="col-sm-9">
                                                    <input type="text" class="form-control" style="width: 105.5%;">
                                                </div>
                                            </div>
                                        </div>
                                        <!-- = -->
                                        <div class="form-fiex col-sm-12">
                                            <div class="form-group col-sm-3" style="margin-right: 15px;">
                                                <label for="inputEmail1" class="col-sm-4 control-label">经营情况</label>
                                                <div class="col-sm-7">
                                                    <input type="text" class="form-control">
                                                </div>
                                            </div>
                                            <div class="form-group col-sm-3" style="margin-right: 15px;">
                                                <label for="inputEmail1" class="col-sm-4 control-label">网址</label>
                                                <div class="col-sm-7">
                                                    <input type="text" class="form-control">
                                                </div>
                                            </div>
                                            <div class="form-group col-sm-6">
                                                <label for="inputEmail1" class="col-sm-4 control-label"><span
                                                        class="span1">*</span>&nbsp;开户行</label>
                                                <div class="col-sm-9">
                                                    <input type="text" class="form-control" style="width: 105.5%;">
                                                </div>
                                            </div>
                                        </div>
                                        <!-- = -->
                                        <div class="form-fiex col-sm-12">
                                            <div class="form-group col-sm-4" style="margin-right: 18px;">
                                                <label for="inputEmail1"
                                                    class="col-sm-4 control-label">&nbsp;银行账号&nbsp;</label>
                                                <div class="col-sm-8">
                                                    <input type="text" class="form-control">
                                                </div>
                                            </div>
                                            <div class="form-group col-sm-4" style="margin-right: 12px;">
                                                <label for="inputEmail1"
                                                    class="col-sm-4 control-label">&nbsp;付款方式&nbsp;</label>
                                                <div class="col-sm-8">
                                                    <select class="form-control">
                                                        <option>1</option>
                                                        <option>2</option>
                                                        <option>3</option>
                                                        <option>4</option>
                                                        <option>5</option>
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="form-group col-sm-4">
                                                <label for="inputEmail1"
                                                    class="col-sm-4 control-label">&nbsp;厂商等级&nbsp;</label>
                                                <div class="col-sm-8">
                                                    <select class="form-control" style="width: 103%;">
                                                        <option>1</option>
                                                        <option>2</option>
                                                        <option>3</option>
                                                        <option>4</option>
                                                        <option>5</option>
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                        <!-- = -->
                                        <div class="form-fiex col-sm-12">
                                            <div class="form-group col-sm-4" style="margin-right: 15px;">
                                                <label for="inputEmail1" class="col-sm-4 control-label">经营品牌</label>
                                                <div class="col-sm-8">
                                                    <input type="text" class="form-control">
                                                </div>
                                            </div>
                                            <div class="form-group col-sm-8">
                                                <label for="inputEmail1" class="col-sm-4 control-label"
                                                    style="margin-left: 5px !important;">厂商类别</label>
                                                <div class="col-sm-4">
                                                    <input type="text" class="form-control" disabled
                                                        style="border-radius:4px 0px 0px 4px;">
                                                </div>
                                                <div class="col-lg-5">
                                                    <div class="input-group" style="width: 121%;">
                                                        <input type="text" class="form-control" disabled
                                                            style="border-radius:0px 0px 0px 0px;">
                                                        <span class="input-group-btn">
                                                            <button class="btn btn-default" type="button"><span
                                                                    class="glyphicon glyphicon-plus"></span></button>
                                                        </span>
                                                    </div><!-- /input-group -->
                                                </div><!-- /.col-lg-6 -->
                                            </div>
                                        </div>
                                        <!-- = -->
                                        <div class="form-fiex col-sm-12">
                                            <div class="form-group col-sm-4" style="margin-right: 18px;">
                                                <label for="inputEmail1"
                                                    class="col-sm-4 control-label">&nbsp;联系人&nbsp;</label>
                                                <div class="col-sm-8">
                                                    <input type="text" class="form-control">
                                                </div>
                                            </div>
                                            <div class="form-group col-sm-4" style="margin-right: 12px;">
                                                <label for="inputEmail1"
                                                    class="col-sm-4 control-label">&nbsp;电话&nbsp;</label>
                                                <div class="col-sm-8">
                                                    <input type="text" class="form-control">
                                                </div>
                                            </div>
                                            <div class="form-group col-sm-4">
                                                <label for="inputEmail1"
                                                    class="col-sm-4 control-label">&nbsp;手机&nbsp;</label>
                                                <div class="col-sm-8">
                                                    <input type="text" class="form-control" style="width: 103%;">
                                                </div>
                                            </div>
                                        </div>
                                        <!-- = -->
                                        <div class="form-fiex col-sm-12">
                                            <div class="form-group col-sm-4" style="margin-right: 15px;">
                                                <label for="inputEmail1" class="col-sm-4 control-label">账期(天)</label>
                                                <div class="col-sm-8">
                                                    <input type="text" class="form-control">
                                                </div>
                                            </div>
                                            <div class="form-group col-sm-8">
                                                <label for="inputEmail1" class="col-sm-4 control-label"
                                                    style="margin-left: 5px !important;">备注</label>
                                                <div class="col-sm-4">
                                                    <input type="text" class="form-control"
                                                        style="border-radius:4px 0px 0px 4px;">
                                                </div>
                                                <div class="col-lg-5">
                                                    <div class="input-group" style="width: 121%;">
                                                        <input type="text" class="form-control" disabled
                                                            style="border-radius:0px 0px 0px 0px;">
                                                        <span class="input-group-btn">
                                                            <button class="btn btn-default" type="button"><span
                                                                    class="glyphicon glyphicon-plus"></span></button>
                                                        </span>
                                                    </div><!-- /input-group -->
                                                </div><!-- /.col-lg-6 -->
                                            </div>
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- ====== 供货商资料修改 ====== -->
            <div class="modal fade bs-example-modal-lg" tabindex="-1" id="myModel7" role="dialog"
                aria-labelledby="myLargeModalLabel">
                <div class="modal-dialog modal-lg" role="document" style="width: 1000px;">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                                    aria-hidden="true">&times;</span></button>
                            <h4 class="modal-title clearfix" id="myModalLabel2">供货单位编辑
                                <button type="button" class="btn btn-success pull-right"
                                    style="padding-left: 25px; padding-right: 25px; margin-right: 30px;"><span
                                        class="glyphicon glyphicon-ok"></span> 保存</button>
                            </h4>
                        </div>
                        <div class="modal-body row">
                            <div class="coml-sm-12" style="padding: 0px 20px 0px 30px;">
                                <form class="form-horizontal fordiv1">
                                    <div class="col-sm-12">
                                        <!-- = -->
                                        <div class="form-fiex col-sm-12">
                                            <div class="form-group col-sm-3" style="margin-right: 15px;">
                                                <label for="inputEmail1" class="col-sm-4 control-label">厂商代码</label>
                                                <div class="col-sm-7">
                                                    <input type="text" class="form-control" disabled>
                                                </div>
                                            </div>
                                            <div class="form-group col-sm-3" style="margin-right: 15px;">
                                                <label for="inputEmail1" class="col-sm-4 control-label">厂商名称</label>
                                                <div class="col-sm-7">
                                                    <input type="text" class="form-control">
                                                </div>
                                            </div>
                                            <div class="form-group col-sm-6">
                                                <label for="inputEmail1" class="col-sm-4 control-label"><span
                                                        class="span1">*</span>&nbsp;地址</label>
                                                <div class="col-sm-9">
                                                    <input type="text" class="form-control" style="width: 105.5%;">
                                                </div>
                                            </div>
                                        </div>
                                        <!-- = -->
                                        <div class="form-fiex col-sm-12">
                                            <div class="form-group col-sm-3" style="margin-right: 15px;">
                                                <label for="inputEmail1" class="col-sm-4 control-label">经营情况</label>
                                                <div class="col-sm-7">
                                                    <input type="text" class="form-control">
                                                </div>
                                            </div>
                                            <div class="form-group col-sm-3" style="margin-right: 15px;">
                                                <label for="inputEmail1" class="col-sm-4 control-label">网址</label>
                                                <div class="col-sm-7">
                                                    <input type="text" class="form-control">
                                                </div>
                                            </div>
                                            <div class="form-group col-sm-6">
                                                <label for="inputEmail1" class="col-sm-4 control-label"><span
                                                        class="span1">*</span>&nbsp;开户行</label>
                                                <div class="col-sm-9">
                                                    <input type="text" class="form-control" style="width: 105.5%;">
                                                </div>
                                            </div>
                                        </div>
                                        <!-- = -->
                                        <div class="form-fiex col-sm-12">
                                            <div class="form-group col-sm-4" style="margin-right: 18px;">
                                                <label for="inputEmail1"
                                                    class="col-sm-4 control-label">&nbsp;银行账号&nbsp;</label>
                                                <div class="col-sm-8">
                                                    <input type="text" class="form-control">
                                                </div>
                                            </div>
                                            <div class="form-group col-sm-4" style="margin-right: 12px;">
                                                <label for="inputEmail1"
                                                    class="col-sm-4 control-label">&nbsp;付款方式&nbsp;</label>
                                                <div class="col-sm-8">
                                                    <select class="form-control">
                                                        <option>1</option>
                                                        <option>2</option>
                                                        <option>3</option>
                                                        <option>4</option>
                                                        <option>5</option>
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="form-group col-sm-4">
                                                <label for="inputEmail1"
                                                    class="col-sm-4 control-label">&nbsp;厂商等级&nbsp;</label>
                                                <div class="col-sm-8">
                                                    <select class="form-control" style="width: 103%;">
                                                        <option>1</option>
                                                        <option>2</option>
                                                        <option>3</option>
                                                        <option>4</option>
                                                        <option>5</option>
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                        <!-- = -->
                                        <div class="form-fiex col-sm-12">
                                            <div class="form-group col-sm-4" style="margin-right: 15px;">
                                                <label for="inputEmail1" class="col-sm-4 control-label">经营品牌</label>
                                                <div class="col-sm-8">
                                                    <input type="text" class="form-control">
                                                </div>
                                            </div>
                                            <div class="form-group col-sm-8">
                                                <label for="inputEmail1" class="col-sm-4 control-label"
                                                    style="margin-left: 5px !important;">厂商类别</label>
                                                <div class="col-sm-4">
                                                    <input type="text" class="form-control" disabled
                                                        style="border-radius:4px 0px 0px 4px;">
                                                </div>
                                                <div class="col-lg-5">
                                                    <div class="input-group" style="width: 121%;">
                                                        <input type="text" class="form-control" disabled
                                                            style="border-radius:0px 0px 0px 0px;">
                                                        <span class="input-group-btn">
                                                            <button class="btn btn-default" type="button"><span
                                                                    class="glyphicon glyphicon-plus"></span></button>
                                                        </span>
                                                    </div><!-- /input-group -->
                                                </div><!-- /.col-lg-6 -->
                                            </div>
                                        </div>
                                        <!-- = -->
                                        <div class="form-fiex col-sm-12">
                                            <div class="form-group col-sm-4" style="margin-right: 18px;">
                                                <label for="inputEmail1"
                                                    class="col-sm-4 control-label">&nbsp;联系人&nbsp;</label>
                                                <div class="col-sm-8">
                                                    <input type="text" class="form-control">
                                                </div>
                                            </div>
                                            <div class="form-group col-sm-4" style="margin-right: 12px;">
                                                <label for="inputEmail1"
                                                    class="col-sm-4 control-label">&nbsp;电话&nbsp;</label>
                                                <div class="col-sm-8">
                                                    <input type="text" class="form-control">
                                                </div>
                                            </div>
                                            <div class="form-group col-sm-4">
                                                <label for="inputEmail1"
                                                    class="col-sm-4 control-label">&nbsp;手机&nbsp;</label>
                                                <div class="col-sm-8">
                                                    <input type="text" class="form-control" style="width: 103%;">
                                                </div>
                                            </div>
                                        </div>
                                        <!-- = -->
                                        <div class="form-fiex col-sm-12">
                                            <div class="form-group col-sm-4" style="margin-right: 15px;">
                                                <label for="inputEmail1" class="col-sm-4 control-label">账期(天)</label>
                                                <div class="col-sm-8">
                                                    <input type="text" class="form-control">
                                                </div>
                                            </div>
                                            <div class="form-group col-sm-8">
                                                <label for="inputEmail1" class="col-sm-4 control-label"
                                                    style="margin-left: 5px !important;">备注</label>
                                                <div class="col-sm-4">
                                                    <input type="text" class="form-control"
                                                        style="border-radius:4px 0px 0px 4px;">
                                                </div>
                                                <div class="col-lg-5">
                                                    <div class="input-group" style="width: 121%;">
                                                        <input type="text" class="form-control" disabled
                                                            style="border-radius:0px 0px 0px 0px;">
                                                        <span class="input-group-btn">
                                                            <button class="btn btn-default" type="button"><span
                                                                    class="glyphicon glyphicon-plus"></span></button>
                                                        </span>
                                                    </div><!-- /input-group -->
                                                </div><!-- /.col-lg-6 -->
                                            </div>
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 供货商查询 -->
            <div class="modal fade" id="myModel8" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                                    aria-hidden="true">&times;</span></button>

                            <h4 class="modal-title clearfix" id="myModalLabel8">供货单位查询
                                <div class="pull-right">
                                    <div class="checkbox checcss">
                                        <label>
                                            <input type="checkbox"> 停用
                                        </label>
                                    </div>
                                    <button type="button" class="btn btn-success"
                                        style="padding-left: 25px; padding-right: 25px; margin-right: 30px;"><span
                                            class="glyphicon glyphicon-ok"></span> 保存</button>
                                </div>
                            </h4>
                        </div>
                        <div class="modal-body row">
                            <div class="coml-sm-12" style="padding: 0px 20px 0px 30px;">
                                <form class="form-horizontal fordiv1">
                                    <div class="col-sm-12">
                                        <!-- = -->
                                        <div class="form-fiex col-sm-12">
                                            <div class="form-group col-sm-6" style="margin-right: 18px;">
                                                <label for="inputEmail1"
                                                    class="col-sm-4 control-label">&nbsp;厂商代码&nbsp;</label>
                                                <div class="col-sm-8">
                                                    <input type="text" class="form-control">
                                                </div>
                                            </div>
                                            <div class="form-group col-sm-6" style="margin-right: 12px;">
                                                <label for="inputEmail1"
                                                    class="col-sm-4 control-label">&nbsp;厂商名称&nbsp;</label>
                                                <div class="col-sm-8">
                                                    <input type="text" class="form-control">
                                                </div>
                                            </div>
                                        </div>
                                        <div class="form-fiex col-sm-12">
                                            <div class="form-group col-sm-6" style="margin-right: 18px;">
                                                <label for="inputEmail1"
                                                    class="col-sm-4 control-label">&nbsp;地址&nbsp;</label>
                                                <div class="col-sm-8">
                                                    <input type="text" class="form-control">
                                                </div>
                                            </div>
                                            <div class="form-group col-sm-6" style="margin-right: 12px;">
                                                <label for="inputEmail1"
                                                    class="col-sm-4 control-label">&nbsp;付款方式&nbsp;</label>
                                                <div class="col-sm-8">
                                                    <select class="form-control">
                                                        <option>1</option>
                                                        <option>2</option>
                                                        <option>3</option>
                                                        <option>4</option>
                                                        <option>5</option>
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="form-fiex col-sm-12">
                                            <div class="form-group col-sm-6" style="margin-right: 18px;">
                                                <label for="inputEmail1" class="col-sm-4 control-label">厂商等级</label>
                                                <div class="col-sm-8">
                                                    <select class="form-control">
                                                        <option>1</option>
                                                        <option>2</option>
                                                        <option>3</option>
                                                        <option>4</option>
                                                        <option>5</option>
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="form-group col-sm-6" style="margin-right: 12px;">
                                                <label for="inputEmail1" class="col-sm-4 control-label">经营品牌</label>
                                                <div class="col-sm-8">
                                                    <input type="text" class="form-control">
                                                </div>
                                            </div>
                                        </div>
                                        <div class="form-fiex col-sm-12">
                                            <div class="form-group col-sm-6" style="margin-right: 18px;">
                                                <label for="inputEmail1" class="col-sm-4 control-label">厂商类别</label>
                                                <div class="col-sm-8">
                                                    <select class="form-control">
                                                        <option>1</option>
                                                        <option>2</option>
                                                        <option>3</option>
                                                        <option>4</option>
                                                        <option>5</option>
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="form-group col-sm-6" style="margin-right: 12px;">
                                                <label for="inputEmail1" class="col-sm-4 control-label">联系人</label>
                                                <div class="col-sm-8">
                                                    <input type="text" class="form-control">
                                                </div>
                                            </div>
                                        </div>
                                        <div class="form-fiex col-sm-12">
                                            <div class="form-group col-sm-6" style="margin-right: 18px;">
                                                <label for="inputEmail1"
                                                    class="col-sm-4 control-label">&nbsp;电话&nbsp;</label>
                                                <div class="col-sm-8">
                                                    <input type="text" class="form-control">
                                                </div>
                                            </div>
                                            <div class="form-group col-sm-6" style="margin-right: 12px;">
                                                <label for="inputEmail1"
                                                    class="col-sm-4 control-label">&nbsp;手机&nbsp;</label>
                                                <div class="col-sm-8">
                                                    <input type="text" class="form-control">
                                                </div>
                                            </div>
                                        </div>
                                        <div class="form-fiex col-sm-12">
                                            <div class="form-group col-sm-6" style="margin-right: 18px;">
                                                <label for="inputEmail1"
                                                    class="col-sm-4 control-label">&nbsp;经营情况&nbsp;</label>
                                                <div class="col-sm-8">
                                                    <input type="text" class="form-control">
                                                </div>
                                            </div>
                                            <div class="form-group col-sm-6" style="margin-right: 12px;">
                                                <label for="inputEmail1"
                                                    class="col-sm-4 control-label">&nbsp;备注&nbsp;</label>
                                                <div class="col-sm-8">
                                                    <input type="text" class="form-control">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- 删除供货商资料 -->
            <div class="modal fade" id="myModal9" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                                    aria-hidden="true">&times;</span></button>
                            <h4 class="modal-title" id="myModalLabel9">删除确认</h4>
                        </div>
                        <div class="modal-body">
                            <h4>是否确认删除该记录？</h4>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default" data-dismiss="modal">否</button>
                            <button type="button" class="btn btn-primary">是</button>
                        </div>
                    </div>
                </div>
            </div>
            <!-- 商品照片 -->
            <div class="modal fade bs-example-modal-lg" tabindex="-1" id="myModel9" role="dialog"
                aria-labelledby="myLargeModalLabel">
                <div class="modal-dialog modal-lg" role="document" style="width: 600px;">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                                    aria-hidden="true">&times;</span></button>
                            <h4 class="modal-title clearfix" id="myModalLabel10">商品照片
                                <button type="button" class="btn btn-success pull-right"
                                    style="padding-left: 25px; padding-right: 25px; margin-right: 30px;"><span
                                        class="glyphicon glyphicon-upload"></span>&nbsp;上传图片</button>
                            </h4>
                        </div>
                        <div class="modal-body row">
                            <div class="coml-sm-12" style="padding: 0px 20px;">
                                <div class="flexdiv" style="padding-bottom: 10px;position: relative;">
                                    <span class="yuanx1 yuanx1-1">
                                        <span class="yuanx2">1</span>
                                    </span>
                                    <span class="yuanx1 yuanx1-2">
                                        <span class="yuanx2">2</span>
                                    </span>
                                    <div class="pre">
                                    </div>
                                    <div style="border: 0px solid rebeccapurple;">
                                        <div class=" icon-div-img">
                                            <span v-if="textHide[0]"><img :src="imgUrl[0]" alt=""></span>
                                            <div v-else style="padding-left: 25px;"><span>无图片</span></div>
                                            <!-- <img src="../imags/3AA159DD714F65B532595C955DEB5356.jpg" alt=""> -->
                                        </div>
                                        <div class="btn-icon">
                                            <span style="display: none;"><input type="file" ref="filElem"
                                                    accept="image/*" @change="getFile(0,$event)"></span>
                                            <button @click="choiceImg(0)" class="btn btn-primary"
                                                type="primary">选择图片</button>
                                            <button type="button" class="btn btn-danger">删除</button>
                                        </div>
                                    </div>
                                    <div style="border: 0px solid rebeccapurple; ">
                                        <div class=" icon-div-img">
                                            <span v-if="textHide[1]"><img :src="imgUrl[1]" alt=""></span>
                                            <div v-else style="padding-left: 25px;"><span>无图片</span></div>
                                            <!-- <img src="../imags/3AA159DD714F65B532595C955DEB5356.jpg" alt=""> -->
                                        </div>
                                        <div class="btn-icon">
                                            <span style="display: none;"><input type="file" ref="filElem1"
                                                    accept="image/*" @change="getFile(1,$event)"></span>
                                            <button @click="choiceImg(1)" class="btn btn-primary"
                                                type="primary">选择图片</button>
                                            <button type="button" class="btn btn-danger">删除</button>
                                        </div>
                                    </div>
                                </div>
                                <div class="flexdiv" style="padding-top: 10px; border-top: 1px solid gray;">
                                    <span class="yuanx1 yuanx1-3">
                                        <span class="yuanx2">3</span>
                                    </span>
                                    <span class="yuanx1 yuanx1-4">
                                        <span class="yuanx2">4</span>
                                    </span>
                                    <div style="border: 0px solid rebeccapurple;">
                                        <div class=" icon-div-img">
                                            <span v-if="textHide[2]"><img :src="imgUrl[2]" alt=""></span>
                                            <div v-else style="padding-left: 25px;"><span>无图片</span></div>
                                            <!-- <img src="../imags/3AA159DD714F65B532595C955DEB5356.jpg" alt=""> -->
                                        </div>
                                        <div class="btn-icon">
                                            <span style="display: none;"><input type="file" ref="filElem2"
                                                    accept="image/*" @change="getFile(2,$event)"></span>
                                            <button @click="choiceImg(2)" class="btn btn-primary"
                                                type="primary">选择图片</button>
                                            <button type="button" class="btn btn-danger">删除</button>
                                        </div>
                                    </div>
                                    <div style="border: 0px solid rebeccapurple;">
                                        <div class=" icon-div-img">
                                            <!-- <img src="../imags/3AA159DD714F65B532595C955DEB5356.jpg" alt=""> -->
                                            <span v-if="textHide[3]"><img :src="imgUrl[3]" alt=""></span>
                                            <div v-else style="padding-left: 25px;"><span>无图片</span></div>
                                        </div>
                                        <div class="btn-icon">
                                            <span style="display: none;"><input type="file" ref="filElem3"
                                                    accept="image/*" @change="getFile(3,$event)"></span>
                                            <button @click="choiceImg(3)" class="btn btn-primary"
                                                type="primary">选择图片</button>
                                            <button type="button" class="btn btn-danger">删除</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- 字段设置 -->
            <div class="modal fade bs-example-modal-lg" tabindex="-1" id="myModel10" role="dialog"
                aria-labelledby="myLargeModalLabel">
                <div class="modal-dialog modal-lg" role="document" style="width: 900px;">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                                    aria-hidden="true">&times;</span></button>
                            <h4 class="modal-title clearfix" id="myModalLabel2">字段设置

                            </h4>
                        </div>
                        <div class="modal-body row">
                            <div class="coml-sm-12" style="padding: 0px 30px ;">
                                <div style="height:394px;  overflow:auto;">
                                    <table class="table table-bordered table-hover table-striped itemtable">
                                        <tr>
                                            <td style="width: 10%;">
                                                <div class="checkbox" style="margin: 00px;">
                                                    <label>
                                                        <input type="checkbox" @click="checkAll"
                                                            v-model="is_check_all">显示
                                                    </label>
                                                </div>
                                            </td>
                                            <td style="width: 15%;"><span>序号</span></td>
                                            <td style="width: 25%;"><span>字段</span></td>
                                            <td style="width: 25%;"><span>字段名称</span></td>
                                            <td style="width: 25%;"><span>显示宽度</span></td>
                                        </tr>
                                        <tr v-for="item,index in tableColumn">
                                            <td class="context">
                                                <span><input type="checkbox" v-model="check_list"
                                                        :value="item.num"></span>
                                            </td>
                                            <td><span>{{ item.num}}</span></td>
                                            <td><span>{{ item.field }}</span></td>
                                            <td><span>{{ item.title }}</span></td>
                                            <td @dblclick="td_dbclick(item,index)"
                                                style="padding-bottom: 0px; padding-top: 0px;">
                                                <span v-if="item.inputVislble">{{ item.widthtemp }}</span>
                                                <div v-else class="form-group inputdiv">
                                                    <input type="tel" pattern="[0-9]*" :ref="item.tfocus"
                                                        v-model="item.widthtemp" class="form-control"
                                                        @blur="inputblur(item,index)"
                                                        @keyup.enter="inputblur(item,index)"
                                                        oninput="value=value.replace(/[^\d]/g,'')" />
                                                </div>
                                            </td>
                                        </tr>
                                    </table>
                                </div>
                            </div>
                            <div class="col-sm-12" style="text-align: right;padding-top: 10px;padding-right: 30px;">
                                <button type="button" class="btn"
                                    style="padding-right: 25px; padding-left: 25px;">取消</button>
                                <button type=" button" class="btn btn-info" @click="updshow"
                                    style="padding-right: 25px; padding-left: 25px;">保存</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- 联系人 -->
            <div class="modal fade bs-example-modal-lg" data-backdrop="false" tabindex="-1" id="myModel11" role="dialog"
                aria-labelledby="myLargeModalLabel">
                <div class="modal-dialog modal-lg" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                                    aria-hidden="true">&times;</span></button>
                            <h4 class="modal-title clearfix" id="myModalLabel2">XXX&nbsp;的联系人
                            </h4>
                        </div>
                        <div class="modal-body row" style="padding-top: 0px; padding-right: 40px !important;">
                            <div class="coml-sm-12 clearfix" style="padding: 0px 20px 0px 30px;">
                                <div class="coml-sm-12 pull-right" style="padding: 10px 0px;">
                                    <vxe-button icon="glyphicon glyphicon-plus">增加</vxe-button>
                                    <vxe-button icon="glyphicon glyphicon-remove-circle" data-toggle="modal"
                                        class="btn-danger" data-target="#myModal9">删除</vxe-button>
                                    <vxe-button icon="glyphicon glyphicon-remove-circle" class="btn-danger">保存
                                    </vxe-button>
                                </div>
                                <form class="form-horizontal fordiv1">
                                    <div class="col-sm-12">
                                        <!-- = -->
                                        <div class="form-fiex col-sm-12">
                                            <div class="form-group col-sm-4" style="margin-right: 18px;">
                                                <label for="inputEmail1" class="col-sm-4 control-label"><span
                                                        class="span1">*</span>&nbsp;联系人</label>
                                                <div class="col-sm-8">
                                                    <input type="text" class="form-control">
                                                </div>
                                            </div>
                                            <div class="form-group col-sm-4" style="margin-right: 12px;">
                                                <label for="inputEmail1" class="col-sm-4 control-label">手机</label>
                                                <div class="col-sm-8">
                                                    <input type="text" class="form-control">
                                                </div>
                                            </div>
                                            <div class="form-group col-sm-4">
                                                <label for="inputEmail1" class="col-sm-4 control-label">职位</label>
                                                <div class="col-sm-8">
                                                    <input type="text" class="form-control" style="width: 103%;">
                                                </div>
                                            </div>
                                        </div>
                                        <!-- = -->
                                        <div class="form-fiex col-sm-12">
                                            <div class="form-group col-sm-4" style="margin-right: 18px;">
                                                <label for="inputEmail1" class="col-sm-4 control-label">电话</label>
                                                <div class="col-sm-8">
                                                    <input type="text" class="form-control">
                                                </div>
                                            </div>
                                            <div class="form-group col-sm-4" style="margin-right: 12px;">
                                                <label for="inputEmail1" class="col-sm-4 control-label">Email</label>
                                                <div class="col-sm-8">
                                                    <input type="text" class="form-control">
                                                </div>
                                            </div>
                                            <div class="form-group col-sm-4"></div>
                                        </div>
                                    </div>
                                </form>
                                <div class="col-sm-12" style="height: 200px;padding-right: 0px;">
                                    <template>
                                        <vxe-grid border stripe highlight-hover-row highlight-current-row resizable
                                            ref="xTable3" class="mytable-scrollbar" auto-resize height="100%"
                                            :data="tableData" :columns="tableColumn3"
                                            @current-change="currentChangeEvent" round show-header-overflow
                                            show-overflow>
                                        </vxe-grid>
                                    </template>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script src="js/jquery-1.12.4.js" type="text/javascript" charset="utf-8"></script>
    <script src="js/bootstrap.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vue"></script>
    <script src="https://cdn.jsdelivr.net/npm/xe-utils"></script>
    <script src="https://cdn.jsdelivr.net/npm/vxe-table"></script>
    <script src="js/bootstrap-treeview.js"></script>
    <script src="js/common.js"></script>
    <script type="text/javascript">
        //获取字段名和属性名
        // SELECT COLUMN_NAME,column_comment FROM INFORMATION_SCHEMA.Columns WHERE table_name='student' AND table_schema='myschool1913'
        var Main = {
            data() {
                return {
                    imgUrl: [],
                    treeVisble: true,
                    isLoad: true,    //只在加载使用一次
                    textHide: [false, false, false, false],
                    check_list: [],
                    is_check_all: false,
                    regionCity: { regionId: "", regionName: "", parentid: "", children: [] },  //分类对象
                    templist: [{ id: 1, name: "test" }, { id: 2, name: "test" }, { id: 3, name: "test" }, { id: 4, name: "test" }],
                    //修改 加载时查询字段及其注释加 然后再查询数据
                    //先查询加载列表 然后获取列头
                    columns: [],
                    tableColumn: [
                        { num: 1, field: 'id', title: '厂商代码', sortable: true, showOverflow: true, width: 200, visible: true, inputVislble: true, widthtemp: 150, tfocus: 'itemName' },
                        { num: 2, field: 'name', title: '厂商名称', sortable: true, showOverflow: true, width: 200, visible: true, inputVislble: true, widthtemp: 150, tfocus: 'itemName' },
                        { num: 3, field: 'sex', title: '地址', sortable: true, showOverflow: true, width: 200, visible: true, inputVislble: true, widthtemp: 150, tfocus: 'itemName' },
                        { num: 4, field: 'age', title: '经营情况', sortable: true, showOverflow: true, width: 200, visible: true, inputVislble: true, widthtemp: 150, tfocus: 'itemName' },
                        { num: 5, field: 'address', title: '网址', sortable: true, showOverflow: true, width: 120, visible: true, inputVislble: true, widthtemp: 150, tfocus: 'itemName' },
                        { num: 6, field: 'sex', title: '开户行', sortable: true, showOverflow: true, width: 200, visible: true, inputVislble: true, widthtemp: 150, tfocus: 'itemName' },
                        { num: 7, field: 'sex', title: '银行账号', sortable: true, showOverflow: true, width: 200, visible: true, inputVislble: true, widthtemp: 150, tfocus: 'itemName' },
                        { num: 8, field: 'sex', title: '付款方式', sortable: true, showOverflow: true, width: 200, visible: true, inputVislble: true, widthtemp: 150, tfocus: 'itemName' },
                        { num: 9, field: 'sex', title: '厂商等级', sortable: true, showOverflow: true, width: 200, visible: true, inputVislble: true, widthtemp: 150, tfocus: 'itemName' },
                        { num: 10, field: 'sex', title: '经营品牌', sortable: true, showOverflow: true, width: 200, visible: true, inputVislble: true, widthtemp: 150, tfocus: 'itemName' },
                        { num: 11, field: 'sex', title: '商品等级', sortable: true, showOverflow: true, width: 200, visible: true, inputVislble: true, widthtemp: 150, tfocus: 'itemName' },
                        { num: 12, field: 'sex', title: '厂商类别', sortable: true, showOverflow: true, width: 200, visible: true, inputVislble: true, widthtemp: 150, tfocus: 'itemName' },
                        { num: 13, field: 'sex', title: '联系人', sortable: true, showOverflow: true, width: 200, visible: true, inputVislble: true, widthtemp: 150, tfocus: 'itemName' },
                        { num: 14, field: 'sex', title: '电话', sortable: true, showOverflow: true, width: 200, visible: true, inputVislble: true, widthtemp: 150, tfocus: 'itemName' },
                        { num: 15, field: 'sex', title: '手机', sortable: true, showOverflow: true, width: 200, visible: true, inputVislble: true, widthtemp: 150, tfocus: 'itemName' },
                        { num: 16, field: 'sex', title: 'Email', sortable: true, showOverflow: true, width: 200, visible: true, inputVislble: true, widthtemp: 150, tfocus: 'itemName' },
                        { num: 17, field: 'sex', title: '账期（天）', sortable: true, showOverflow: true, width: 200, visible: true, inputVislble: true, widthtemp: 150, tfocus: 'itemName' },
                        { num: 18, field: 'sex', title: '备注', sortable: true, showOverflow: true, width: 200, visible: true, inputVislble: true, widthtemp: 150, tfocus: 'itemName' }
                    ],
                    tableColumn3: [
                        { num: 1, field: 'id', title: '联系人', sortable: true, showOverflow: true, visible: true },
                        { num: 1, field: 'id', title: '职位', sortable: true, showOverflow: true, visible: true },
                        { num: 1, field: 'id', title: '手机', sortable: true, showOverflow: true, visible: true },
                        { num: 1, field: 'id', title: '电话', sortable: true, showOverflow: true, visible: true },
                        { num: 1, field: 'id', title: 'Email', sortable: true, showOverflow: true, visible: true }
                    ],
                    tableData: [{
                        id: 10001,
                        name: 'Test1',
                        role: 'Develop',
                        sex: 'Man',
                        age: 28,
                        address: '合适的几个客户是客户',
                        wi: 1000
                    },
                    {
                        id: 10002,
                        name: 'Test2',
                        role: 'Test',
                        sex: 'Women',
                        age: 22,
                        address: 'Guangzhou'
                    },
                    {
                        id: 10003,
                        name: 'Test3',
                        role: 'PM',
                        sex: 'Man',
                        age: 32,
                        address: 'Shanghai'
                    },
                    {
                        id: 10005,
                        name: 'Test4',
                        role: 'Designer',
                        sex: 'Women ',
                        age: 24,
                        address: 'Shanghai'
                    },
                    {
                        id: 10006,
                        name: 'Test4',
                        role: 'Designer',
                        sex: 'Women ',
                        age: 24,
                        address: 'Shanghai'
                    },
                    {
                        id: 10007,
                        name: 'Test4',
                        role: 'Designer',
                        sex: 'Women ',
                        age: 24,
                        address: 'Shanghai'
                    },
                    {
                        id: 10008,
                        name: 'Test4',
                        role: 'Designer',
                        sex: 'Women ',
                        age: 24,
                        address: 'Shanghai'
                    },
                    {
                        id: 10009,
                        name: 'Test4',
                        role: 'Designer',
                        sex: 'Women ',
                        age: 24,
                        address: 'Shanghai'
                    },
                    {
                        id: 10010,
                        name: 'Test4',
                        role: 'Designer',
                        sex: 'Women ',
                        age: 24,
                        address: 'Shanghai'
                    },
                    {
                        id: 10011,
                        name: 'Test4',
                        role: 'Designer',
                        sex: 'Women ',
                        age: 24,
                        address: 'Shanghai'
                    },
                    {
                        id: 10012,
                        name: 'Test4',
                        role: 'Designer',
                        sex: 'Women ',
                        age: 24,
                        address: 'Shanghai'
                    },
                    {
                        id: 10013,
                        name: 'Test4',
                        role: 'Designer',
                        sex: 'Women ',
                        age: 24,
                        address: 'Shanghai'
                    },
                    {
                        id: 10014,
                        name: 'Test4',
                        role: 'Designer',
                        sex: 'Women ',
                        age: 24,
                        address: 'Shanghai'
                    },
                    {
                        id: 10015,
                        name: 'Test4',
                        role: 'Designer',
                        sex: 'Women ',
                        age: 24,
                        address: 'Shanghai'
                    },
                    {
                        id: 10016,
                        name: 'Test4',
                        role: 'Designer',
                        sex: 'Women ',
                        age: 24,
                        address: 'Shanghai'
                    },
                    {
                        id: 10017,
                        name: 'Test4',
                        role: 'Designer',
                        sex: 'Women ',
                        age: 24,
                        address: 'Shanghai'
                    },
                    {
                        id: 10018,
                        name: 'Test4',
                        role: 'Designer',
                        sex: 'Women ',
                        age: 24,
                        address: 'Shanghai'
                    },
                    {
                        id: 10019,
                        name: 'Test4',
                        role: 'Designer',
                        sex: 'Women ',
                        age: 24,
                        address: 'Shanghai'
                    },
                    {
                        id: 10020,
                        name: 'Test4',
                        role: 'Designer',
                        sex: 'Women ',
                        age: 24,
                        address: 'Shanghai'
                    },
                    {
                        id: 10021,
                        name: 'Test4',
                        role: 'Designer',
                        sex: 'Women ',
                        age: 24,
                        address: 'Shanghai'
                    },
                    {
                        id: 100022,
                        name: 'Test4',
                        role: 'Designer',
                        sex: 'Women ',
                        age: 24,
                        address: 'Shanghai'
                    }
                    ],
                    tableColumn2: [ //
                        { num: 1, field: 'id', title: '联系人', sortable: true, showOverflow: true, width: 200, visible: true },
                        { num: 1, field: 'name', title: '职位', sortable: true, showOverflow: true, width: 200, visible: true },
                        { num: 1, field: 'role', title: '手机', sortable: true, showOverflow: true, width: 200, visible: true },
                        { num: 1, field: 'age', title: '电话', sortable: true, showOverflow: true, width: 200, visible: true },
                        { num: 1, field: 'address', title: 'Email', sortable: true, showOverflow: true, width: 200, visible: true },
                    ],
                    // 
                    treeColumn: [
                        { field: 'regionName', showOverflow: true, treeNode: true, type: { expand: 'true' }, slots: { default: 'user-slot' } },
                    ], //左侧树形   
                    treeData: []   //左侧树形   
                }
            },
            methods: {
                //获取焦点时显示文本框
                td_dbclick(item, index) {
                    item.inputVislble = false;
                    this.$nextTick(function () {
                        this.$refs.itemName[0].focus()
                    });
                },
                //input失去焦点显示span
                inputblur(item, index) {
                    item.inputVislble = true;
                },
                //字段设置 - 点击保存
                updshow() {
                    //设置所有false
                    this.tableColumn.forEach(item => item.visible = false);
                    //遍历checklist 选中的为true
                    this.tableColumn.forEach((item) => {
                        this.check_list.forEach(arr => {
                            if (arr == item.num) { item.visible = true; }
                        })
                        item.width = item.widthtemp;
                    });
                    //循环进行修改页面 table 配置信息
                    let obj = JSON.parse(JSON.stringify(this.tableColumn))
                    //循环tbale配置对象 将tableColumn相同的属性值赋值给columns
                    this.columns.forEach((value, key) => {
                        value.width = obj[key].width;
                        value.visible = obj[key].visible;
                    })
                    this.$refs.xTable.refreshColumn();
                },
                //获取列头
                gettableColumns() {
                    // 获取所有列配置
                    this.$nextTick(() => {
                        this.columns = this.$refs.xTable.getColumns();
                    })
                },
                //全选
                checkAll() {
                    if (this.tableColumn.length == this.check_list.length) {
                        this.check_list = [];
                    } else {
                        this.check_list = this.tableColumn.map(item => item.num)
                    }
                },
                currentChangeEvent({
                    row, rowIndex
                }) {
                    var text = $('#treeview12').treeview('getSelected');
                    // console.log(rowIndex)

                    console.log('行选中事件')
                },
                getCurrentEvent() {
                    //获取选中行数据
                    //   alert(typeof JSON.stringify(this.$refs.xTable.getCurrentRecord()))
                    if (JSON.stringify(this.$refs.xTable.getCurrentRecord()) != "null") {
                        $("#myModel2").modal("show");
                    }
                    //  this.$XModal.alert(JSON.stringify(this.$refs.xTable.getCurrentRecord()));
                }
                //点击触发 file
                , choiceImg(index) {
                    if (index == 0) {
                        this.$refs.filElem.dispatchEvent(new MouseEvent('click'));
                    } else if (index == 1) {
                        this.$refs.filElem1.dispatchEvent(new MouseEvent('click'));
                    } else if (index == 2) {
                        this.$refs.filElem2.dispatchEvent(new MouseEvent('click'));
                    } else if (index == 3) {
                        this.$refs.filElem3.dispatchEvent(new MouseEvent('click'));
                    }
                }, getFile(index, e) {
                    console.log("成功");
                    let _this = this;
                    var files = e.target.files[0];
                    /*图片类型正则验证*/
                    var imgStr = /\.(jpg|jpeg|png|bmp|BMP|JPG|PNG|JPEG)$/;
                    console.log(typeof e.target.files[0])
                    if (typeof e.target.files[0] == 'undefined') {
                        return false;
                    }
                    if (files.name == "") {
                        alert("请选择图片");
                        return false;
                    }
                    else {
                        if (!imgStr.test(files.name)) {
                            alert("文件不是图片类型");
                            return false;
                        } else {
                            /*图片大小*/
                            var imagSize = files.size;
                            if (!imagSize < (1024 * 1024 * 5)) {
                                if (!e || !window.FileReader) return  // 判断是否支持FileReader
                                let reader = new FileReader()
                                reader.readAsDataURL(files) // 文件转换
                                reader.onloadend = function () {
                                    // _this.imgUrl[index] = this.result;
                                    // _this.textHide[index] = true;
                                    _this.$set(_this.imgUrl, index, this.result);
                                    _this.$set(_this.textHide, index, true);
                                    // console.log(index);
                                    // console.log(_this.imgUrl);
                                    // console.log(_this.textHide);
                                }
                            } else {
                                alert(files.name + "大小不能超过" + 5 + "M");
                                return false;
                            }
                        }
                    }
                },
                //左侧tree切换显示
                switchTo() {
                    this.treeVisble = this.treeVisble == true ? false : true;
                },
                //==============================================
                /*
                    查询左侧tree分类
                */
                find() {
                    var that = this;
                    $.ajax({
                        url: "http://localhost:8080/suppliersRegionCity",
                        type: "get",
                        xhrFields: {
                            withCredentials: true
                        },
                        crossDomain: true,
                        dataType: "json",
                        success: function (result) {
                            handlerResult(result, () => {
                                that.treeData = result.data;
                                if (that.treeData.length > 0 && that.isLoad == true) {
                                    //只有页面第一次加载运行时
                                    //设置第一行选中
                                    that.isLoad = false;
                                    that.$refs.xTree.setCurrentRow(that.treeData[0]);
                                }
                            })
                        }
                    });
                },
                /*
                    新增
                */
                insRegionCity() {
                    let that = this;
                    console.log(JSON.stringify(that.regionCity))
                    $.ajax({
                        url: "http://127.0.0.1:8080/suppliersRegionCity/ins",
                        type: "post",
                        data: that.regionCity,
                        xhrFields: {
                            withCredentials: true
                        },
                        crossDomain: true,
                        dataType: "json",
                        success: function (result) {
                            if (result.code == 1000) {
                                that.isLoad = true;
                                that.find();
                                $("#myModal").modal("hide");
                            } else if (result.code == 3000) {
                                //id存在 主键冲突
                            } else if (result.code == 1002) {
                                //参数校验失败
                            }
                        }
                    });
                },
                /*
                    发送请求修改分类
                */
                updRegionCity() {
                    let that = this;
                    console.log(JSON.stringify(that.regionCity));
                    $.ajax({
                        url: "http://127.0.0.1:8080/suppliersRegionCity/upd",
                        type: "post",
                        data: that.regionCity,
                        xhrFields: {
                            withCredentials: true
                        },
                        crossDomain: true,
                        dataType: "json",
                        success: function (result) {
                            if (result.code == 1000) {
                                that.isLoad = true;
                                that.find();
                                $("#myModal2").modal("hide");
                            } else if (result.code == 3000) {
                                //id存在 主键冲突
                            } else if (result.code == 1002) {
                                //参数校验失败
                            }
                        }
                    });
                },
                /*
                    删除分类方法
                */
                deletebtn() {
                    let that = this;
                    console.log(JSON.stringify(that.regionCity));
                    $.ajax({
                        url: "http://127.0.0.1:8080/suppliersRegionCity/del",
                        type: "post",
                        data: { regionId: that.$refs.xTree.getCurrentRecord().regionId },
                        xhrFields: {
                            withCredentials: true
                        },
                        crossDomain: true,
                        dataType: "json",
                        success: function (result) {
                            if (result.code == 1000) {
                                that.isLoad = true;
                                that.find();
                                $("#myModal3").modal("hide");
                            } else if (result.code == 1005) {
                                //id为空

                            } else if (result.code == 1001) {
                                //有下层子节点
                                $("#myModalalert").modal("show");
                                setTimeout(() => {
                                    $("#myModalalert").modal("hide");
                                }, 2500);
                            }
                        }
                    });
                },
                /*
                    删除模态框
                */
                deleteTreeNode() {
                    let json = JSON.stringify(this.$refs.xTree.getCurrentRecord());
                    if (json != "null" || json.length != 0) {
                        let children = this.$refs.xTree.getCurrentRecord().children
                        if (children.length != 0) {
                            // console.log(children)
                            $("#myModalalert").modal("show");
                            setTimeout(() => {
                                $("#myModalalert").modal("hide");
                            }, 2500);
                        } else {
                            $("#myModal3").modal("show");
                        }
                    }
                },
                /*
                    点击显示父级新增分类模态框
                */
                show_insRegionCity() {
                    let json = JSON.parse(JSON.stringify(this.$refs.xTree.getCurrentRecord()));
                    this.regionCity.regionId = "";
                    this.regionCity.regionName = "";
                    this.regionCity.parentid = json.parentid;
                    $("#myModal").modal("show");
                },
                /*
                    点击增级子级模态框
                */
                show_insRegionCityChildren() {
                    let json = JSON.parse(JSON.stringify(this.$refs.xTree.getCurrentRecord()));
                    this.regionCity.regionId = "";
                    this.regionCity.regionName = "";
                    this.regionCity.children = []
                    //增加子级的时候父级id为当前选各种行的id
                    this.regionCity.parentid = json.regionId;
                    $("#myModal").modal("show");
                    // this.$refs.xTree.setRowExpand(this.$refs.xTree.getCurrentRecord(), true)
                },
                /*
                    修改分类
                */
                show_updRegionCity() {
                    let json = JSON.stringify(this.$refs.xTree.getCurrentRecord());
                    if (json != "null" || json.length != 0) {
                        let bean = JSON.parse(json);
                        this.regionCity.regionId = bean.regionId;
                        this.regionCity.regionName = bean.regionName;
                        this.regionCity.parentid = bean.parentid;
                        this.regionCity.beforeId = bean.regionId;
                        this.regionCity.children = []
                        $("#myModal2").modal("show");
                    }
                },
                //==============================================
                /*
                    查询右侧供货商
                */
                /*
                     查询具体供货商
                */
                toFind() {
                    var that = this;
                    $.ajax({
                        url: "http://localhost:8080/suppliersRegion",
                        type: "get",
                        xhrFields: {
                            withCredentials: true
                        },
                        crossDomain: true,
                        dataType: "json",
                        success: function (result) {
                            console.log(JSON.stringify(result.data))
                            handlerResult(result, () => {
                                // that.treeData = result.data;
                                // if (that.treeData.length > 0 && that.isLoad == true) {
                                //     //只有页面第一次加载运行时
                                //     //设置第一行选中
                                //     that.isLoad = false;
                                //     that.$refs.xTree.setCurrentRow(that.treeData[0]);
                                // }
                            })
                        }
                    });
                }
            },
            created() {
                this.find();
                //获取列表可视的列
                this.gettableColumns();
                this.toFind()
            }
            ,
            watch: {
                check_list() {
                    if (this.tableColumn.length == this.check_list.length) {
                        this.is_check_all = true;
                    } else {
                        this.is_check_all = false;
                    }
                }
            }
        }
        var Ctor = Vue.extend(Main);
        new Ctor().$mount('.container-fluid');



        var json = [{ text: 11, tags: ["你好呀"], nodes: [{ text: 2 }] }, { text: 2 }, { text: 3 },]
        var json2 = [{ text: 1, nodes: [{ text: 2, nodes: [{ text: 3 }, { text: 4, nodes: [{ text: 5 }] },] }] }, { text: 1, nodes: [{ text: 2, nodes: [{ text: 3 }, { text: 4, nodes: [{ text: 5 }] },] }] }, { text: 6 }, { text: 7 }, { text: 8 }, { text: 9 }, { text: 10 }, { text: 11 }, { text: 12 }, { text: 13 }]

        var $tree = $('#treeview12').treeview({
            data: json,
            color: "#606266;",// 文本颜色
            levels: 1,// 展开层级,
            // expandIcon: "fa fa-taxi",   //下面有子节点的图标
            // collapseIcon: "fa fa-ambulance",//可收缩的节点图标
            // emptyIcon: "fa fa-motorcycle",//设置列表树中没有子节点的节点的图标
        });
        var $tree2 = $('#treeview13').treeview({
            data: json2,
            color: "#606266;",// 文本颜色
            levels: 3,// 展开层级,
            // expandIcon: "fa fa-taxi",   //下面有子节点的图标
            // collapseIcon: "fa fa-ambulance",//可收缩的节点图标
            // emptyIcon: "fa fa-motorcycle",//设置列表树中没有子节点的节点的图标
        });
        // bootstarp下拉框
        $('.dropdown-toggle').dropdown()

        //控制模态框层级
        $(document).ready(function () {
            // 通过该方法来为每次弹出的模态框设置最新的zIndex值，从而使最新的modal显示在最前面
            $(document).on('show.bs.modal', '.modal', function () {
                var zIndex = 1040 + (10 * $('.modal:visible').length);
                $(this).css('z-index', zIndex);
                setTimeout(function () {
                    $('.modal-backdrop').not('.modal-stack').css('z-index', zIndex - 1).addClass('modal-stack');
                }, 0);
            });
        });
    </script>
</body>

</html>