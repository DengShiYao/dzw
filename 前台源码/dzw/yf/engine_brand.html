<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>商品资料</title>
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/font-awesome.css">
    <link rel="stylesheet" href="css/engine_brand.css">
    <link rel="stylesheet" href="css/public-y.css">
    <!-- 引入样式 -->
    <link rel="stylesheet" href="package/lib/style.css">
</head>

<body class="hea-div">
    <div class="container-fluid" style="height: 100%;">
        <div class="row" style="height: 100%;padding: 0px 0px !important;">
            <div style=" border: 0px solid red; padding: 0px 0px !important;" class="col-sm-12">
                <div class="col-sm-12 clearfix nav-div" style="border: 0px solid rebeccapurple;">
                    <h3 class="clearfix" style="margin-top: 10px;">发动机品牌
                        <button class="btn btn-default pull-right btnexit" type="button">关闭</button>
                    </h3>
                </div>
            </div>
            <div class="col-sm-12" style="border: 0px solid red;">
                <div style="text-align: right; margin-top: 10px;">
                    <div style="display: inline-block;">
                        <vxe-toolbar>
                            <template v-slot:buttons>
                                <vxe-button icon="glyphicon glyphicon-plus">增加
                                </vxe-button>
                                <vxe-button icon="glyphicon glyphicon-floppy-disk">保存
                                </vxe-button>
                                <vxe-button icon="glyphicon glyphicon-remove-circle" data-toggle="modal"
                                    data-target="#myModal1">删除</vxe-button>
                                <vxe-button icon="glyphicon glyphicon-export">导出</vxe-button>
                            </template>
                        </vxe-toolbar>
                    </div>
                </div>
                <div style="margin-bottom: 10px;">
                    <form class="form-inline">
                        <div class="form-group">
                            <label for="exampleInputName2" style="color:rgb(51, 206, 222);">分类代码</label>
                            <input type="text" class="form-control" id="exampleInputName2">
                        </div>
                        <div class="form-group">
                            <label for="exampleInputEmail2" style="color:rgb(51, 206, 222);">分类名称</label>
                            <input type="text" class="form-control" id="exampleInputEmail2">
                        </div>
                    </form>
                </div>
            </div>
            <div class="col-sm-4" style="height: 75%;border: 0px solid red; ">
                <div style="height: 100%; width: 99%; padding: 0px;">
                    <div style="height: 100%;">
                        <!-- <button v-slot:buttons type="button" @click="getCurrentEvent"> 你好</button> -->
                        <template>
                            <vxe-grid border stripe highlight-hover-row highlight-current-row resizable ref="xTable"
                                class="mytable-scrollbar" auto-resize height="100%" :data="tableData"
                                :columns="tableColumn" @current-change="currentChangeEvent" round show-header-overflow
                                show-overflow>
                            </vxe-grid>
                        </template>
                    </div>
                </div>
            </div>
            <div class="col-sm-12 countn" style=" height: 4.6%; border: 0px solid red;">
                &nbsp;&nbsp;&nbsp;&nbsp;总数据：<span>999</span></div>
        </div>
        <!-- Modal -->
        <div class="modal fade" id="myModal1" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                                aria-hidden="true">&times;</span></button>
                        <h4 class="modal-title" id="myModalLabel">删除确认</h4>
                    </div>
                    <div class="modal-body">
                        <h4>是否确认删除该记录？</h4>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-primary">否</button>
                        <button type="button" class="btn btn-default" data-dismiss="modal">是</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    </div>
    <script src="js/jquery-1.12.4.js" type="text/javascript" charset="utf-8"></script>
    <script src="js/bootstrap.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vue"></script>
    <script src="https://cdn.jsdelivr.net/npm/xe-utils"></script>
    <script src="https://cdn.jsdelivr.net/npm/vxe-table"></script>
    <script src="js/bootstrap-treeview.js"></script>
    <script type="text/javascript">
        //获取字段名和属性名
        // SELECT COLUMN_NAME,column_comment FROM INFORMATION_SCHEMA.Columns WHERE table_name='student' AND table_schema='myschool1913'
        var Main = {
            data() {
                return {
                    //修改 加载时查询字段及其注释加 然后再查询数据
                    //先查询加载列表 然后获取列头
                    columns: [],
                    tableColumn: [
                        { num: 1, field: 'id', title: '发动机品牌编码', sortable: true, showOverflow: true, visible: true },
                        { num: 2, field: 'name', title: '发动机品牌名称', sortable: true, showOverflow: true, visible: true }
                    ],
                    tableData: [{
                        id: 10001,
                        name: 'Test1',
                        role: 'Develop',
                        sex: 'Man',
                        age: 28,
                        address: '速度和高度是',
                        wi: 1000
                    },
                    {
                        id: 10002,
                        name: 'Test2',
                        role: 'Test',
                        sex: 'Women',
                        age: 22,
                        address: 'Guangzhou'
                    },
                    {
                        id: 10003,
                        name: 'Test3',
                        role: 'PM',
                        sex: 'Man',
                        age: 32,
                        address: 'Shanghai'
                    },
                    {
                        id: 10005,
                        name: 'Test4',
                        role: 'Designer',
                        sex: 'Women ',
                        age: 24,
                        address: 'Shanghai'
                    },
                    {
                        id: 10006,
                        name: 'Test4',
                        role: 'Designer',
                        sex: 'Women ',
                        age: 24,
                        address: 'Shanghai'
                    },
                    {
                        id: 10007,
                        name: 'Test4',
                        role: 'Designer',
                        sex: 'Women ',
                        age: 24,
                        address: 'Shanghai'
                    },
                    {
                        id: 10008,
                        name: 'Test4',
                        role: 'Designer',
                        sex: 'Women ',
                        age: 24,
                        address: 'Shanghai'
                    },
                    {
                        id: 10009,
                        name: 'Test4',
                        role: 'Designer',
                        sex: 'Women ',
                        age: 24,
                        address: 'Shanghai'
                    },
                    {
                        id: 10010,
                        name: 'Test4',
                        role: 'Designer',
                        sex: 'Women ',
                        age: 24,
                        address: 'Shanghai'
                    },
                    {
                        id: 10011,
                        name: 'Test4',
                        role: 'Designer',
                        sex: 'Women ',
                        age: 24,
                        address: 'Shanghai'
                    },
                    {
                        id: 10012,
                        name: 'Test4',
                        role: 'Designer',
                        sex: 'Women ',
                        age: 24,
                        address: 'Shanghai'
                    },
                    {
                        id: 10013,
                        name: 'Test4',
                        role: 'Designer',
                        sex: 'Women ',
                        age: 24,
                        address: 'Shanghai'
                    },
                    {
                        id: 10014,
                        name: 'Test4',
                        role: 'Designer',
                        sex: 'Women ',
                        age: 24,
                        address: 'Shanghai'
                    },
                    {
                        id: 10015,
                        name: 'Test4',
                        role: 'Designer',
                        sex: 'Women ',
                        age: 24,
                        address: 'Shanghai'
                    },
                    {
                        id: 10016,
                        name: 'Test4',
                        role: 'Designer',
                        sex: 'Women ',
                        age: 24,
                        address: 'Shanghai'
                    },
                    {
                        id: 10017,
                        name: 'Test4',
                        role: 'Designer',
                        sex: 'Women ',
                        age: 24,
                        address: 'Shanghai'
                    },
                    {
                        id: 10018,
                        name: 'Test4',
                        role: 'Designer',
                        sex: 'Women ',
                        age: 24,
                        address: 'Shanghai'
                    },
                    {
                        id: 10019,
                        name: 'Test4',
                        role: 'Designer',
                        sex: 'Women ',
                        age: 24,
                        address: 'Shanghai'
                    },
                    {
                        id: 10020,
                        name: 'Test4',
                        role: 'Designer',
                        sex: 'Women ',
                        age: 24,
                        address: 'Shanghai'
                    },
                    {
                        id: 10021,
                        name: 'Test4',
                        role: 'Designer',
                        sex: 'Women ',
                        age: 24,
                        address: 'Shanghai'
                    },
                    {
                        id: 100022,
                        name: 'Test4',
                        role: 'Designer',
                        sex: 'Women ',
                        age: 24,
                        address: 'Shanghai'
                    }
                    ]
                }
            },
            methods: {
                //获取列头
                gettableColumns() {
                    // 获取所有列配置
                    this.$nextTick(() => {
                        this.columns = this.$refs.xTable.getColumns();
                        console.log(JSON.stringify(this.$refs.xTable.getColumns()))
                    })
                },
                currentChangeEvent({
                    row
                }) {
                    console.log('行选中事件')
                },
                getCurrentEvent() {
                    //获取选中行数据
                    //   alert(typeof JSON.stringify(this.$refs.xTable.getCurrentRecord()))
                    if (JSON.stringify(this.$refs.xTable.getCurrentRecord()) != "null") {
                        $("#myModel2").modal("show");
                    }
                    //  this.$XModal.alert(JSON.stringify(this.$refs.xTable.getCurrentRecord()));
                },
                find() {
                    // var that = this;
                    // $.ajax({
                    // 	url:"http://localhost:8080/java37-SpringMVC-1/reststudent",
                    // 	type:"get",
                    // 	xhrFields: {
                    // 		withCredentials: true
                    // 	},
                    // 	crossDomain: true,
                    // 	dataType:"json",
                    // 	success:function(result){
                    // 		that.tableData = result;
                    // 		console.log(result);
                    // 	},error:function(error){
                    // 		console.log(error);
                    // 	}
                    // });
                }
            },
            created() {
                this.find();
                //获取列表可视的列
                this.gettableColumns();
            }

        }
        var Ctor = Vue.extend(Main);
        new Ctor().$mount('.container-fluid');
    </script>
</body>

</html>