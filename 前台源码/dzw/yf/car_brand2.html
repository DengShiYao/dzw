<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>品牌车型</title>
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="css/font-awesome.css" />
    <link rel="stylesheet" href="css/car_brand.css">
    <link rel="stylesheet" href="css/public-y.css">
    <!-- 引入样式 -->
    <link rel="stylesheet" href="package/lib/style.css">
</head>

<body class="hea-div">
    <div class="container-fluid" style="height: 100%;">
        <div class="row" style="height: 100%;padding: 0px 0px !important;">
            <div style="height: 10%; border: 0px solid red;" class="col-sm-12">
                <div class="col-sm-12 clearfix nav-div">
                    <h3 class="clearfix">品牌车型<button class="btn btn-default pull-right btnexit"
                            type="button">关闭</button>
                    </h3>
                </div>
            </div>
            <div style="height: 85%; border: 0px solid red;" class="col-sm-12">
                <div class="col-sm-3" style="height: 100%; border: 0px solid red;">
                    <div style="height: auto;">
                        <div class="btndiv">
                            <button class="btn btn-default btn-type" @click="toInsCarBrand" type="button"
                                style="margin-left: 0px;"><span class="glyphicon glyphicon-plus"></span>
                                增加品牌</button>
                            <button class="btn btn-default btn-type" type="button" @click="toUpdCarBrand"><span
                                    class="glyphicon glyphicon-edit"></span>
                                修改</button>
                            <button class="btn btn-default btn-type" type="button" @click="clickBrandRemove"><span
                                    class="glyphicon glyphicon-remove-circle"></span>
                                删除</button>
                        </div>
                        <div style="margin-top: 5px;">
                            <form class="form-inline">
                                <div class="form-group">
                                    <input type="text" class="form-control" style="width: 240px;" v-model="searchBrand"
                                        placeholder="匹配 品牌编码/品牌名称/首字母">
                                </div>
                                <button type="button" class="btn btn-warning selbtn" @click="brandSearch">搜索</button>
                            </form>
                        </div>
                    </div>
                    <div
                        style="margin-top: 4.8px; background-color: #ffffff; height:87%;  border: 0px solid rebeccapurple;">
                        <template>
                            <vxe-grid border stripe highlight-hover-row highlight-current-row resizable ref="xTable2"
                                class="mytable-scrollbar" auto-resize height="535" :data="carData"
                                :columns="tableColumn2" @current-change="carBrandCurrentChangeEvent" round
                                show-header-overflow show-overflow>
                            </vxe-grid>
                        </template>
                    </div>
                </div>
                <!-- 车型 -->
                <div class="col-sm-9" style="height: 100%; border: 0px solid red; padding-right: 0px;">
                    <div style="height: auto;">
                        <div class="btndiv" style="background-color: red !important;">
                            <vxe-toolbar>
                                <template v-slot:buttons>
                                    <vxe-button icon="glyphicon glyphicon-plus" @click="clickCarType">增加车型</vxe-button>
                                    <vxe-button @click="clickUpdate" icon="glyphicon glyphicon-edit">修改
                                    </vxe-button>
                                    <vxe-button icon="glyphicon glyphicon-remove-circle" @click="removeCarType">删除
                                    </vxe-button>
                                    <vxe-button icon="glyphicon glyphicon-picture" @click="show_photo">照片</vxe-button>
                                    <!-- <vxe-button @click="$refs.xTable.setCurrentRow(tableData[1])">设置第二行选中</vxe-button> -->
                                    <!-- <vxe-button @click="$refs.xTable.clearCurrentRow()">取消选中</vxe-button> -->
                                </template>
                            </vxe-toolbar>

                        </div>
                        <div style="margin-top: 5px;">
                            <form class="form-inline">
                                <div class="form-group">
                                    <input type="text" class="form-control" style="width: 240px;"
                                        v-model="searchCarType" placeholder="匹配 车型编码/车型名称">
                                </div>
                                <button type="button" class="btn btn-warning selbtn" @click="carTypeSearch">搜索</button>
                            </form>
                        </div>
                    </div>
                    <div style="margin-top: 5px; ">
                        <!-- <button v-slot:buttons type="button" @click="getCurrentEvent"> 你好</button> -->
                        <template>
                            <vxe-grid border stripe highlight-hover-row highlight-current-row resizable ref="xTable"
                                class="mytable-scrollbar" auto-resize height="535" :data="tableData"
                                :columns="tableColumn" @current-change="currentChangeEvent" round show-header-overflow
                                show-overflow>
                            </vxe-grid>
                            <!-- <vxe-table border highlight-hover-row highlight-current-row resizable ref="xTable"
             auto-resize :data="tableData" @current-change="currentChangeEvent"
             class="mytable-scrollbar" show-overflow> -->
                        </template>
                    </div>
                </div>
            </div>
            <div class="col-sm-12 countn" style="border: 0px solid red;">&nbsp;&nbsp;&nbsp;记录条数：<span>999</span></div>
            <!-- 模态框 -->
            <!-- 车型新增 -->
            <div class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" id="myModal1"
                aria-labelledby="myLargeModalLabel">
                <div class="modal-dialog modal-lg" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                                    aria-hidden="true">&times;</span></button>
                            <h4 class="modal-title clearfix" id="myModalLabel">车型定义<button type="button"
                                    @click="checkCarTypeForm" class="btn btn-success pull-right"
                                    style="padding-left: 25px; padding-right: 25px; margin-right: 30px;"><span
                                        class="glyphicon glyphicon-ok"></span> 保存</button>
                            </h4>
                        </div>
                        <div class="modal-body row">
                            <div class="col-sm-12" style="padding-left: 20px; padding-right: 20px;">
                                <div v-if="tempCarBrand.istrue" class="alert alert-danger" id="alert2">
                                    <a href="#" class="close" data-dismiss="alert">
                                        &times;
                                    </a>
                                    <strong>错误信息：</strong><span>[{{tempCarBrand.message }}]</span>
                                </div>
                            </div>
                            <div class="col-sm-7 " style="padding: 0px 20px !important;">
                                <form class="form-horizontal fordiv1" method="post" enctype="multipart/form-data"
                                    id="formfile1">
                                    <table class="col-sm-12">
                                        <tr>
                                            <td colspan="2">
                                                <div class="form-group">
                                                    <label for="inputEmail1" class="col-sm-2 control-label"><span
                                                            class="span1">*</span>&nbsp;车辆品牌</label>
                                                    <div class="col-sm-4">
                                                        <input type="text" class="form-control" id="inputEmail1"
                                                            name="brandName" style="border-radius:4px 0px 0px 4px;"
                                                            v-model="carType.brandName" disabled>
                                                    </div>
                                                    <div class="col-sm-6">
                                                        <input type="text" class="form-control" id="inputEmail1"
                                                            name="carbrandName" style="border-radius:0px 4px 4px 0px;"
                                                            v-model="carType.carbrandName" disabled>
                                                    </div>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="tdpr">
                                                <div class="form-group">
                                                    <label for="inputPassword2"
                                                        :class="[arrayCarType[0] ? 'col-sm-4 head-font control-label':'col-sm-4 control-label']"><span
                                                            class="span1">*</span>&nbsp;车型ID</label>
                                                    <div class="col-sm-8">

                                                        <input type="text"
                                                            :class="[arrayCarType[0] ? 'form-control head-error':'form-control']"
                                                            onkeyup="this.value=this.value.replace(/[, ]/g,'')"
                                                            @click="clickTyepInput(0)" id="inputPassword2" name="carId"
                                                            v-model="carType.carId">
                                                    </div>
                                                </div>
                                            </td>
                                            <td>
                                                <div class="form-group">
                                                    <label for="inputPassword3"
                                                        :class="[arrayCarType[1] ? 'col-sm-4 head-font control-label':'col-sm-4 control-label']"><span
                                                            class="span1">*</span>&nbsp;车型名称</label>
                                                    <div class="col-sm-8">
                                                        <input type="text"
                                                            :class="[arrayCarType[1] ? 'form-control head-error':'form-control']"
                                                            id="inputPassword3" @click="clickTyepInput(1)"
                                                            onkeyup="this.value=this.value.replace(/[, ]/g,'')"
                                                            name="carName" v-model="carType.carName">
                                                    </div>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="tdpr">
                                                <div class="form-group">
                                                    <label for="inputPassword4"
                                                        class="col-sm-4 control-label">进口国产</label>
                                                    <div class="col-sm-8">
                                                        <select class="form-control" id="inputPassword4"
                                                            name="importAndDomestic"
                                                            v-model="carType.importAndDomestic">
                                                            <option v-for="item in importAndDomestic" :value="item.id">
                                                                {{ item.name }}
                                                            </option>
                                                        </select>
                                                    </div>
                                                </div>
                                            </td>
                                            <td>
                                                <div class="form-group">
                                                    <label for="inputPassword5"
                                                        class="col-sm-4 control-label">参考价格</label>
                                                    <div class="col-sm-8">
                                                        <input type="text" class="form-control" id="inputPassword5"
                                                            onkeyup="this.value=this.value.replace(/[, ]/g,'')"
                                                            name="referencePrice" v-model="carType.referencePrice">
                                                    </div>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="tdpr">
                                                <div class="form-group">
                                                    <label for="inputPassword6"
                                                        class="col-sm-4 control-label">车辆年款</label>
                                                    <div class="col-sm-8">
                                                        <input type="text" class="form-control" id="inputPassword6"
                                                            onkeyup="this.value=this.value.replace(/[, ]/g,'')"
                                                            name="carStyle" v-model="carType.carStyle">
                                                    </div>
                                                </div>
                                            </td>
                                            <td>
                                                <div class="form-group">
                                                    <label for="inputPassword7"
                                                        class="col-sm-4 control-label">功率</label>
                                                    <div class="col-sm-8">
                                                        <input type="text" class="form-control" id="inputPassword7"
                                                            onkeyup="this.value=this.value.replace(/[, ]/g,'')"
                                                            name="power" v-model="carType.power">
                                                    </div>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="tdpr">
                                                <div class="form-group">
                                                    <label for="inputPassword8"
                                                        class="col-sm-4 control-label">燃油编号</label>
                                                    <div class="col-sm-8">
                                                        <input type="text" class="form-control" id="inputPassword8"
                                                            onkeyup="this.value=this.value.replace(/[, ]/g,'')"
                                                            name="fuelNumber" v-model="carType.fuelNumber">
                                                    </div>
                                                </div>
                                            </td>
                                            <td>
                                                <div class="form-group">
                                                    <label for="inputPassword9"
                                                        class="col-sm-4 control-label">载重</label>
                                                    <div class="col-sm-8">
                                                        <input type="text" class="form-control" id="inputPassword9"
                                                            onkeyup="this.value=this.value.replace(/[, ]/g,'')"
                                                            name="loadbearing" v-model="carType.loadbearing">
                                                    </div>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td colspan="2">
                                                <div class="form-group">
                                                    <label for="inputEmail10"
                                                        :class="[arrayCarType[2] ? 'col-sm-2 head-font control-label':'col-sm-2 control-label']"><span
                                                            class="span1">*</span>&nbsp;索赔厂商</label>
                                                    <div class="col-sm-10">
                                                        <div class="input-group col-sm-12" style="width: 129.5%;">
                                                            <input type="text"
                                                                style="border-radius:4px 0px 0px 4px; width: 70%;"
                                                                :class="[arrayCarType[2] ? 'form-control head-error':'form-control']"
                                                                @click="clickTyepInput(2)" id="inputEmail10" name="sid"
                                                                onkeyup="this.value=this.value.replace(/[, ]/g,'')"
                                                                v-model="carType.sid">
                                                            <span class="input-group-btn"
                                                                style="display: inline-block;">
                                                                <button
                                                                    :class="[arrayCarType[2] ? 'btn btn-default btn-checked':'btn btn-default']"
                                                                    type="button"><span
                                                                        class="glyphicon glyphicon-plus"></span></button>
                                                            </span>
                                                        </div>
                                                    </div>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td colspan="2">
                                                <div class="form-group">
                                                    <label for="inputEmail11"
                                                        :class="[arrayCarType[3] ? 'col-sm-2 head-font control-label':'col-sm-2 control-label']"><span
                                                            class="span1">*</span>&nbsp;发动机品牌</label>
                                                    <div class="col-sm-10">
                                                        <select
                                                            :class="[arrayCarType[3] ? 'form-control head-error':'form-control']"
                                                            @click="clickTyepInput(3)" id="inputEmail11"
                                                            name="engineName" v-model="carType.engineName">
                                                            <option value="0">===请选择===</option>
                                                            <option v-for="item in engineBrand"
                                                                :value="item.engineName">{{ item.engineName }}
                                                            </option>
                                                        </select>
                                                    </div>
                                                </div>
                                            </td>
                                        </tr>
                                    </table>

                                </form>
                            </div>
                            <div class="col-sm-5 icon-btn">
                                <div><span v-if="textHide"><img :src="imgUrl" alt=""></span></div>
                                <div>
                                    <span style="display: none;"><input type="file" id="fileupload" name="file"
                                            ref="filElem" accept="image/*" @change="getFile"></span>
                                    <button @click="choiceImg" icon="ios-cloud-upload-outline"
                                        type="primary">照片</button>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
            <!-- 车型修改 -->
            <div class="modal fade bs-example-modal-lg" tabindex="-1" id="myModel2" role="dialog"
                aria-labelledby="myLargeModalLabel">
                <div class="modal-dialog modal-lg" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                                    aria-hidden="true">&times;</span></button>
                            <h4 class="modal-title clearfix" id="myModalLabel">车型定义<button type="button"
                                    @click="checkCarTypeForm" class="btn btn-success pull-right"
                                    style="padding-left: 25px; padding-right: 25px; margin-right: 30px;"><span
                                        class="glyphicon glyphicon-ok"></span> 保存</button>
                            </h4>
                        </div>
                        <div class="modal-body row">
                            <div class="col-sm-12" style="padding-left: 20px; padding-right: 20px;">
                                <div v-if="tempCarBrand.istrue" class="alert alert-danger" id="alert2">
                                    <a href="#" class="close" data-dismiss="alert">
                                        &times;
                                    </a>
                                    <strong>错误信息：</strong><span>[{{tempCarBrand.message }}]</span>
                                </div>
                            </div>
                            <div class="col-sm-7 " style="padding: 0px 20px !important;">
                                <form class="form-horizontal fordiv1" method="post" enctype="multipart/form-data"
                                    id="formfile1">
                                    <table class="col-sm-12">
                                        <tr>
                                            <td colspan="2">
                                                <div class="form-group">
                                                    <label for="inputEmail1" class="col-sm-2 control-label"><span
                                                            class="span1">*</span>&nbsp;车辆品牌</label>
                                                    <div class="col-sm-4">
                                                        <input type="text" class="form-control" id="inputEmail1"
                                                            name="brandName" style="border-radius:4px 0px 0px 4px;"
                                                            v-model="carType.brandName" disabled>
                                                    </div>
                                                    <div class="col-sm-6">
                                                        <input type="text" class="form-control" id="inputEmail1"
                                                            name="carbrandName" style="border-radius:0px 4px 4px 0px;"
                                                            v-model="carType.carbrandName" disabled>
                                                    </div>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="tdpr">
                                                <div class="form-group">
                                                    <label for="inputPassword2"
                                                        :class="[arrayCarType[0] ? 'col-sm-4 head-font control-label':'col-sm-4 control-label']"><span
                                                            class="span1">*</span>&nbsp;车型ID</label>
                                                    <div class="col-sm-8">

                                                        <input type="text"
                                                            onkeyup="this.value=this.value.replace(/[, ]/g,'')"
                                                            :class="[arrayCarType[0] ? 'form-control head-error':'form-control']"
                                                            @click="clickTyepInput(0)" id="inputPassword2" name="carId"
                                                            v-model="carType.carId">
                                                    </div>
                                                </div>
                                            </td>
                                            <td>
                                                <div class="form-group">
                                                    <label for="inputPassword3"
                                                        :class="[arrayCarType[1] ? 'col-sm-4 head-font control-label':'col-sm-4 control-label']"><span
                                                            class="span1">*</span>&nbsp;车型名称</label>
                                                    <div class="col-sm-8">
                                                        <input type="text"
                                                            :class="[arrayCarType[1] ? 'form-control head-error':'form-control']"
                                                            id="inputPassword3" @click="clickTyepInput(1)"
                                                            onkeyup="this.value=this.value.replace(/[, ]/g,'')"
                                                            name="carName" v-model="carType.carName">
                                                    </div>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="tdpr">
                                                <div class="form-group">
                                                    <label for="inputPassword4"
                                                        class="col-sm-4 control-label">进口国产</label>
                                                    <div class="col-sm-8">
                                                        <select class="form-control" id="inputPassword4"
                                                            name="importAndDomestic"
                                                            v-model="carType.importAndDomestic">
                                                            <option v-for="item in importAndDomestic" :value="item.id">
                                                                {{ item.name }}
                                                            </option>
                                                        </select>
                                                    </div>
                                                </div>
                                            </td>
                                            <td>
                                                <div class="form-group">
                                                    <label for="inputPassword5"
                                                        class="col-sm-4 control-label">参考价格</label>
                                                    <div class="col-sm-8">
                                                        <input type="text" class="form-control" id="inputPassword5"
                                                            onkeyup="this.value=this.value.replace(/[, ]/g,'')"
                                                            name="referencePrice" v-model="carType.referencePrice">
                                                    </div>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="tdpr">
                                                <div class="form-group">
                                                    <label for="inputPassword6"
                                                        class="col-sm-4 control-label">车辆年款</label>
                                                    <div class="col-sm-8">
                                                        <input type="text" class="form-control" id="inputPassword6"
                                                            onkeyup="this.value=this.value.replace(/[, ]/g,'')"
                                                            name="carStyle" v-model="carType.carStyle">
                                                    </div>
                                                </div>
                                            </td>
                                            <td>
                                                <div class="form-group">
                                                    <label for="inputPassword7"
                                                        class="col-sm-4 control-label">功率</label>
                                                    <div class="col-sm-8">
                                                        <input type="text" class="form-control" id="inputPassword7"
                                                            onkeyup="this.value=this.value.replace(/[, ]/g,'')"
                                                            name="power" v-model="carType.power">
                                                    </div>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="tdpr">
                                                <div class="form-group">
                                                    <label for="inputPassword8"
                                                        class="col-sm-4 control-label">燃油编号</label>
                                                    <div class="col-sm-8">
                                                        <input type="text" class="form-control" id="inputPassword8"
                                                            onkeyup="this.value=this.value.replace(/[, ]/g,'')"
                                                            name="fuelNumber" v-model="carType.fuelNumber">
                                                    </div>
                                                </div>
                                            </td>
                                            <td>
                                                <div class="form-group">
                                                    <label for="inputPassword9"
                                                        class="col-sm-4 control-label">载重</label>
                                                    <div class="col-sm-8">
                                                        <input type="text" class="form-control" id="inputPassword9"
                                                            onkeyup="this.value=this.value.replace(/[, ]/g,'')"
                                                            name="loadbearing" v-model="carType.loadbearing">
                                                    </div>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td colspan="2">
                                                <div class="form-group">
                                                    <label for="inputEmail10"
                                                        :class="[arrayCarType[2] ? 'col-sm-2 head-font control-label':'col-sm-2 control-label']"><span
                                                            class="span1">*</span>&nbsp;索赔厂商</label>
                                                    <div class="col-sm-10">
                                                        <div class="input-group col-sm-12" style="width: 129.5%;">
                                                            <input type="text"
                                                                style="border-radius:4px 0px 0px 4px; width: 70%;"
                                                                :class="[arrayCarType[2] ? 'form-control head-error':'form-control']"
                                                                @click="clickTyepInput(2)" id="inputEmail10" name="sid"
                                                                onkeyup="this.value=this.value.replace(/[, ]/g,'')"
                                                                v-model="carType.sid">
                                                            <span class="input-group-btn"
                                                                style="display: inline-block;">
                                                                <button
                                                                    :class="[arrayCarType[2] ? 'btn btn-default btn-checked':'btn btn-default']"
                                                                    type="button"><span
                                                                        class="glyphicon glyphicon-plus"></span></button>
                                                            </span>
                                                        </div>
                                                    </div>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td colspan="2">
                                                <div class="form-group">
                                                    <label for="inputEmail11"
                                                        :class="[arrayCarType[3] ? 'col-sm-2 head-font control-label':'col-sm-2 control-label']"><span
                                                            class="span1">*</span>&nbsp;发动机品牌</label>
                                                    <div class="col-sm-10">
                                                        <select
                                                            :class="[arrayCarType[3] ? 'form-control head-error':'form-control']"
                                                            @click="clickTyepInput(3)" id="inputEmail11"
                                                            name="engineName" v-model="carType.engineName">
                                                            <option value="0">===请选择===</option>
                                                            <option v-for="item in engineBrand"
                                                                :value="item.engineName">{{ item.engineName }}
                                                            </option>
                                                        </select>
                                                    </div>
                                                </div>
                                            </td>
                                        </tr>
                                    </table>
                                </form>
                            </div>
                            <div class="col-sm-5 icon-btn">
                                <div><span v-if="textHide"><img :src="imgUrl" alt=""></span></div>
                                <div>
                                    <span style="display: none;"><input type="file" id="fileupload2" name="file"
                                            ref="filElem" accept="image/*" @change="getFile"></span>
                                    <button @click="choiceImg" icon="ios-cloud-upload-outline"
                                        type="primary">照片</button>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
            <!-- 车型删除 -->
            <div class="modal fade" id="myModal3" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                                    aria-hidden="true">&times;</span></button>
                            <h4 class="modal-title" id="myModalLabel3">删除确认</h4>
                        </div>
                        <div class="modal-body">
                            <h4>是否确认删除该记录？</h4>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-primary">是</button>
                            <button type="button" class="btn btn-default" data-dismiss="modal">否</button>
                        </div>
                    </div>
                </div>
            </div>
            <!-- 车型照片 -->
            <div class="modal fade" id="myModal4" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
                style="height: 900px !important;">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                                    aria-hidden="true">&times;</span></button>
                            <h4 class="modal-title clearfix" id="myModalLabel4">车型照片
                                <button type="button" class="btn btn-success pull-right"
                                    style="padding-left: 25px; padding-right: 25px; margin-right: 30px;"><span
                                        class="glyphicon glyphicon-ok"></span> 保存</button>
                                <button type="button" class="btn btn-warning pull-right" @click="choiceImg"
                                    icon="ios-cloud-upload-outline" type="primary"
                                    style="padding-left: 25px; padding-right: 25px; margin-right: 30px;"><span
                                        class="glyphicon glyphicon-picture"></span> 指定照片</button>
                            </h4>
                        </div>
                        <div class="modal-body">
                            <div class="icon-size">
                                <span style="display: none;"><input type="file" ref="filElem" accept="image/*"
                                        @change="getFile"></span>
                                <span v-if="textHide"><img :src="imgUrl" alt="" class="myicon"></span>
                                <h5 v-if="textHide==false" style="text-align: center;">暂无图片</h5>
                                <!-- <img src="../imags/3AA159DD714F65B532595C955DEB5356.jpg" alt=""> -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- 品牌新增 -->
            <div class="modal fade" id="myModal5" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                                    aria-hidden="true">&times;</span></button>
                            <h4 class="modal-title" id="myModalLabel">品牌定义</h4>
                        </div>
                        <div class="modal-body" style="padding: 15px 30px;">
                            <div v-if="tempCarBrand.istrue" class="alert alert-danger" id="alert1">
                                <a href="#" class="close" data-dismiss="alert">
                                    &times;
                                </a>
                                <strong>错误信息：</strong><span>[{{tempCarBrand.message }}]</span>
                            </div>
                            <form class="form-horizontal">
                                <div class="form-group ">
                                    <label for="inputEmail3"
                                        :class="[arrayCar[0]?'col-sm-3  head-font control-label':'col-sm-3 control-label']"><span
                                            class="span1">*</span>&nbsp;品牌编码</label>
                                    <div class="col-sm-7 ">
                                        <input type="text"
                                            :class="[arrayCar[0]?'form-control head-error':'form-control']"
                                            @click="clickInput(0)" id="inputEmail3" v-model="carBrand.carId">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="inputPassword3"
                                        :class="[arrayCar[1]?'col-sm-3  head-font control-label':'col-sm-3 control-label']"><span
                                            class="span1">*</span>&nbsp;品牌名称</label>
                                    <div class="col-sm-7">
                                        <input type="text"
                                            :class="[arrayCar[1]?'form-control head-error':'form-control']"
                                            @click="clickInput(1)" id="inputPassword3" v-model="carBrand.carName">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="inputPassword3"
                                        :class="[arrayCar[2]?'col-sm-3  head-font control-label':'col-sm-3 control-label']"><span
                                            class="span1">*</span>&nbsp;首字母</label>
                                    <div class="col-sm-7">
                                        <input type="text"
                                            :class="[arrayCar[2]?'form-control head-error':'form-control']"
                                            @click="clickInput(2)" id="inputPassword3" v-model="carBrand.initial">
                                    </div>
                                </div>
                            </form>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-info abtn"
                                style="padding-left: 25px; padding-right: 25px;" data-dismiss="modal">取消</button>
                            <button type="button" class="btn  btn-success abtn"
                                style="padding-left: 25px; padding-right: 25px;" ref="btn1"
                                @click="InsSave(0)">保存</button>
                        </div>
                    </div>
                </div>
            </div>
            <!-- 品牌修改 -->
            <div class="modal fade" id="myModal6" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                                    aria-hidden="true">&times;</span></button>
                            <h4 class="modal-title" id="myModalLabel">品牌定义</h4>
                        </div>
                        <div class="modal-body" style="padding: 15px 30px;">
                            <div v-if="tempCarBrand.istrue" class="alert alert-danger" id="alert2">
                                <a href="#" class="close" data-dismiss="alert">
                                    &times;
                                </a>
                                <strong>错误信息：</strong><span>[{{tempCarBrand.message }}]</span>
                            </div>
                            <form class="form-horizontal">
                                <div class="form-group ">
                                    <label for="inputEmail3"
                                        :class="[arrayCar[0]?'col-sm-3  head-font control-label':'col-sm-3 control-label']"><span
                                            class="span1">*</span>&nbsp;品牌编码</label>
                                    <div class="col-sm-7 ">
                                        <input type="text"
                                            :class="[arrayCar[0]?'form-control head-error':'form-control']"
                                            @click="clickInput(0)" id="inputEmail3" v-model="carBrand.carId">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="inputPassword3"
                                        :class="[arrayCar[1]?'col-sm-3  head-font control-label':'col-sm-3 control-label']"><span
                                            class="span1">*</span>&nbsp;品牌名称</label>
                                    <div class="col-sm-7">
                                        <input type="text"
                                            :class="[arrayCar[1]?'form-control head-error':'form-control']"
                                            @click="clickInput(1)" id="inputPassword3" v-model="carBrand.carName">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="inputPassword3"
                                        :class="[arrayCar[2]?'col-sm-3  head-font control-label':'col-sm-3 control-label']"><span
                                            class="span1">*</span>&nbsp;首字母</label>
                                    <div class="col-sm-7">
                                        <input type="text"
                                            :class="[arrayCar[2]?'form-control head-error':'form-control']"
                                            @click="clickInput(2)" id="inputPassword3" v-model="carBrand.initial">
                                    </div>
                                </div>
                            </form>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-info abtn"
                                style="padding-left: 25px; padding-right: 25px;" data-dismiss="modal">取消</button>
                            <button type="button" class="btn  btn-success abtn"
                                style="padding-left: 25px; padding-right: 25px;" ref="btn2"
                                @click="InsSave(1)">保存</button>
                        </div>
                    </div>
                </div>
            </div>
            <!-- 品牌删除 -->
            <div class="modal fade" id="myModal7" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                                    aria-hidden="true">&times;</span></button>
                            <h4 class="modal-title" id="myModalLabel">品牌定义</h4>
                        </div>
                        <div class="modal-body">
                            <h4>删除品牌时，是否连同车系一起删除？</h4>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default" data-dismiss="modal">否</button>
                            <button type="button" class="btn btn-primary" @click="brandRemove">是</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="js/jquery-1.12.4.js" type="text/javascript" charset="utf-8"></script>
    <script src="js/bootstrap.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vue"></script>
    <script src="https://cdn.jsdelivr.net/npm/xe-utils"></script>
    <script src="https://cdn.jsdelivr.net/npm/vxe-table"></script>
    <script src="js/common.js"></script>
    <script type="text/javascript">
        var Main = {
            data() {
                return {
                    imgUrl: '',
                    isLoad: true,       //页面第一次加载时fasle
                    importAndDomestic: {},   //进口国产,
                    engineBrand: {},     //发动机品牌
                    searchCarType: "",  //车型搜索
                    searchBrand: "",  //品牌搜索
                    carIcon: {   //车型图片
                        icId: "",
                        icName: "",
                        carId: ""
                    },
                    carType: {
                        carId: "",
                        carName: "",
                        importAndDomestic: 1,
                        referencePrice: "",
                        carStyle: "",
                        power: "",
                        fuelNumber: "",
                        loadbearing: "",
                        fuelNumber: "",
                        sid: "",
                        engineName: 0
                    },     //车型
                    carBrand: {
                        carId: null,
                        carName: null,
                        initial: null
                    },
                    tempCarBrand: {
                        istrue: false,
                        message: "红色边框内为必填项"
                    },
                    arrayCar: [false, false, false],    //品牌class
                    arrayCarType: [false, false, false, false],    //车型 class
                    textHide: false,
                    tableColumn: [
                        // { type: 'checkbox', width: 50, visible: true },
                        { field: 'carId', title: '车型ID', sortable: true, showOverflow: true, width: 200, visible: true },
                        { field: 'carName', title: '车型名称', sortable: true, showOverflow: true, width: 200, visible: true },
                        { field: 'engineName', title: '发动机品牌', sortable: true, showOverflow: true, width: 200, visible: true },
                        { field: 'referencePrice', title: '参考价格', sortable: true, showOverflow: true, width: 200, visible: true },
                        { field: 'carStyle', title: '车辆年款', sortable: true, showOverflow: true, width: 200, visible: true },
                        { field: 'power', title: '功率', sortable: true, showOverflow: true, width: 200, visible: true },
                        { field: 'regionName', title: '索赔厂商', sortable: true, showOverflow: true, width: 200, visible: true },
                        { field: 'importName', title: '进口国产', sortable: true, showOverflow: true, width: 200, visible: true },
                        { field: 'fuelNumber', title: '燃油标号', sortable: true, showOverflow: true, width: 200, visible: true },
                        { field: 'loadbearing', title: '载重', sortable: true, showOverflow: true, width: 200, visible: true },
                    ],
                    tableData: [],
                    tableColumn2: [
                        { field: 'carId', title: '编码', sortable: true, showOverflow: true, visible: true },
                        { field: 'carName', title: '品牌名称', sortable: true, showOverflow: true, visible: true },
                        { field: 'initial', title: '首字母', sortable: true, showOverflow: true, visible: true }
                    ],
                    carData: []

                }
            },
            methods: {
                //车型品牌选中行事件
                carBrandCurrentChangeEvent({
                    row
                }) {
                    console.log('行选中事件');
                    this.searchBrand = "";
                    this.searchCarType = "";
                    this.tableData = [];
                    let carId = this.$refs.xTable2.getCurrentRecord().carId;
                    this.findCarType(carId)
                },
                //车型选中行
                currentChangeEvent({
                    row
                }) {
                    console.log('行选中事件zuo ')
                    this.searchCarType = "";
                }
                //点击出发 file
                , choiceImg() {
                    this.$refs.filElem.dispatchEvent(new MouseEvent('click'))
                },
                //图片预览
                getFile(e) {
                    console.log("成功");
                    let _this = this;
                    var files = e.target.files[0];
                    if (!files) {
                        console.log("D")
                        return false;
                    }
                    /*图片类型正则验证*/
                    var imgStr = /\.(jpg|jpeg|png|bmp|BMP|JPG|PNG|JPEG)$/;
                    if (files.value == "" || files.name == "") {
                        alert("请选择图片");
                        return false;
                    }
                    else {
                        if (!imgStr.test(files.name)) {
                            alert("文件不是图片类型");
                            return false;
                        } else {
                            /*图片大小*/
                            var imagSize = files.size;
                            if (!imagSize < (1024 * 1024 * 5)) {
                                if (!e || !window.FileReader) return  // 判断是否支持FileReader
                                let reader = new FileReader()
                                reader.readAsDataURL(files) // 文件转换
                                reader.onloadend = function () {
                                    _this.imgUrl = this.result
                                    _this.textHide = true;
                                }
                            } else {
                                alert(files.name + "大小不能超过" + 5 + "M");
                                return false;
                            }
                        }
                    }
                },
                find() {
                    var that = this;
                    $.ajax({
                        url: "http://127.0.0.1:8080/carBrand",
                        type: "get",
                        xhrFields: {
                            withCredentials: true
                        },
                        crossDomain: true,
                        dataType: "json",
                        success: function (result) {
                            handlerResult(result, () => {
                                that.carData = result.data;
                                if (that.carData.length > 0 && that.isLoad == true) {
                                    //只有页面第一次加载运行时
                                    //设置第一行选中
                                    that.isLoad = false;
                                    that.$refs.xTable2.setCurrentRow(that.carData[0]);
                                    let carId = that.$refs.xTable2.getCurrentRecord().carId;
                                    that.findCarType(carId);
                                }
                            });
                        }
                    });
                },
                //品牌新增
                brandIns() {
                    let that = this;
                    $.ajax({
                        url: "http://127.0.0.1:8080/carBrand",
                        type: "post",
                        data: JSON.stringify(that.carBrand),
                        xhrFields: {
                            withCredentials: true
                        },
                        crossDomain: true,
                        contentType: "application/json;charset=utf-8",
                        dataType: "json",
                        success: function (result) {
                            if (result.code == 3000) {
                                that.tempCarBrand.message = "品牌编码已经存在，不能重复。";
                                that.arrayCar[0] = true;
                                that.tempCarBrand.istrue = true;
                            } else {
                                handlerResult(result, () => {
                                    that.forArr();
                                    that.find();
                                    $("#myModal5").modal("hide");
                                });
                            }
                        }
                    });
                },
                //车型品牌修改 
                brandUpd() {
                    let that = this;
                    $.ajax({
                        url: "http://127.0.0.1:8080/carBrand/upd",
                        type: "post",
                        data: JSON.stringify(that.carBrand),
                        xhrFields: {
                            withCredentials: true
                        },
                        crossDomain: true,
                        contentType: "application/json;charset=utf-8",
                        dataType: "json",
                        success: function (result) {
                            if (result.code == 3000) {
                                that.tempCarBrand.message = "品牌编码已经存在，不能重复。";
                                that.arrayCar[0] = true;
                                that.tempCarBrand.istrue = true;
                            } else {
                                handlerResult(result, () => {
                                    that.forArr();
                                    that.find();
                                    $("#myModal6").modal("hide");
                                });
                            }
                        }
                    });
                },
                //车型品牌删除
                brandRemove() {
                    let id = this.$refs.xTable2.getCurrentRecord().carId;
                    let that = this;
                    $.ajax({
                        url: "http://127.0.0.1:8080/carBrand/remove",
                        type: "post",
                        data: { carBrand: id },
                        xhrFields: {
                            withCredentials: true
                        },
                        crossDomain: true,
                        dataType: "json",
                        success: function (result) {
                            handlerResult(result, () => {
                                that.find();
                                $("#myModal7").modal("hide");
                            });
                        }
                    });
                },
                //点击左侧品牌时查询品牌下的车型
                findCarType(carId) {
                    var that = this;
                    $.ajax({
                        url: "http://127.0.0.1:8080/carType/" + carId,
                        type: "get",
                        xhrFields: {
                            withCredentials: true
                        },
                        crossDomain: true,
                        dataType: "json",
                        success: function (result) {
                            handlerResult(result, () => { that.tableData = result.data; });
                        }
                    });
                },
                /*
                    查询进口国产
                */
                findDomestic() {
                    let that = this;
                    $.ajax({
                        url: "http://127.0.0.1:8080/importAndDomestic",
                        type: "get",
                        xhrFields: {
                            withCredentials: true
                        },
                        crossDomain: true,
                        dataType: "json",
                        success: function (result) {
                            handlerResult(result, () => {
                                that.importAndDomestic = result.data;
                            });
                        }
                    });
                },
                /*
                    查询发动机品牌
                */
                findCarBrand() {
                    let that = this;
                    $.ajax({
                        url: "http://127.0.0.1:8080/engineBrand",
                        type: "get",
                        xhrFields: {
                            withCredentials: true
                        },
                        crossDomain: true,
                        dataType: "json",
                        success: function (result) {
                            handlerResult(result, () => {
                                that.engineBrand = result.data;
                            });
                        }
                    });
                },
                /*
                    车型新增
                */
                addCarTypeFile() {
                    var form = $("#formfile1").get(0);//将jquery对象转换成dom对象
                    var formdata = new FormData(form);
                    formdata.append("file", this.$refs.filElem.files[0]);
                    formdata.append("brandName", this.carType.brandName);
                    console.log(JSON.stringify(this.carType));
                    let that = this;
                    $.ajax({
                        url: "http://127.0.0.1:8080/carType/upload",
                        data: formdata,
                        type: "post",
                        processData: false,//不处理参数中的数据
                        contentType: false,//数据内容不进行定义
                        dataType: "json",
                        success: function (result) {
                            //id冲突
                            if (result.code == 3000) {
                                that.tempCarBrand.message = "车型ID已经存在，不能重复";
                                that.tempCarBrand.istrue = true;
                                that.arrayCarType[0] = true;
                            } else if (result.code == 1002) {
                                that.tempCarBrand.message = "请检查参数的填写是否正确";
                                that.tempCarBrand.istrue = true;
                            } else if (result.code == 1006) {
                                that.tempCarBrand.message = "文件上传失败，请重新尝试";
                                that.tempCarBrand.istrue = true;
                            } else if (result.code == 1000) {
                                //成功 刷新车型列表
                                that.findCarType(that.carType.brandName);
                            } else {
                                that.tempCarBrand.message = "发生意外错误，请刷新页面重新尝试";
                                that.tempCarBrand.istrue = true;
                            }
                        }
                    });
                },
                /*
                    车型搜索
                */
                carTypeSearch() {
                    let that = this;
                    $.ajax({
                        url: "http://127.0.0.1:8080/carType/search",
                        type: "post",
                        data: {
                            search: that.searchCarType,
                            carId: that.$refs.xTable2.getCurrentRecord().carId
                        },
                        xhrFields: {
                            withCredentials: true
                        },
                        crossDomain: true,
                        dataType: "json",
                        success: function (result) {
                            handlerResult(result, () => {
                                handlerResult(result, () => { that.tableData = result.data; });
                            });
                        }
                    });
                },
                /*
                    车型品牌搜索
                */
                brandSearch() {
                    let that = this;
                    that.tableData = [];
                    $.ajax({
                        url: "http://127.0.0.1:8080/carBrand/search",
                        type: "post",
                        data: {
                            searchBrand: that.searchBrand,
                        },
                        xhrFields: {
                            withCredentials: true
                        },
                        crossDomain: true,
                        dataType: "json",
                        success: function (result) {
                            handlerResult(result, () => {
                                that.carData = result.data;
                                if (that.carData.length > 0 && result.data != null) {
                                    that.$refs.xTable2.setCurrentRow(that.carData[0]);
                                    let carId = that.$refs.xTable2.getCurrentRecord().carId;
                                    that.findCarType(carId);
                                    console.log("Dbbbb")

                                }
                            });
                        }
                    });
                },
                /*
                    车型增加保存按钮 校验表单内输入的内容
                */
                checkCarTypeForm() {
                    let bool = true;
                    if (this.carType.carId == null || this.carType.carId == "") {
                        this.arrayCarType[0] = true;
                        this.tempCarBrand.istrue = true;
                        bool = false;
                    }
                    if (this.carType.carName == null || this.carType.carName == "") {
                        this.arrayCarType[1] = true;
                        this.tempCarBrand.istrue = true;
                        bool = false;
                    }
                    if (this.carType.sid == null || this.carType.sid == "") {
                        this.arrayCarType[2] = true;
                        this.tempCarBrand.istrue = true;
                        bool = false;
                    }
                    if (this.carType.engineName == 0) {
                        this.arrayCarType[3] = true;
                        this.tempCarBrand.istrue = true;
                        bool = false;
                    }
                    if (bool) this.addCarTypeFile();
                    // //验证通过调用新增方法
                },
                //车型品牌删除时模态框
                clickBrandRemove() {
                    let json = JSON.stringify(this.$refs.xTable2.getCurrentRecord());
                    if (json != "null" || json.length == 0) {
                        $("#myModal7").modal("show");
                    }
                },
                //品牌新增模态框
                toInsCarBrand() {
                    this.forArr();
                    $("#myModal5").modal("show");
                },
                //品牌修改
                toUpdCarBrand() {
                    this.carBrand.beforeId = null;
                    this.forArr();
                    let json = JSON.stringify(this.$refs.xTable2.getCurrentRecord());
                    if (json != "null" || json.length == 0) {
                        this.carBrand = JSON.parse(json);
                        this.carBrand.beforeId = this.carBrand.carId;
                        $("#myModal6").modal("show");
                    }
                },
                /*
                    增加车型
                */
                clickCarType() {
                    this.findDomestic();
                    this.findCarBrand();
                    this.forArrCarType();
                    //获取车型品牌选中行数据
                    let json = JSON.parse(JSON.stringify(this.$refs.xTable2.getCurrentRecord()));
                    this.carType.brandName = json.carId;
                    this.carType.carbrandName = json.carName;
                    $("#myModal1").modal("show");
                },
                /*
                    修改车型
                */
                clickUpdate() {
                    this.findDomestic();
                    this.findCarBrand();
                    this.forArrCarType();
                    if (JSON.stringify(this.$refs.xTable.getCurrentRecord()) != "null") {
                        let json = JSON.stringify(this.$refs.xTable.getCurrentRecord());
                        this.carType = JSON.parse(json);
                        //存储修改前的id
                        this.carType.beforeId = this.carType.carId;
                        //查询车型图片
                        this.findCarIcon(this.carType.carId);
                        this.carData.forEach(item => {
                            if (this.carType.brandName == item.carId) {
                                this.carType.carbrandName = item.carName;
                                return;
                            }
                        })
                        $("#myModel2").modal("show");
                    }
                },
                /*
                    查询车型照片                
                */
                findCarIcon(carId) {
                    let that = this;
                    $.ajax({
                        url: "http://127.0.0.1:8080/carIcon/" + carId,
                        type: "get",
                        xhrFields: {
                            withCredentials: true
                        },
                        crossDomain: true,
                        dataType: "json",
                        success: function (result) {
                            if (result.code == 1000) {
                                if (result.data != null) {
                                    console.log(JSON.stringify(result))
                                    that.imgUrl = result.data.icName;
                                    that.textHide = true;
                                }
                            }
                        }
                    });
                },
                /*
                    指定照片
                */
                show_photo() {
                    if (JSON.stringify(this.$refs.xTable.getCurrentRecord()) == "null") {
                        return false;
                    }
                    $("#myModal4").modal("show");
                    let that = this;
                    $.ajax({
                        url: "http://127.0.0.1:8080/carIcon/" + that.$refs.xTable.getCurrentRecord().carId,
                        type: "get",
                        xhrFields: {
                            withCredentials: true
                        },
                        crossDomain: true,
                        dataType: "json",
                        success: function (result) {
                            if (result.code == 1000) {
                                if (result.data != null) {
                                    that.carIcon = result.data;
                                    that.imgUrl = result.data.icName;
                                    that.textHide = true;
                                }
                            }
                        }
                    });
                },
                /*
                    删除车型
                */
                toremoveCarType() {
                    let that = this;
                    let temp = JSON.parse(that.$refs.xTable.getCurrentRecord());
                    $.ajax({
                        url: "http://127.0.0.1:8080/carType/remove",
                        type: "post",
                        data: { carId: temp.carId },
                        xhrFields: {
                            withCredentials: true
                        },
                        crossDomain: true,
                        dataType: "json",
                        success: function (result) {
                            if (result.code == 1000) {
                                that.findCarType(temp.carId);
                            }
                        }
                    });
                },
                /*
                     点击删除按钮 显示模态框
                */
                removeCarType() {
                    if (JSON.stringify(this.$refs.xTable.getCurrentRecord()) != "null") {
                        $(" #myModal3").modal("show");
                    }
                },
                //清空品牌对象的内容 初始化
                forArr() {
                    this.tempCarBrand.istrue = false;
                    this.carBrand.carId = null;
                    this.carBrand.carName = null;
                    this.carBrand.initial = null;
                    this.carBrand.beforeId = null;
                    this.arrayCar.forEach((value, index) => {
                        Vue.set(this.arrayCar, index, false) //这样就能被vue监控到，更新视图 
                    });
                },
                //循环初始化车型对象
                forArrCarType() {
                    var obj = document.getElementById('fileupload');
                    obj.outerHTML = obj.outerHTML;
                    this.textHide = false;
                    this.tempCarBrand.istrue = false;
                    this.carType.carId = "";
                    this.carType.carName = "";
                    this.carType.importAndDomestic = 1;
                    this.carType.referencePrice = "";
                    this.carType.carStyle = "";
                    this.carType.power = "";
                    this.carType.fuelNumber = "";
                    this.carType.loadbearing = "";
                    this.carType.fuelNumber = "";
                    this.carType.sid = "";
                    this.carType.engineName = 0;
                    this.arrayCarType.forEach((value, index) => {
                        Vue.set(this.arrayCarType, index, false) //这样就能被vue监控到，更新视图 
                    });
                },
                //新增时保存
                InsSave(index) {
                    this.tempCarBrand.message = "红色边框内为必填项";
                    let bool = true;
                    if (this.carBrand.carId == null || this.carBrand.carId == "") {
                        this.arrayCar[0] = true;
                        this.tempCarBrand.istrue = true;
                        bool = false;
                    }
                    if (this.carBrand.carName == null || this.carBrand.carName == "") {
                        this.arrayCar[1] = true;
                        this.tempCarBrand.istrue = true;
                        bool = false;
                    }
                    if (this.carBrand.initial == null || this.carBrand.initial == "") {
                        this.arrayCar[2] = true;
                        this.tempCarBrand.istrue = true;
                        bool = false;
                    }
                    if (bool) {
                        index == 0 ? this.brandIns() : this.brandUpd();
                    }
                },
                clickInput(index) {
                    Vue.set(this.arrayCar, index, false) //这样就能被vue监控到，更新视图 
                },
                clickTyepInput(index) {
                    Vue.set(this.arrayCarType, index, false) //这样就能被vue监控到，更新视图 
                }
            },
            created() {
                this.find();
            },
            watch: {

            }
        };
        var Ctor = Vue.extend(Main);
        new Ctor().$mount('.container-fluid')
    </script>
</body>

</html>